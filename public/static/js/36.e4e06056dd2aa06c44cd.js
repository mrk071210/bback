webpackJsonp([36],{Pw0A:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{width:"600px",title:"菜单授权",visible:e.isVisible},on:{close:e.cancel}},[n("div",{staticClass:"tree-content"},[n("el-tree",{ref:"tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"show-checkbox":!0,"default-checked-keys":e.checkedNodes,"default-expanded-keys":e.expandNodes},on:{check:e.handleCheckNode}})],1),e._v(" "),n("template",{staticClass:"flex-right",slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],2)},staticRenderFns:[]}},bpT1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("OvRC"),a=n.n(i),r=n("BO1k"),s=n.n(r),o=n("QPLA"),c=n("baPR"),l={name:"RoleMenuRes",data:function(){return{isVisible:!1,treeData:[],originalTreeData:null,checkedNodes:[],expandNodes:[],defaultProps:{label:"name"}}},props:{show:{type:Boolean,required:!0},roleData:{type:Object,required:!0}},watch:{show:function(e){e&&this.initLineTree(),this.isVisible=e}},methods:{initLineTree:function(){var e=this,t=this.roleData.roleUuid;Object(c.f)({roleParentId:t}).then(function(t){e.originalTreeData=t,e.treeData=Object(o.a)(t);var n=[],i=[];t.forEach(function(t){""===t.pId&&e.expandNodes.push(t.id),!0===t.checked&&n.push(t)});var a=e.getOnlyChildrenNodes(n),r=!0,c=!1,l=void 0;try{for(var d,u=s()(a);!(r=(d=u.next()).done);r=!0){var h=d.value;i.push(h.id)}}catch(e){c=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(c)throw l}}e.$refs.tree.setCheckedKeys(i)}).then(function(){})},getOnlyChildrenNodes:function(e){return e.filter(function(e){return!e.children||!e.children.length})},handleCheckNode:function(e,t,n){var i=this.$refs.tree.getCheckedKeys(),a=this.$refs.tree.getHalfCheckedKeys(),r=i.concat(a);this.checkedNodes=r},save:function(){var e=this,t={roleResourceRoleId:this.roleData.roleUuid,roleResourceResourceId:this.checkedNodes.join(",")};Object(c.i)(t).then(function(t){e.$message({message:"菜单授权成功!",type:"success"}),e.$emit("updateList"),e.cancel()})},cancel:function(){this.$emit("update:show",!1),this.$emit("update:roleData",a()(null)),this.isVisible=!1}}},d=n("Pw0A"),u=n.n(d);var h=function(e){n("f6XD")},f=n("VU/8")(l,u.a,!1,h,"data-v-1a5e9006",null);t.default=f.exports},f6XD:function(e,t){}});
//# sourceMappingURL=36.e4e06056dd2aa06c44cd.js.map