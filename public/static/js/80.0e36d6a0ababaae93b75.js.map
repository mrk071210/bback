{"version":3,"sources":["webpack:///./source/admin/src/views/Dashboard/Components/charts-gantt.vue?09a1","webpack:///source/admin/src/views/Dashboard/Components/charts-gantt.vue","webpack:///./source/admin/src/views/Dashboard/Components/charts-gantt.vue"],"names":["module","exports","render","_h","this","$createElement","_self","_c","ref","attrs","options","option","staticRenderFns","charts_gantt","name","mounted","selfAdaption","data","endDate","startDate","color","tooltip","trigger","axisPointer","type","formatter","params","legend","grid","left","right","bottom","containLabel","yAxis","show","splitLine","xAxis","dataZoom","id","yAxisIndex","filterMode","series","stack","barMaxWidth","itemStyle","normal","barBorderColor","emphasis","label","position","props","getSeries","Array","watch","newVal","_this2","length","map","item","push","productName","receiveDate","moment_default","format","Date","console","log","diff","dataIndex","components","CommonWrapper","commonWrapper","chart","ECharts","methods","_this","setTimeout","window","addEventListener","$refs","echartsWaybill","resize","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","charts_gantt_default","a","__webpack_exports__"],"mappings":"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","file":"static/js/80.0e36d6a0ababaae93b75.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('chart',{ref:\"echartsWaybill\",attrs:{\"options\":_vm.option}})}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-633d2d84\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Dashboard/Components/charts-gantt.vue\n// module id = C86N\n// module chunks = 3 80","<template>\r\n  <chart :options=\"option\" ref=\"echartsWaybill\"/>\r\n</template>\r\n\r\n<script>\r\n  import CommonWrapper from '@/components/commonWrapper'\r\n  import ECharts from 'vue-echarts/components/ECharts'\r\n  import 'echarts/lib/chart/line'\r\n  import 'echarts/lib/chart/bar'\r\n  import 'echarts/lib/chart/pie'\r\n  import 'echarts/lib/component/polar'\r\n  import 'echarts/lib/component/tooltip'\r\n  import 'echarts/lib/component/legend'\r\n  import 'echarts/lib/component/title'\r\n  import 'echarts/lib/component/dataZoom'\r\n  import moment from 'moment'\r\n\r\n  export default {\r\n    name: 'echartsWaybill',\r\n    mounted () {\r\n          this.selfAdaption ()\r\n    },\r\n    data () {\r\n      return {\r\n        endDate:[],\r\n        startDate:[],\r\n        option: {\r\n            color: ['#3EAFF7','#F5B366','#4FDAD2','#F3D38C','#C9F0F4'],\r\n            tooltip : {\r\n                trigger: 'axis',\r\n                axisPointer : {            // 坐标轴指示器，坐标轴触发有效\r\n                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n                },\r\n                formatter:  (params) => {\r\n                  // console.log(params)\r\n                  //   // return '积压时间:' +  Number(params[1].value - params[0].value)   + '天' ;\r\n                  //   console.log(new Date(params[1].value),\"111\",new Date(params[0].value))\r\n                  //   console.log(this,startDate,this.endDate,params[1].value,params[0].value)\r\n                  //   console.log(moment(new Date(params[1].value)).diff(new Date(params[0].value),'days',true))\r\n                  //   console.log(\"2\",Number(moment(new Date(params[1].value)).diff(new Date(params[0].value),'days',true)).toFixed(2))\r\n                  //   return params[1].name + '</br>' + '积压时间:' + (Number(moment(new Date(this.startDate[params[1].dataIndex])).diff(new Date( this.startDate[params[0].dataIndex]),'days',true))).toFixed(2)  + '天' ;\r\n                }\r\n            },\r\n            legend: {\r\n                data:['收入']\r\n            },\r\n            grid: {\r\n                left: '3%',\r\n                right: '4%',\r\n                bottom: '3%',\r\n                containLabel: true\r\n            },\r\n            yAxis: {\r\n                type : 'category',\r\n                show:false,\r\n                splitLine: {show:false},\r\n                data :  []\r\n            },\r\n            xAxis: {\r\n                type : 'value',\r\n                show:false,\r\n                // axisLabel: {\r\n                //         formatter:(val)=>{\r\n                //           console.log(val,Number(moment(val).diff(new Date(),'days',true)).toFixed(2) + '天')\r\n                //           return Number(moment(val).diff(new Date(),'days',true)).toFixed(2) + '天'\r\n                //         }\r\n                // }\r\n            },\r\n            dataZoom: [\r\n                  {\r\n                    show:false,\r\n                    id: 'dataZoomY',\r\n                    type: 'slider',\r\n                    left:'85',\r\n                    yAxisIndex: [0],\r\n                    filterMode: 'filter'\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: '辅助',\r\n                    type: 'bar',\r\n                    stack: '总量',\r\n                    barMaxWidth:'30',\r\n                    itemStyle: {\r\n                        normal: {\r\n                            barBorderColor: 'rgba(0,0,0,0)',\r\n                            color: 'rgba(0,0,0,0)'\r\n                        },\r\n                        emphasis: {\r\n                            barBorderColor: 'rgba(0,0,0,0)',\r\n                            color: 'rgba(0,0,0,0)'\r\n                        }\r\n                    },\r\n                    label: {\r\n                      normal: {\r\n                          show: true,\r\n                          position: ['70%', '30%'],\r\n                          color:'red'\r\n                      }\r\n                    },\r\n                    data:[0]\r\n                    // data: [0, 900, 1245, 1530, 1376, 1376, 1511, 1689, 1856, 1495, 1292]\r\n                },\r\n                {\r\n                    name: '积压时间',\r\n                    type: 'bar',\r\n                    stack: '总量',\r\n                    barMaxWidth:'30',\r\n                    color: '#3EAFF7',\r\n                    label: {\r\n                        normal: {\r\n                            show: true,\r\n                            position: 'right'\r\n                        }\r\n                    },\r\n                    data:[900]\r\n                    // data: [900, 345, 393, '-', '-', 135, 178, 286, '-', '-', '-']\r\n                }\r\n            ]\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      getSeries: {\r\n        type: Array\r\n      }\r\n    },\r\n    watch: {\r\n      getSeries(newVal) {\r\n        if(newVal && newVal.length > 0){\r\n          this.option.legend.data = []\r\n          this.option.series[0].data = []\r\n          this.option.series[1].data = []\r\n          this.option.yAxis.data = []\r\n          this.endDate = []\r\n          this.startDate = []\r\n          // this.option.xAxis.data = []\r\n          // this.option.xAxis.show = true\r\n          this.option.yAxis.show = true\r\n          if(newVal.length >= 6){\r\n            this.option.dataZoom[0].show = true ;\r\n          }else{\r\n            this.option.dataZoom[0].show = false ;\r\n          }\r\n          newVal.map(item =>{\r\n            this.option.yAxis.data.push(item.productName)\r\n            this.option.series[0].data.push(item.receiveDate ? moment(item.receiveDate).format('YYYYMMDD') : moment(new Date()).format('YYYYMMDD'))\r\n            this.startDate.push(item.receiveDate ? moment(item.receiveDate).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'))\r\n            this.endDate.push(item.endDate ? moment(item.endDate).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'))\r\n            this.option.series[1].data.push(item.endDate ? moment(item.endDate).format('YYYYMMDD') : moment(new Date()).format('YYYYMMDD'))\r\n            // this.option.series[0].data.push(item.receiveDate ? moment(item.receiveDate).unix() : moment(new Date()).unix())\r\n            // this.option.series[1].data.push(item.endDate ? moment(item.endDate).unix() : moment(new Date()).unix() )\r\n            // this.option.xAxis.data.push(parseInt(moment(item.endDate ? item.endDate : new Date()  ).diff(item.receiveDate,'days',true)))\r\n          })\r\n          // this.option.xAxis.data = [...this.option.series[0].data,...this.option.series[1].data]\r\n          // this.option.xAxis.data = [20181018,20181205]\r\n          console.log(this.option.series[0].data,this.option.series[1].data)\r\n          this.option.tooltip.formatter = (params) =>{\r\n            console.log(\"1111\",moment(this.endDate[0]).diff(moment(this.startDate[0]), 'days'))\r\n            console.log(this.startDate,this.endDate, (moment(new Date(this.startDate[params[1].dataIndex])).diff(new Date( this.startDate[params[0].dataIndex]),'days',true)) )\r\n              return params[1].name + '</br>' + '积压时间:' + moment(this.endDate[params[1].dataIndex]).diff(moment(this.startDate[params[0].dataIndex]), 'days')  + '天' ;\r\n          }\r\n        }else{\r\n          this.option.series[0].data = []\r\n          this.option.series[1].data = []\r\n          this.option.yAxis.data = []\r\n          // this.option.xAxis.data = []\r\n          // this.option.xAxis.show = false\r\n          this.endDate = []\r\n          this.startDate = []\r\n          this.option.yAxis.show = false\r\n          this.option.dataZoom[0].show = false ;\r\n        }\r\n      }\r\n    },\r\n    components: { CommonWrapper, chart: ECharts },\r\n    methods:{\r\n      selfAdaption ()  {\r\n        let _this = this ;\r\n        setTimeout(() => {\r\n            window.addEventListener('resize', function () {\r\n                _this.$refs.echartsWaybill.resize();\r\n            })\r\n          }, 10)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Dashboard/Components/charts-gantt.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-633d2d84\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./charts-gantt.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./charts-gantt.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./charts-gantt.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-633d2d84\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./charts-gantt.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-633d2d84\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Dashboard/Components/charts-gantt.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}