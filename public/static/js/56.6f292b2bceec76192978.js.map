{"version":3,"sources":["webpack:///./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue?a4f9","webpack:///source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue","webpack:///./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","width","title","isCreate","visible","isVisible","on","update:visible","$event","close","cancel","staticClass","ref","inline","model","dicForm","rules","dicFormRules","disabled","isFormDisabled","label-width","_e","span","label","prop","value","callback","$$v","$set","expression","_v","readonly","type","click","save","staticRenderFns","initFormState","dicName","dicUuid","dicNumber","dicPid","dicPname","DicUpdate","name","data","showDetailMode","assign_default","required","message","trigger","max","props","show","Boolean","default","nodeData","Object","mounted","watch","isShow","setToCreateState","setToEditState","methods","id","$message","_this","params","systemparams","then","res","_this2","$refs","validate","isValid","submitType","submitText","error","$emit","resetFields","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","DicUpdate_default","a","__webpack_exports__"],"mappings":"wCAEAA,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,OAAOC,MAAA,QAAAC,OAAAR,EAAAS,SAAA,kBAAAC,QAAAV,EAAAW,WAAkFC,IAAKC,iBAAA,SAAAC,GAAkCd,EAAAW,UAAAG,GAAqBC,MAAAf,EAAAgB,UAAqBZ,EAAA,OAAYa,YAAA,aAAuBb,EAAA,WAAgBc,IAAA,UAAAZ,OAAqBa,QAAA,EAAAC,MAAApB,EAAAqB,QAAAC,MAAAtB,EAAAuB,aAAAC,SAAAxB,EAAAyB,eAAAC,cAAA,WAAgHtB,EAAA,UAAAJ,EAAAS,SAAmST,EAAA2B,KAAnSvB,EAAA,UAA4CE,OAAOsB,KAAA,MAAWxB,EAAA,gBAAqBE,OAAOuB,MAAA,OAAAC,KAAA,aAAiC1B,EAAA,YAAiBE,OAAOkB,SAAA,IAAcJ,OAAQW,MAAA/B,EAAAqB,QAAA,QAAAW,SAAA,SAAAC,GAAqDjC,EAAAkC,KAAAlC,EAAAqB,QAAA,UAAAY,IAAsCE,WAAA,sBAA+B,WAAAnC,EAAAoC,GAAA,KAAAhC,EAAA,UAAAA,EAAA,UAA6DE,OAAOsB,KAAA,MAAWxB,EAAA,gBAAqBE,OAAOuB,MAAA,OAAAC,KAAA,eAAmC1B,EAAA,YAAiBgB,OAAOW,MAAA/B,EAAAqB,QAAA,UAAAW,SAAA,SAAAC,GAAuDjC,EAAAkC,KAAAlC,EAAAqB,QAAA,YAAAY,IAAwCE,WAAA,wBAAiC,WAAAnC,EAAAoC,GAAA,KAAAhC,EAAA,UAAAA,EAAA,UAAoDE,OAAOsB,KAAA,MAAWxB,EAAA,gBAAqBE,OAAOuB,MAAA,SAAAC,KAAA,aAAmC1B,EAAA,YAAiBgB,OAAOW,MAAA/B,EAAAqB,QAAA,QAAAW,SAAA,SAAAC,GAAqDjC,EAAAkC,KAAAlC,EAAAqB,QAAA,UAAAY,IAAsCE,WAAA,sBAA+B,WAAAnC,EAAAoC,GAAA,KAAAhC,EAAA,UAAAA,EAAA,UAAoDE,OAAOsB,KAAA,MAAWxB,EAAA,gBAAqBE,OAAOuB,MAAA,MAAAC,KAAA,cAAiC1B,EAAA,YAAiBE,OAAO+B,UAAA,GAAgBjB,OAAQW,MAAA/B,EAAAqB,QAAA,SAAAW,SAAA,SAAAC,GAAsDjC,EAAAkC,KAAAlC,EAAAqB,QAAA,WAAAY,IAAuCE,WAAA,uBAAgC,WAAAnC,EAAAoC,GAAA,KAAAhC,EAAA,UAAAA,EAAA,UAAoDa,YAAA,aAAAX,OAAgCsB,KAAA,MAAWxB,EAAA,aAAkBE,OAAOgC,KAAA,WAAiB1B,IAAK2B,MAAAvC,EAAAwC,QAAkBxC,EAAAoC,GAAA,QAAApC,EAAAoC,GAAA,KAAAhC,EAAA,aAA6CQ,IAAI2B,MAAAvC,EAAAgB,UAAoBhB,EAAAoC,GAAA,2BAErzDK,8KCsFlBC,GACAC,QAAA,GACAC,QAAA,GACAC,UAAA,GACAC,OAAA,GACAC,SAAA,IAGAC,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,gBAAA,EACAxC,WAAA,EACAc,gBAAA,EACAJ,QAAA+B,OAAAV,GACAnB,cACAoB,UACAU,UAAA,EAAAC,QAAA,YAAAC,QAAA,WACAC,IAAA,GAAAF,QAAA,YAAAC,QAAA,WAEAV,YACAQ,UAAA,EAAAC,QAAA,UAAAC,QAAA,WACAC,IAAA,GAAAF,QAAA,YAAAC,QAAA,cAKAE,OACAC,MACApB,KAAAqB,QACAN,UAAA,EACAO,SAAA,GAEAC,UACAvB,KAAAwB,OACAT,UAAA,GAEA5C,UACA6B,KAAAqB,QACAN,UAAA,IAGAU,QAnCA,aAqCAC,OACAN,KADA,SACAO,GACAA,IAGAhE,KAAAQ,SACAR,KAAAiE,mBAGAjE,KAAAkE,kBAKAlE,KAAAU,UAAAsD,IAGAG,SACAF,iBADA,WAEAjE,KAAA4D,UAEA5D,KAAAoB,QAAA+B,OAAAV,GACAzC,KAAAoB,QAAA0B,SAAA9C,KAAA4D,SAAAZ,KACAhD,KAAAoB,QAAAyB,OAAA7C,KAAA4D,SAAAQ,KAEApE,KAAAqE,UACAhB,QAAA,wBACAhB,KAAA,UAEArC,KAAAwB,gBAAA,IAGA0C,eAfA,WAeA,IAAAI,EAAAtE,KACAuE,GACA5B,QAAA3C,KAAA4D,SAAAQ,IAEMP,OAAAW,EAAA,EAAAX,CAANU,GAAAE,KAAA,SAAAC,GACAJ,EAAAlD,QAAA+B,OAAAuB,MAGAnC,KAvBA,WAuBA,IAAAoC,EAAA3E,KACAA,KAAA4E,MAAAxD,QAAAyD,SAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAC,EAAAJ,EAAAnE,SAAAgE,EAAA,EAAAA,EAAA,EACAQ,EAAAL,EAAAnE,SAAA,UACAuE,EAAAJ,EAAAvD,SAAAqD,KAAA,SAAAC,GACAA,EAAAO,QACAN,EAAAN,UACAhB,QAAA2B,EAAA,MACA3C,KAAA,YAGAsC,EAAAO,MAAA,cACAP,EAAA5D,gBAMAA,OA1CA,WA2CAf,KAAAU,WAAA,EACAV,KAAAkF,MAAA,kBACAlF,KAAAoB,QAAA+B,OAAAV,GACAzC,KAAA4E,MAAAxD,QAAA+D,sCCjMA,IASAC,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACEzC,EACA0C,EAAAC,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB","file":"static/js/56.6f292b2bceec76192978.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"400px\",\"title\":(_vm.isCreate ? '新增':'编辑')+'字典管理',\"visible\":_vm.isVisible},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('div',{staticClass:\"org-form\"},[_c('el-form',{ref:\"dicForm\",attrs:{\"inline\":true,\"model\":_vm.dicForm,\"rules\":_vm.dicFormRules,\"disabled\":_vm.isFormDisabled,\"label-width\":\"120px\"}},[_c('el-row',[(!_vm.isCreate)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典ID\",\"prop\":\"dicUuid\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dicForm.dicUuid),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicUuid\", $$v)},expression:\"dicForm.dicUuid\"}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典编码\",\"prop\":\"dicNumber\"}},[_c('el-input',{model:{value:(_vm.dicForm.dicNumber),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicNumber\", $$v)},expression:\"dicForm.dicNumber\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典中文名称\",\"prop\":\"dicName\"}},[_c('el-input',{model:{value:(_vm.dicForm.dicName),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicName\", $$v)},expression:\"dicForm.dicName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"父节点\",\"prop\":\"dicPname\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.dicForm.dicPname),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicPname\", $$v)},expression:\"dicForm.dicPname\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"flex-right\",attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-aacee8f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue\n// module id = 2KAC\n// module chunks = 14 56","<template>\r\n    <el-dialog\r\n    width=\"400px\"\r\n    :title=\"(isCreate ? '新增':'编辑')+'字典管理'\"\r\n    :visible.sync=\"isVisible\"\r\n    @close=\"cancel\"\r\n    >\r\n        <div class=\"org-form\">\r\n            <el-form :inline=\"true\" ref=\"dicForm\" :model=\"dicForm\" :rules=\"dicFormRules\" :disabled=\"isFormDisabled\" label-width=\"120px\">\r\n                <el-row>\r\n                    <el-col v-if=\"!isCreate\" :span=\"24\">\r\n                        <el-form-item label=\"字典ID\" prop=\"dicUuid\">\r\n                            <el-input disabled v-model=\"dicForm.dicUuid\" />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"字典编码\" prop=\"dicNumber\">\r\n                            <el-input v-model=\"dicForm.dicNumber\" />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                  <el-col :span=\"24\">\r\n                        <el-form-item label=\"字典中文名称\" prop=\"dicName\">\r\n                            <el-input v-model=\"dicForm.dicName\" />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"父节点\" prop=\"dicPname\">\r\n                            <el-input v-model=\"dicForm.dicPname\" :readonly=\"true\" />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <!-- <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"显示顺序\" prop=\"orgSortIndex\">\r\n                            <el-input v-entity=\"dicForm.orgSortIndex\" />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"状态\" prop=\"orgEnabled\">\r\n                            <el-radio-group v-entity=\"dicForm.orgEnabled\" >\r\n                                <el-radio :label=\"1\">启用</el-radio>\r\n                                <el-radio :label=\"0\">禁用</el-radio>\r\n                            </el-radio-group>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"机构描述\" prop=\"orgDesc\" style=\"width:100%\">\r\n                            <el-input type=\"textarea\"\r\n                                style=\"width:495px\"\r\n                                v-entity=\"dicForm.orgDesc\"\r\n                                :rows=\"5\"\r\n                                placeholder=\"填写机构描述\"\r\n                            />\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row> -->\r\n                <el-row>\r\n                    <el-col :span=\"24\" class=\"flex-right\">\r\n                        <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n                        <el-button @click=\"cancel\">取消</el-button>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-form>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n<script>\r\n/**\r\n * Dic Detail Component\r\n * ----------------------\r\n * Author: Calamus\r\n * Date: 2018.09.03\r\n */\r\nimport Validator from '@/utils/extendValidate/extendValidate'\r\n// api\r\nimport { getDicDetail,createDicNode, updateDicNode } from '@/api/systemparams'\r\n\r\n\r\n\r\n// init Form Data\r\nconst initFormState = {\r\n  dicName: '',\r\n  dicUuid: '',\r\n  dicNumber: '',\r\n  dicPid: '',\r\n  dicPname:''\r\n}\r\n\r\nexport default {\r\n  name: 'DicUpdate',\r\n  data () {\r\n    return {\r\n      showDetailMode: true,\r\n      isVisible: false,\r\n      isFormDisabled: false,\r\n      dicForm: Object.assign({}, initFormState),\r\n      dicFormRules: {\r\n        dicName: [\r\n          {required: true, message: '请填写字典中文名称', trigger: 'change'},\r\n          {max: 30, message: '最大长度为30字符', trigger: 'change'}\r\n        ],\r\n        dicNumber: [\r\n          {required: true, message: '请填写字典编号', trigger: 'change'},\r\n          {max: 30, message: '最大长度为30字符', trigger: 'change'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true,\r\n      default: false\r\n    },\r\n    nodeData: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isCreate: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  watch: {\r\n    show (isShow) {\r\n      if (isShow) {\r\n\r\n        // 新增\r\n        if (this.isCreate) {\r\n          this.setToCreateState()\r\n        // 编辑\r\n        } else {\r\n          this.setToEditState()\r\n        }\r\n      }\r\n\r\n      // 设置窗口显示状态\r\n      this.isVisible = isShow\r\n    }\r\n  },\r\n  methods: {\r\n    setToCreateState () {\r\n      const parentNode = this.nodeData\r\n      if (parentNode) {\r\n        this.dicForm = Object.assign({}, initFormState)\r\n        this.dicForm.dicPname = this.nodeData.name\r\n        this.dicForm.dicPid = this.nodeData.id\r\n      } else {\r\n        this.$message({\r\n          message: '未找到父节点,无法在此情况下创建组织结构.',\r\n          type: 'error'\r\n        })\r\n        this.isFormDisabled = true\r\n      }\r\n    },\r\n    setToEditState () {\r\n      const params = {\r\n        dicUuid: this.nodeData.id\r\n      }\r\n      getDicDetail(params).then(res => {\r\n        this.dicForm = Object.assign({}, res)\r\n      })\r\n    },\r\n    save () {\r\n      this.$refs.dicForm.validate(isValid => {\r\n        if (isValid) {\r\n          const submitType = this.isCreate ? createDicNode : updateDicNode\r\n          const submitText = this.isCreate ? '新增' : '修改'\r\n          submitType(this.dicForm).then(res => {\r\n            if (!res.error) {\r\n              this.$message({\r\n                message: `${submitText}成功!`,\r\n                type: 'success'\r\n              })\r\n              // 重新读取tree\r\n              this.$emit('updateTree')\r\n              this.cancel()\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cancel () {\r\n      this.isVisible = false\r\n      this.$emit('update:show', false)\r\n      this.dicForm = Object.assign({}, initFormState)\r\n      this.$refs.dicForm.resetFields()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.org-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .org-form{\r\n        width:80%;\r\n        max-width:1000px;\r\n        min-width:600px;\r\n        margin:10px;\r\n        padding:10px;\r\n        border:1px solid $base-light-color;\r\n        border-radius:8px;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aacee8f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./DicUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./DicUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./DicUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aacee8f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./DicUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aacee8f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}