{"version":3,"sources":["webpack:///./source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue?0f4d","webpack:///source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","width","title","visible","isVisible","close-on-click-modal","close-on-press-escape","lock-scroll","on","update:visible","$event","close","cancel","flex","slot","directives","name","rawName","value","expression","ref","height","stripe","border","tooltip-effect","highlight-current-row","data","tableData","prop","label","min-width","_v","show-overflow-tooltip","show-tooltip-when-overflow","formatter","formatDate","staticRenderFns","stockDetail","components","CommonWrapper","commonWrapper","CommonTable","commonTable","id","isListLoading","pagination","pageNum","pageSize","total","props","show","type","Boolean","default","modifyUser","Object","searchData","watch","isShow","user","formData","create_default","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","entries_default","next","done","_ref","_ref2","slicedToArray_default","key","userForm","err","return","userUuid","assign_default","res","console","log","getDetail","methods","changePage","$emit","params","_this","warehouse","then","row","receiveDate","moment_default","utcOffset","format","formatMinute","productRetainTime","minute","Number","split","Math","floor","toString","length","Component","__webpack_require__","normalizeComponent","stockDetail_default","a","__webpack_exports__"],"mappings":"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","file":"static/js/133.28c300f53a92550ba9cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"90%\",\"title\":\"库存详情\",\"visible\":_vm.isVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"lock-scroll\":true},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('common-wrapper',[_c('common-table',{attrs:{\"flex\":350}},[_c('template',{slot:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isListLoading),expression:\"isListLoading\"}],ref:\"DetailTable\",attrs:{\"height\":\"100%\",\"stripe\":\"\",\"border\":true,\"tooltip-effect\":\"light\",\"highlight-current-row\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"productMerchant\",\"label\":\"商户\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productBrand\",\"label\":\"品牌\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"货品名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productItemName\",\"label\":\"子件名\",\"show-overflow-tooltip\":true,\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productModel\",\"label\":\"型号\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productColor\",\"label\":\"颜色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productStandard\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storageName\",\"label\":\"库位\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productRemarks\",\"label\":\"备注\",\"min-width\":\"120\",\"show-tooltip-when-overflow\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"receiveDate\",\"label\":\"入库时间\",\"formatter\":_vm.formatDate,\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productRetainTime\",\"label\":\"货物存货时间\",\"width\":\"120\"}})],1)],1)],2)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-249d665b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue\n// module id = La5t\n// module chunks = 24 133","<template>\r\n    <el-dialog\r\n    width=\"90%\"\r\n    title=\"库存详情\"\r\n    :visible.sync=\"isVisible\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"cancel\"\r\n    :lock-scroll=\"true\"\r\n    >\r\n            <common-wrapper>\r\n              <common-table :flex=\"350\">\r\n                <template slot=\"table\">\r\n                  <el-table\r\n                    ref=\"DetailTable\"\r\n                    height=\"100%\"\r\n                    stripe\r\n                    :border=\"true\"\r\n                    tooltip-effect=\"light\"\r\n                    highlight-current-row\r\n                    v-loading=\"isListLoading\"\r\n                    :data=\"tableData\">\r\n                      <el-table-column prop=\"productMerchant\" label=\"商户\"  min-width=\"120\"></el-table-column>\r\n                      <el-table-column prop=\"productBrand\" label=\"品牌\"></el-table-column>\r\n                      <el-table-column prop=\"name\" label=\"货品名称\" min-width=\"120\" ></el-table-column>\r\n                      <el-table-column prop=\"productItemName\" label=\"子件名\" :show-overflow-tooltip=\"true\" min-width=\"120\"></el-table-column>\r\n                      <el-table-column prop=\"productModel\" label=\"型号\" min-width=\"120\"></el-table-column>\r\n                      <el-table-column prop=\"productColor\" label=\"颜色\"></el-table-column>\r\n                      <!--<el-table-column prop=\"productMain\" label=\"货品类型\"></el-table-column>-->\r\n                      <!--<el-table-column prop=\"productCount\" label=\"包装数\"></el-table-column>-->\r\n                      <!--<el-table-column prop=\"productItemNum\" label=\"子件数\"></el-table-column>-->\r\n                    <el-table-column prop=\"productStandard\" label=\"规格\"></el-table-column>\r\n                    <el-table-column prop=\"storageName\" label=\"库位\"></el-table-column>\r\n                     <el-table-column prop=\"productRemarks\" label=\"备注\" min-width=\"120\" :show-tooltip-when-overflow=\"true\"></el-table-column>\r\n                      <el-table-column prop=\"receiveDate\" label=\"入库时间\" :formatter=\"formatDate\"  width=\"150\"></el-table-column>\r\n                      <el-table-column prop=\"productRetainTime\" label=\"货物存货时间\" width=\"120\"></el-table-column>\r\n                  </el-table>\r\n                </template>\r\n                <!-- <template slot=\"pagination\">\r\n                  <el-pagination   background   layout=\"total, prev, pager, next\"\r\n                      :current-page.sync=\"pagination.pageNum\"\r\n                      :page-size=\"pagination.pageSize\"\r\n                      :total=\"pagination.total\"\r\n                      @current-change=\"changePage\"\r\n                      >\r\n                  </el-pagination>\r\n                </template> -->\r\n              </common-table>\r\n            </common-wrapper>\r\n\r\n    </el-dialog>\r\n</template>\r\n<script>\r\n/**\r\n * Stock Management Detail Component\r\n * ----------------------\r\n * Author: Calamus\r\n * Date: 2018.09.06\r\n */\r\n\r\nimport moment from 'moment'\r\n\r\n// api\r\nimport { stockManagementDetail, stockManagementList } from '@/api/warehouse'\r\nimport CommonWrapper from '@/components/commonWrapper'\r\nimport CommonTable from '@/components/commonTable'\r\n\r\nexport default {\r\n  name: 'StockDetail',\r\n  components: {\r\n    CommonWrapper,\r\n    CommonTable\r\n  },\r\n  data () {\r\n    return {\r\n      isVisible: false,\r\n      id: '',\r\n      tableData: [],\r\n      isListLoading: false,\r\n      pagination: { // 翻页数据\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    modifyUser: {\r\n      type: Object\r\n    },\r\n    searchData: {\r\n      type: Object\r\n    }\r\n  },\r\n  watch: {\r\n    show (isShow) {\r\n      this.isVisible = isShow\r\n    },\r\n    modifyUser (user) {\r\n      // 显示对话框后,如果为编辑状态(有用户数据传入),则合并表单数据\r\n      // console.log('user', user)\r\n      if (user) {\r\n        const formData = Object.create(null)\r\n        for (let [key, value] of Object.entries(user)) {\r\n          if (this.userForm[key] !== undefined) formData[key] = value\r\n        }\r\n        this.userForm.userUuid = user.userUuid\r\n        this.userForm = Object.assign({}, this.userForm, formData)\r\n      }\r\n    },\r\n    searchData (res) {\r\n      console.log('res', res)\r\n      this.isListLoading = true\r\n      // const params = Object.create(null),\r\n      if (res) {\r\n        this.getDetail(res)\r\n      } else {\r\n        console.log('resnull')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 列表翻页\r\n    changePage (pageNum) {\r\n      this.pagination.pageNum = pageNum\r\n      this.getDetail(this.searchData)\r\n    },\r\n    cancel () {\r\n      this.isVisible = false\r\n      this.$emit('update:show', false)\r\n      this.$emit('update:searchData', null)\r\n    },\r\n    getDetail (params) {\r\n      stockManagementDetail(params).then(res => {\r\n        this.tableData = res\r\n        // this.pagination.total = res.total\r\n        this.isListLoading = false\r\n      })\r\n    },\r\n    // 列表日期格式化\r\n    formatDate (row) {\r\n      if (row.receiveDate) { return moment(row.receiveDate).utcOffset(8).format('YYYY-MM-DD HH:mm:ss') }\r\n    },\r\n    // 分钟格式化\r\n    formatMinute (row) {\r\n      if (row.productRetainTime) {\r\n        let minute = Number(row.productRetainTime.split('分')[0])\r\n        return ((Math.floor(minute / 60)).toString().length < 2 ? '0' + (Math.floor(minute / 60)).toString()\r\n          : (Math.floor(minute / 60)).toString()) + ':' + ((minute % 60).toString().length < 2 ? '0' + (minute % 60).toString() : (minute % 60).toString())\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue","var normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stockDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./stockDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-249d665b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./stockDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/stockManagement/Components/stockDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}