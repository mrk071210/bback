webpackJsonp([35],{EGDi:function(e,r){},Fb61:function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=o("woOf"),a=o.n(t),s=o("uTPb"),i=o("4+6g"),l=o("KWYu"),n={orgName:"",orgShortName:"",orgType:"",orgParentName:"",orgParentUuid:"",orgSortIndex:"1",orgEnabled:1,orgDesc:""},g={name:"OrgUpdate",data:function(){return{showDetailMode:!0,isVisible:!1,isFormDisabled:!1,organization:[],orgForm:a()({},n),orgFormRules:{orgName:[{required:!0,message:"请填写机构名称",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],orgShortName:[{required:!0,message:"请填写机构简称",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],orgType:[{required:!0,message:"请选择机构类型",trigger:"blur"}],orgSortIndex:[{required:!0,message:"请输入顺序号",trigger:"blur"},{validator:s.a.strNumber,trigger:"blur"},{max:3,message:"不能超过3位数字",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},nodeData:{type:Object,required:!0},isCreate:{type:Boolean,required:!0}},mounted:function(){},watch:{show:function(e){var r=this;e&&(Object(i.d)().then(function(e){r.organization=e.item}),this.isCreate?this.setToCreateState():this.setToEditState()),this.isVisible=e}},methods:{setToCreateState:function(){this.nodeData?(this.orgForm=a()({},n),this.orgForm.orgParentName=this.nodeData.name,this.orgForm.orgParentUuid=this.nodeData.id):(this.$message({message:"未找到父节点,无法在此情况下创建组织结构.",type:"error"}),this.isFormDisabled=!0)},setToEditState:function(){var e=this,r={orgUuid:this.nodeData.id};Object(l.c)(r).then(function(r){e.orgForm=a()({},r)})},save:function(){var e=this;this.$refs.orgForm.validate(function(r){if(r){var o=e.isCreate?l.a:l.e,t=e.isCreate?"新建":"修改";o(e.orgForm).then(function(r){r.error||(e.$message({message:t+"成功!",type:"success"}),e.$emit("updateTree"),e.cancel())})}})},cancel:function(){this.isVisible=!1,this.$emit("update:show",!1),this.orgForm=a()({},n),this.$refs.orgForm.resetFields()}}},m=o("k1Xm"),c=o.n(m);var u=function(e){o("EGDi")},d=o("VU/8")(g,c.a,!1,u,"data-v-24223600",null);r.default=d.exports},k1Xm:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-dialog",{attrs:{width:"670px",title:(e.isCreate?"新建":"编辑")+"组织机构",visible:e.isVisible},on:{"update:visible":function(r){e.isVisible=r},close:e.cancel}},[o("div",{staticClass:"org-form"},[o("el-form",{ref:"orgForm",attrs:{inline:!0,model:e.orgForm,rules:e.orgFormRules,disabled:e.isFormDisabled,"label-width":"100px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"机构全称",prop:"orgName"}},[o("el-input",{model:{value:e.orgForm.orgName,callback:function(r){e.$set(e.orgForm,"orgName",r)},expression:"orgForm.orgName"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"机构简称",prop:"orgShortName"}},[o("el-input",{model:{value:e.orgForm.orgShortName,callback:function(r){e.$set(e.orgForm,"orgShortName",r)},expression:"orgForm.orgShortName"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"机构类型",prop:"orgType"}},[o("el-select",{staticStyle:{width:"178px"},model:{value:e.orgForm.orgType,callback:function(r){e.$set(e.orgForm,"orgType",r)},expression:"orgForm.orgType"}},e._l(e.organization,function(e,r){return o("el-option",{key:r,attrs:{value:e.orgType,label:e.orgTypeName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上级机构",prop:"orgParentName"}},[o("el-input",{attrs:{readonly:!0},model:{value:e.orgForm.orgParentName,callback:function(r){e.$set(e.orgForm,"orgParentName",r)},expression:"orgForm.orgParentName"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"显示顺序",prop:"orgSortIndex"}},[o("el-input",{model:{value:e.orgForm.orgSortIndex,callback:function(r){e.$set(e.orgForm,"orgSortIndex",r)},expression:"orgForm.orgSortIndex"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"状态",prop:"orgEnabled"}},[o("el-radio-group",{model:{value:e.orgForm.orgEnabled,callback:function(r){e.$set(e.orgForm,"orgEnabled",r)},expression:"orgForm.orgEnabled"}},[o("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),o("el-radio",{attrs:{label:0}},[e._v("禁用")])],1)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"机构描述",prop:"orgDesc"}},[o("el-input",{staticStyle:{width:"495px"},attrs:{type:"textarea",rows:5,placeholder:"填写机构描述"},model:{value:e.orgForm.orgDesc,callback:function(r){e.$set(e.orgForm,"orgDesc",r)},expression:"orgForm.orgDesc"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{staticClass:"flex-right",attrs:{span:24}},[o("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),o("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=35.1c8bf6286468760f6dad.js.map