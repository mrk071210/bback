{"version":3,"sources":["webpack:///source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue","webpack:///./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue","webpack:///./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue?b24a"],"names":["initFormState","dicName","dicUuid","dicNumber","dicPid","dicPname","DicUpdate","name","data","showDetailMode","isVisible","isFormDisabled","dicForm","assign_default","dicFormRules","required","message","trigger","max","props","show","type","Boolean","default","nodeData","Object","isCreate","mounted","watch","isShow","this","setToCreateState","setToEditState","methods","id","$message","_this","params","systemparams","then","res","save","_this2","$refs","validate","isValid","submitType","submitText","error","$emit","cancel","resetFields","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","DicUpdate_default","a","__webpack_exports__","module","exports","render","_vm","_h","$createElement","_c","_self","attrs","width","title","visible","on","update:visible","$event","close","staticClass","ref","inline","model","rules","disabled","label-width","_e","span","label","prop","value","callback","$$v","$set","expression","_v","readonly","click","staticRenderFns"],"mappings":"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","file":"static/js/30.d69a6199939fdc9b4b13.js","sourcesContent":["<template>\n    <el-dialog\n    width=\"400px\"\n    :title=\"(isCreate ? '新建':'编辑')+'字典管理'\"\n    :visible.sync=\"isVisible\"\n    @close=\"cancel\"\n    >\n        <div class=\"org-form\">\n            <el-form :inline=\"true\" ref=\"dicForm\" :model=\"dicForm\" :rules=\"dicFormRules\" :disabled=\"isFormDisabled\" label-width=\"120px\">\n                <el-row>\n                    <el-col v-if=\"!isCreate\" :span=\"24\">\n                        <el-form-item label=\"字典ID\" prop=\"dicUuid\">\n                            <el-input disabled v-model=\"dicForm.dicUuid\" />\n                        </el-form-item>\n                    </el-col>\n                </el-row>\n                <el-row>\n                    <el-col :span=\"24\">\n                        <el-form-item label=\"字典编码\" prop=\"dicNumber\">\n                            <el-input v-model=\"dicForm.dicNumber\" />\n                        </el-form-item>\n                    </el-col>\n                </el-row>\n                <el-row>\n                  <el-col :span=\"24\">\n                        <el-form-item label=\"字典中文名称\" prop=\"dicName\">\n                            <el-input v-model=\"dicForm.dicName\" />\n                        </el-form-item>\n                    </el-col>\n                </el-row>\n                <el-row>\n                    <el-col :span=\"24\">\n                        <el-form-item label=\"父节点\" prop=\"dicPname\">\n                            <el-input v-model=\"dicForm.dicPname\" :readonly=\"true\" />\n                        </el-form-item>\n                    </el-col>\n                </el-row>\n                <!-- <el-row>\n                    <el-col :span=\"12\">\n                        <el-form-item label=\"显示顺序\" prop=\"orgSortIndex\">\n                            <el-input v-entity=\"dicForm.orgSortIndex\" />\n                        </el-form-item>\n                    </el-col>\n                    <el-col :span=\"12\">\n                        <el-form-item label=\"状态\" prop=\"orgEnabled\">\n                            <el-radio-group v-entity=\"dicForm.orgEnabled\" >\n                                <el-radio :label=\"1\">启用</el-radio>\n                                <el-radio :label=\"0\">禁用</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                    </el-col>\n                </el-row>\n                <el-row>\n                    <el-col :span=\"24\">\n                        <el-form-item label=\"机构描述\" prop=\"orgDesc\" style=\"width:100%\">\n                            <el-input type=\"textarea\"\n                                style=\"width:495px\"\n                                v-entity=\"dicForm.orgDesc\"\n                                :rows=\"5\"\n                                placeholder=\"填写机构描述\"\n                            />\n                        </el-form-item>\n                    </el-col>\n                </el-row> -->\n                <el-row>\n                    <el-col :span=\"24\" class=\"flex-right\">\n                        <el-button type=\"primary\" @click=\"save\">保存</el-button>\n                        <el-button @click=\"cancel\">取消</el-button>\n                    </el-col>\n                </el-row>\n            </el-form>\n        </div>\n    </el-dialog>\n</template>\n<script>\n/**\n * Dic Detail Component\n * ----------------------\n * Author: Calamus\n * Date: 2018.09.03\n */\nimport Validator from '@/utils/extendValidate/extendValidate'\n// api\nimport { getDicDetail,createDicNode, updateDicNode } from '@/api/systemparams'\n\n\n\n// init Form Data\nconst initFormState = {\n  dicName: '',\n  dicUuid: '',\n  dicNumber: '',\n  dicPid: '',\n  dicPname:''\n}\n\nexport default {\n  name: 'DicUpdate',\n  data () {\n    return {\n      showDetailMode: true,\n      isVisible: false,\n      isFormDisabled: false,\n      dicForm: Object.assign({}, initFormState),\n      dicFormRules: {\n        dicName: [\n          {required: true, message: '请填写字典中文名称', trigger: 'change'},\n          {max: 30, message: '最大长度为30字符', trigger: 'change'}\n        ],\n        dicNumber: [\n          {required: true, message: '请填写字典编号', trigger: 'change'},\n          {max: 30, message: '最大长度为30字符', trigger: 'change'}\n        ]\n      }\n    }\n  },\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    nodeData: {\n      type: Object,\n      required: true\n    },\n    isCreate: {\n      type: Boolean,\n      required: true\n    }\n  },\n  mounted () {\n  },\n  watch: {\n    show (isShow) {\n      if (isShow) {\n\n        // 新建\n        if (this.isCreate) {\n          this.setToCreateState()\n        // 编辑\n        } else {\n          this.setToEditState()\n        }\n      }\n\n      // 设置窗口显示状态\n      this.isVisible = isShow\n    }\n  },\n  methods: {\n    setToCreateState () {\n      const parentNode = this.nodeData\n      if (parentNode) {\n        this.dicForm = Object.assign({}, initFormState)\n        this.dicForm.dicPname = this.nodeData.name\n        this.dicForm.dicPid = this.nodeData.id\n      } else {\n        this.$message({\n          message: '未找到父节点,无法在此情况下创建组织结构.',\n          type: 'error'\n        })\n        this.isFormDisabled = true\n      }\n    },\n    setToEditState () {\n      const params = {\n        dicUuid: this.nodeData.id\n      }\n      getDicDetail(params).then(res => {\n        this.dicForm = Object.assign({}, res)\n      })\n    },\n    save () {\n      this.$refs.dicForm.validate(isValid => {\n        if (isValid) {\n          const submitType = this.isCreate ? createDicNode : updateDicNode\n          const submitText = this.isCreate ? '新建' : '修改'\n          submitType(this.dicForm).then(res => {\n            if (!res.error) {\n              this.$message({\n                message: `${submitText}成功!`,\n                type: 'success'\n              })\n              // 重新读取tree\n              this.$emit('updateTree')\n              this.cancel()\n            }\n          })\n        }\n      })\n    },\n    cancel () {\n      this.isVisible = false\n      this.$emit('update:show', false)\n      this.dicForm = Object.assign({}, initFormState)\n      this.$refs.dicForm.resetFields()\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.org-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .org-form{\n        width:80%;\n        max-width:1000px;\n        min-width:600px;\n        margin:10px;\n        padding:10px;\n        border:1px solid $base-light-color;\n        border-radius:8px;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55d9263f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/mrk/Desktop/xhcode/okr_web/source/admin/src/common/style/common.scss\\\"]}!../../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DicUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DicUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DicUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55d9263f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DicUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55d9263f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"400px\",\"title\":(_vm.isCreate ? '新建':'编辑')+'字典管理',\"visible\":_vm.isVisible},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('div',{staticClass:\"org-form\"},[_c('el-form',{ref:\"dicForm\",attrs:{\"inline\":true,\"model\":_vm.dicForm,\"rules\":_vm.dicFormRules,\"disabled\":_vm.isFormDisabled,\"label-width\":\"120px\"}},[_c('el-row',[(!_vm.isCreate)?_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典ID\",\"prop\":\"dicUuid\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dicForm.dicUuid),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicUuid\", $$v)},expression:\"dicForm.dicUuid\"}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典编码\",\"prop\":\"dicNumber\"}},[_c('el-input',{model:{value:(_vm.dicForm.dicNumber),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicNumber\", $$v)},expression:\"dicForm.dicNumber\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"字典中文名称\",\"prop\":\"dicName\"}},[_c('el-input',{model:{value:(_vm.dicForm.dicName),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicName\", $$v)},expression:\"dicForm.dicName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"父节点\",\"prop\":\"dicPname\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.dicForm.dicPname),callback:function ($$v) {_vm.$set(_vm.dicForm, \"dicPname\", $$v)},expression:\"dicForm.dicPname\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"flex-right\",attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55d9263f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/SystemParams/dict/Components/DicUpdate.vue\n// module id = wDmU\n// module chunks = 7 30"],"sourceRoot":""}