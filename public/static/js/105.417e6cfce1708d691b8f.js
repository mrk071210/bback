webpackJsonp([105],{EdQ6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("HzJ8"),i=a.n(n),o=a("0+j4"),r=a("aIe1"),l=a("Jky9"),s=a("TLA5"),c={name:"ShelvesDetail",data:function(){return{showTable:!1,selectRow:[],tableData:[],leafNode:[],qrCodeVisible:!1,pagination:{pageNum:1,pageSize:10,total:0}}},props:{nodeData:{type:Object,required:!0},isInit:{type:Boolean}},watch:{nodeData:{handler:function(e){this.getDetail()},deep:!0}},methods:{formatOpen:function(e){return"1"===e.storageStatus?"启用":"禁用"},formatType:function(e){switch(e.storageType.toString()){case"1":return"普通库位";case"2":return"收货区";case"3":return"备货区";case"4":return"质检区";case"5":return"待收货区";case"6":return"维修区";case"7":return"待发货区";case"8":return"发货区"}},getDetail:function(){this.nodeData&&(this.leafNode=[],this.getLeafNode(this.nodeData),this.showTable=!0)},getLeafNode:function(e){if(e.children.length){var t=!0,a=!1,n=void 0;try{for(var o,r=i()(e.children);!(t=(o=r.next()).done);t=!0){var l=o.value;this.getLeafNode(l)}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}}else this.leafNode.push(e);this.pagination.total=this.leafNode.length},changePage:function(e){this.pagination.pageNum=e},indexMethod:function(e){return e+1+(this.pagination.pageNum-1)*this.pagination.pageSize},isButtonIsDisabled:function(){return!!this.selectRow.length},handleAdd:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog",{})},edit:function(){this.$emit("update:isCreate",!1),this.$emit("openDialog",[this.selectRow])},cancel:function(){var e=this;this.$confirm("确认删除选中的库位吗?","提示",{type:"warning"}).then(function(){var t={shelvesId:[]},a=!0,n=!1,o=void 0;try{for(var r,l=i()(e.selectRow);!(a=(r=l.next()).done);a=!0){var s=r.value;t.shelvesId.push(s.id)}}catch(e){n=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}e.$emit("deleteShelvesList",t)}).catch(function(){})},qrCodePrint:function(){this.qrCodeVisible=!0}},components:{CommonWrapper:o.a,CommonTable:r.a,NavButton:l.a,QrCode:s.default}},u=a("si62"),p=a.n(u);var d=function(e){a("px2Y")},h=a("C7Lr")(c,p.a,!1,d,"data-v-285c1af4",null);t.default=h.exports},px2Y:function(e,t){},si62:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shelves-content"},[e.showTable?a("div",{staticClass:"content"},[a("el-row",{attrs:{span:24}},[a("el-col",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.qrCodePrint(t)}}},[e._v("二维码打印")]),e._v(" "),a("common-table",[a("template",{slot:"table"},[a("el-table",{ref:"shelvesTable",attrs:{stripe:"",border:!0,data:e.leafNode.slice((e.pagination.pageNum-1)*e.pagination.pageSize,e.pagination.pageNum*e.pagination.pageSize)},on:{"selection-change":function(t){return e.selectRow=t}}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"name",label:"库位名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storageType",label:"库位类型",formatter:e.formatType}}),e._v(" "),a("el-table-column",{attrs:{prop:"storageStatus",label:"库位状态",formatter:e.formatOpen}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"size",label:"容量(米²)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"length",label:"长度(米)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"width",label:"宽度(米)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"wareHouseName",label:"所属仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述","min-width":"120","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("template",{slot:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"current-change":e.changePage}})],1)],2)],1)],1)],1):a("div",{staticClass:"empty"},[a("h3",[e._v("请在左侧选择一个仓库库位")])]),e._v(" "),a("qr-code",{attrs:{show:e.qrCodeVisible,tableData:e.leafNode},on:{"update:show":function(t){e.qrCodeVisible=t}}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=105.417e6cfce1708d691b8f.js.map