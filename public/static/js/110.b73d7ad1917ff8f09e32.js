webpackJsonp([110],{cxzH:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("common-wrapper",{staticClass:"searchForm"},[t("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"50px"}},[t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"仓库",prop:"warehouseUuid"}},[t("el-select",{staticClass:"w100p",attrs:{placeholder:"选择仓库"},on:{change:e.warehouseChange},model:{value:e.searchForm.warehouseUuid,callback:function(r){e.$set(e.searchForm,"warehouseUuid",r)},expression:"searchForm.warehouseUuid"}},e._l(e.warehouseList,function(e,r){return t("el-option",{key:r,attrs:{label:e.warehouseName,value:e.warehouseUuid}})}),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"商户",prop:"merchantUuid"}},[t("el-select",{staticClass:"w100p",attrs:{clearable:"",filterable:"",placeholder:"选择商户"},on:{change:e.merchantsChange},model:{value:e.searchForm.merchantUuid,callback:function(r){e.$set(e.searchForm,"merchantUuid",r)},expression:"searchForm.merchantUuid"}},e._l(e.merchantsList,function(e,r){return t("el-option",{key:r,attrs:{label:e.userName,value:e.userUuid}})}),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"品牌",prop:"productBrand"}},[t("el-select",{staticClass:"w100p",attrs:{clearable:"",placeholder:"选择品牌",filterable:""},on:{change:e.brandChange},model:{value:e.searchForm.productBrand,callback:function(r){e.$set(e.searchForm,"productBrand",r)},expression:"searchForm.productBrand"}},e._l(e.brandList,function(r,a){return t("el-option",{key:a,attrs:{label:r,value:r}},[e._v(e._s(r)+"\n            ")])}),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"货品名称",prop:"productName","label-width":"80px"}},[t("el-input",{attrs:{placeholder:"货品名称",clearable:""},model:{value:e.searchForm.productName,callback:function(r){e.$set(e.searchForm,"productName",r)},expression:"searchForm.productName"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"型号",prop:"productModelName"}},[t("el-select",{staticClass:"w100p",attrs:{clearable:"",placeholder:"选择型号",filterable:""},model:{value:e.searchForm.productModelName,callback:function(r){e.$set(e.searchForm,"productModelName",r)},expression:"searchForm.productModelName"}},e._l(e.modelList,function(r,a){return t("el-option",{key:a,attrs:{label:r,value:r}},[e._v(e._s(r)+"\n            ")])}),1)],1)],1),e._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"类型",prop:"productType"}},[t("el-select",{staticClass:"w100p",attrs:{filterable:"",clearable:"",placeholder:"请选择货品类型"},model:{value:e.searchForm.productType,callback:function(r){e.$set(e.searchForm,"productType",r)},expression:"searchForm.productType"}},[t("el-option",{attrs:{label:"小件",value:"0"}}),e._v(" "),t("el-option",{attrs:{label:"套件",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"单品",value:"2"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{span:5}},[t("el-form-item",{attrs:{label:"货品状态",prop:"productStatus","label-width":"80px"}},[t("el-select",{staticClass:"w100p",attrs:{filterable:"",clearable:"",placeholder:"选择状态"},model:{value:e.searchForm.productStatus,callback:function(r){e.$set(e.searchForm,"productStatus",r)},expression:"searchForm.productStatus"}},e._l(e.stateList,function(e,r){return t("el-option",{key:r,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),t("el-col",{staticClass:"flex-right",attrs:{span:4}},[t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(r){return e.search(r)}}},[e._v("查询")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}},"l4G/":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("aA9S"),o=t.n(a),s=t("rVsN"),l=t.n(s),c=t("0+j4"),n=t("aIe1"),i=t("fBur"),u=t("4+6g"),d={name:"Search",data:function(){return{warehouseList:this.$store.getters.warehouseList,merchantsList:[],brandList:[],modelList:[],modelBrand:[],allModelList:[],searchForm:{warehouseUuid:"",merchantUuid:"",productBrand:"",productModelName:"",shelveName:"",remarks:"",goodsName:"",productType:"",productStatus:""},stateList:[{id:1,name:"待收货"},{id:2,name:"已收货"},{id:4,name:"库内存储"},{id:5,name:"待质检"},{id:6,name:"预出库"},{id:7,name:"已备货"},{id:8,name:"已发货"},{id:9,name:"待发货"},{id:10,name:"待维修"},{id:11,name:"待下架"}]}},props:{},mounted:function(){this.searchForm.warehouseUuid=Object(i.b)("warehouseUuid"),this.getMerchants(),this.getBrandModel({warehouseUuid:Object(i.b)("warehouseUuid")}),this.$emit("updateTree",this.searchForm.warehouseUuid),this.search()},methods:{getMerchants:function(){var e=this;return new l.a(function(r){var t={warehouseUuid:e.searchForm.warehouseUuid};Object(u.f)(t).then(function(t){t.error||(e.merchantsList=t,r())})})},getBrandModel:function(e){var r=this;Object(u.h)(e).then(function(e){e.error||(r.brandList=[],r.allModelList=[],r.modelList=[],e.forEach(function(e,t){r.brandList.push(e.productBrand),e.productModel.forEach(function(e){r.allModelList.push(e)})}),r.modelList=[].concat(r.allModelList),r.modelBrand=e)})},warehouseChange:function(e){var r=this;Object(i.e)("warehouseUuid",e),this.getMerchants().then(function(){r.searchForm.merchantUuid="",r.searchForm.productBrand="",r.searchForm.productModelName="",r.getBrandModel({warehouseUuid:r.searchForm.warehouseUuid}),r.$emit("updateTree",r.searchForm.warehouseUuid)})},merchantsChange:function(){this.searchForm.productBrand="",this.searchForm.productModelName="",this.getBrandModel({warehouseUuid:this.searchForm.warehouseUuid,merchantUuid:this.searchForm.merchantUuid})},brandChange:function(e){if(this.searchForm.productModelName="",""!==e){var r;r=this.modelBrand.find(function(r){return r.productBrand===e}),this.modelList=r.productModel}else this.modelList=[].concat(this.allModelList)},modelChange:function(){},search:function(){this.$emit("search",o()({},this.searchForm))},resetForm:function(e){this.$refs[e].resetFields(),this.searchForm.warehouseUuid=Object(i.b)("warehouseUuid"),this.$emit("rest",o()({},this.searchForm))}},components:{CommonWrapper:c.a,CommonTable:n.a}},h=t("cxzH"),m=t.n(h);var p=function(e){t("u73N")},f=t("C7Lr")(d,m.a,!1,p,"data-v-18673a08",null);r.default=f.exports},u73N:function(e,r){}});
//# sourceMappingURL=110.b73d7ad1917ff8f09e32.js.map