webpackJsonp([7,59,61,79,99],{"+lUO":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{width:"400px",title:"审核意见",visible:e.isVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!0},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[r("el-form",{ref:"ensureInfo",attrs:{model:e.ensureInfo,rules:e.formRules,"label-width":"80px"}},[r("el-row",[r("el-form-item",{attrs:{label:"审核结果",prop:"checkStatus"}},[r("el-radio-group",{model:{value:e.ensureInfo.checkStatus,callback:function(t){e.$set(e.ensureInfo,"checkStatus",t)},expression:"ensureInfo.checkStatus"}},[r("el-radio",{attrs:{label:2}},[e._v("通过")]),e._v(" "),r("el-radio",{attrs:{label:3}},[e._v("不通过")])],1)],1)],1),e._v(" "),r("el-row",[r("el-form-item",{attrs:{label:"审核意见",prop:"checkSuggest"}},[r("el-input",{attrs:{type:"textarea",maxlength:"200",placeholder:"请输入您的审核意见,最长200字符"},model:{value:e.ensureInfo.checkSuggest,callback:function(t){e.$set(e.ensureInfo,"checkSuggest",t)},expression:"ensureInfo.checkSuggest"}})],1)],1),e._v(" "),r("el-row",{staticStyle:{"margin-top":"10px"}},[r("el-col",{staticClass:"flex-right",attrs:{span:24}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}},"/FnM":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"查看出库单",visible:e.isVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!0,width:"95%"},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[r("el-button",{staticClass:"printBtn",attrs:{type:"primary"},on:{click:e.print}},[e._v("打印")]),e._v(" "),r("el-form",{ref:"orderInfo",attrs:{id:"printPage",model:e.orderInfo,"label-width":"80px"}},[r("div",{staticClass:"print-form"},[r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"商户:",prop:"merchants"}},[r("span",[e._v(e._s(e.getMerchantName(e.orderInfo.goodsDeliverMerchantUuid)))])])],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单类型:",prop:"goodsDeliverType"}},[r("span",[e._v(e._s(e.deliverTypeFormatter(e.orderInfo.goodsDeliverType)))])])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"送货日期:",prop:"goodsDeliverDate"}},[r("span",[e._v(e._s(e.formatTime(e.orderInfo.goodsDeliverDate)))])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"客户姓名:",prop:"customerName"}},[r("span",[e._v(e._s(e.orderInfo.customerName))])])],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"客户电话:",prop:"customerTelephone"}},[r("span",[e._v(e._s(e.orderInfo.customerTelephone))])])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"客户地址:",prop:"customerAddress"}},[r("span",[e._v(e._s(e.orderInfo.customerAddress))])])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"备注:",prop:"goodsDeliverRemark"}},[r("span",[e._v(e._s(e.orderInfo.goodsDeliverRemark))])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"电梯:",prop:"customerLiftFlag"}},[r("span",[e._v(e._s("0"===e.orderInfo.customerLiftFlag?"有":"1"===e.orderInfo.customerLiftFlag?"无":"未知"))])])],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"是否安装:",prop:"customerNeedInstall"}},[r("span",[e._v(e._s("0"===e.orderInfo.customerNeedInstall?"是":"1"===e.orderInfo.customerNeedInstall?"否":"未知"))])])],1)],1)],1),e._v(" "),r("el-row",{staticClass:"print-table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isListLoading,expression:"isListLoading"}],ref:"orderTable",attrs:{stripe:"",border:!0,"tooltip-effect":"light",data:e.tableData}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50",fixed:"left"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productBrand",label:"品牌"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productName",label:"货品名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productModel",label:"型号",formatter:e.dealModelName}}),e._v(" "),r("el-table-column",{attrs:{prop:"productStandard",label:"规格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productColor",label:"颜色","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{prop:"storageName",label:"库位"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productSeq",label:"二维码",width:"150px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"productType",label:"货品类型",formatter:e.typeFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"deliverItemCount",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{label:"备注","min-width":"120",prop:"goodsDeliverRemark","show-tooltip-when-overflow":!0}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},"1YiY":function(e,t){},"1b4N":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("aA9S"),a=r.n(o),s=r("ryJa"),n=r.n(s),i=(r("I8tE"),r("4+6g"),r("fBur")),l={name:"DeliveryManagementSearch",data:function(){return{searchForm:{warehouseUuid:"",merchantUuid:"",productBrand:"",deliverOrderId:"",orderStatus:"",customerName:"",customerTelephone:"",customerAddress:"",createBeginDate:"",createEndDate:"",sendBeginDate:"",sendEndDate:""}}},props:{warehouseList:{type:Array},merchantsList:{type:Array},brandList:{type:Array}},activated:function(){this.searchForm={warehouseUuid:"",merchantUuid:"",productBrand:"",deliverOrderId:"",orderStatus:"",createTimeRange:"",goodsDeliverDate:"",customerName:"",customerTelephone:"",customerAddress:"",createBeginDate:"",createEndDate:"",sendBeginDate:"",sendEndDate:""},this.searchForm.warehouseUuid=Object(i.b)("warehouseUuid"),this.search(),this.getMerchantsList(this.searchForm.warehouseUuid)},mounted:function(){},methods:{getMerchantsList:function(e){Object(i.e)("warehouseUuid",e),this.searchForm.goodsDeliverMerchantUuid="",this.searchForm.productBrand="",this.searchForm.merchantUuid="",this.$emit("getMerchants",a()({},this.searchForm)),this.$emit("getBrands",a()({},this.searchForm)),this.search()},getBrandList:function(){this.searchForm.productBrand="",this.$emit("getBrandModel",{warehouseUuid:Object(i.b)("warehouseUuid"),merchantUuid:this.searchForm.goodsDeliverMerchantUuid})},search:function(){this.searchForm.sendEndDate&&this.searchForm.sendBeginDate&&(n()(this.searchForm.sendEndDate).isBefore(this.searchForm.sendBeginDate)||n()(this.searchForm.sendEndDate).isSame(this.searchForm.sendBeginDate))?(this.$message({message:"送货日期(止)不能早于送货日期(起)，请重新选择！",type:"warning"}),this.searchForm.sendEndDate=null):this.$emit("search",a()({},this.searchForm))},resetForm:function(e){this.$refs[e].resetFields(),this.searchForm.warehouseUuid=Object(i.b)("warehouseUuid"),this.$emit("rest",a()({},this.searchForm))}}},d=r("zism"),c=r.n(d);var u=function(e){r("1YiY")},p=r("C7Lr")(l,c.a,!1,u,"data-v-9cc3a6c8",null);t.default=p.exports},"47vk":function(e,t){},"6LEZ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("4YfN"),a=r.n(o),s=r("YTJj"),n=r.n(s),i=r("HzJ8"),l=r.n(i),d=r("rVsN"),c=r.n(d),u=r("aA9S"),p=r.n(u),m=r("uTPb"),h=r("XQ4b"),f=r("aIe1"),g=r("qwBq"),v=r("VkjD"),b=r("ycWN"),I=(r("I8tE"),r("Ips9")),w=r("4+6g"),y=r("fBur"),D={name:"OrderCreate",data:function(){return{isSaveing:!1,createIndex:"",isCreateTemplateshow:!1,isVisible:!1,orderInfo:{goodsDeliverMerchantName:"",goodsDeliverMerchantUuid:"",goodsDeliverType:"",goodsDeliverDate:"",customerName:"",customerAddress:"",customerTelephone:"",warehouseName:"",warehouseUuid:"",goodsDeliverRemark:"",customerServicePhone:"",customerLiftFlag:"",customerNeedInstall:""},isListLoading:!1,goodsDeliverType:[{value:"1",label:"仓库出货"},{value:"2",label:"自提"}],originModel:[],existModel:[],modelBrand:[],brandList:[],modelList:[],tableData:[],orderFormRules:{goodsDeliverMerchantUuid:[{required:!0,message:"请选择商户",trigger:"blur"}],goodsDeliverType:[{required:!0,message:"请选择订单类型",trigger:"blur"}],goodsDeliverDate:[{required:!0,message:"请选择送货日期",trigger:"blur"}],customerNeedInstall:[{required:!0,message:"请选择是否安装",trigger:"blur"}]},importVisible:!1,isMapShow:!1,addressInfo:{},fromEdit:!1,isTemplateShow:!1}},props:{show:{type:Boolean,default:!1},openType:{type:Number,default:1},warehouseList:{type:Array},merchantsList:{type:Array},selectedOrderInfo:{type:Object},searchParams:{type:Object},existOrder:{type:Array}},watch:{show:function(e){this.orderInfo={},2===this.openType&&e?(this.orderInfo=p()({},this.selectedOrderInfo),this.getDeliverDetail({deliverOrderId:this.selectedOrderInfo.goodsDeliverUuid})):this.tableData=[],this.isVisible=e}},methods:{getDeliverDetail:function(e){var t=this;this.isListLoading=!0,Object(I.i)(e).then(function(e){t.isListLoading=!1,e.error||(t.tableData=e,t.tableData.forEach(function(e){t.changeModel(e)}))})},deliverTypeChange:function(e){this.$refs.orderInfo.clearValidate(),1==e?(console.log(this.orderFormRules),this.orderFormRules=p()(this.orderFormRules,{customerName:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],customerAddress:[{required:!0,message:"请输入客户地址",trigger:"blur"}],customerTelephone:[{required:!0,message:"请输入客户电话",trigger:"blur"},{validator:m.a.isCellAndTel,trigger:"blur"}]})):(delete this.orderFormRules.customerName,delete this.orderFormRules.customerTelephone,delete this.orderFormRules.customerAddress,this.orderFormRules=p()(this.orderFormRules,{customerTelephone:[{validator:m.a.isCellAndTel,trigger:"blur"}]}))},changeMerchants:function(e){this.tableData=[],this.existModel=[],this.originModel=[],this.getBrandModel({warehouseUuid:Object(y.b)("warehouseUuid"),merchantUuid:e});var t=this.existOrder.find(function(t){return t.goodsDeliverMerchantUuid==e});1==this.openType&&t?(this.forbidden=!0,this.$alert("此商户存在未审核通过的出库单，请审核通过后再新增出库单","提示",{confirmButtonText:"确定"})):this.forbidden=!1},getBrandModel:function(e){var t=this;Object(w.h)(e).then(function(e){e.error||(t.brandList=[],t.modelList=[],e.forEach(function(e,r){t.brandList.push(e.productBrand),e.productModel.forEach(function(e){t.modelList.push(e)})}),t.modelBrand=e)})},getTemplate:function(){var e=this;return new c.a(function(t){var r={merchantUuid:e.orderInfo.goodsDeliverMerchantUuid,warehouseUuid:e.orderInfo.warehouseUuid?e.orderInfo.warehouseUuid:Object(y.b)("warehouseUuid")};e.isListLoading=!0,Object(I.k)(r).then(function(r){if(e.isListLoading=!1,e.originModel=[],e.originModel=r,e.originModel&&e.originModel.length>0){var o=function(e){e.productTempleteId=e.productUuid,e.remark&&(e.goodsDeliverRemark=e.remark),e.disabled=!1,delete e.descOrAsc,delete e.orderBy,delete e.pageNum,delete e.pageSize,"1"==e.productType&&e.productItems.length&&e.productItems.forEach(function(t){t.disabled=!1,e.remark&&(t.goodsDeliverRemark=e.remark),e.productItemUuid=e.productItems[0].productItemUuid})},a=!0,s=!1,n=void 0;try{for(var i,d=l()(e.originModel);!(a=(i=d.next()).done);a=!0){o(i.value)}}catch(e){s=!0,n=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw n}}}t()})})},renderHeader:function(e,t){var r=this;return n()(t),e("el-button",{class:["addBtn","el-button--primary"],domProps:{innerHTML:"添加货品"},on:{click:function(){r.addRow()}}})},addRow:function(){this.orderInfo.goodsDeliverMerchantUuid?this.forbidden?this.$alert("此商户存在未审核通过的出库单，请审核通过后再新增出库单","提示",{confirmButtonText:"确定"}):(this.isTemplateShow=!0,this.selectIndex=this.tableData.length):this.$message({type:"warning",message:"请选择商户"})},deleteRow:function(e,t){"1"==t.productType&&t.productItems&&t.productItems.length&&this.tableData.forEach(function(e){e.productTempleteId==t.productTempleteId&&e.productItems.forEach(function(e){e.productItemUuid==t.productTempleteItemId&&(e.disabled=!1)})}),this.tableData.splice(e,1)},cancel:function(){this.existModel=[],this.originModel=[],this.tableData=[],this.orderInfo={},this.$refs.orderInfo.resetFields(),this.$emit("update:show",!1),this.isVisible=!1},receiveData:function(e){var t=this;e.forEach(function(e){if(e.deliverItemCount=1,""!==e.productType&&(e.typeDisabled=!0),"1"==e.productType&&e.productItems&&e.productItems.length){console.log(t.tableData);var r=e.productItems.map(function(e){return e.productTempleteId}),o=t.tableData.filter(function(e){return r.indexOf(e.productTempleteId)>=0});o&&o.length>0?e.productItems.forEach(function(r){if(!o.find(function(e){return e.productTempleteItemId==r.productItemUuid&&e.productTempleteId==r.productTempleteId})){e.productTempleteItemId=r.productItemUuid,e.productTempleteId=r.productTempleteId,e.deliverItemRemark=r.deliverItemRemark,r.disabled=!0;var a=p()({},e);t.tableData.unshift(a),t.changeModel(a),console.log(t.tableData),t.selectIndex++}}):e.productItems.forEach(function(r){e.productTempleteItemId=r.productItemUuid,e.productTempleteId=r.productTempleteId,e.deliverItemRemark=r.deliverItemRemark,r.disabled=!0;var o=p()({},e);t.tableData.unshift(o),t.changeModel(o),console.log(t.tableData),t.selectIndex++})}else if("1"!=e.productType){if(!t.tableData.find(function(t){return t.productTempleteId==e.productTempleteId})){var a=p()({},e);t.$set(t.tableData,t.selectIndex,a),t.selectIndex++}}})},changeBrand:function(e,t){this.fromEdit=!0},changeModel:function(e,t,r){if("1"==e.productType&&e.productItems&&e.productItems.length){var o=[],a=this.tableData.filter(function(t){return t.productTempleteId==e.productTempleteId});a&&a.length&&a.forEach(function(e){o.push(e.productTempleteItemId)}),this.tableData.forEach(function(t){t.productTempleteId==e.productTempleteId&&t.productItems.forEach(function(e){var t=o.find(function(t){return t==e.productItemUuid});e.disabled=!!t})})}},changeItem:function(e,t){var r=this.tableData.filter(function(t){return t.productTempleteId===e.productTempleteId});r&&r.length&&this.existModel.forEach(function(e){e.forEach(function(e){"1"===e.productType&&e.productItems.forEach(function(e){var t=r.find(function(t){return t.productTempleteItemId===e.productItemUuid});e.disabled=!!t})})})},dealItemCount:function(e){var t=e.productItems.find(function(t){return t.productItemUuid==e.productTempleteItemId});if(t)return t.productCount},dealProductName:function(e,t){var r=t.find(function(t){return t.productTempleteId==e});if(r)return r.productName+" "+r.productModel},dealModelName:function(e){return e.remark?e.productModel+"「"+e.remark+"」":e.productModel},dealItemName:function(e){var t="";return"1"==e.productType&&e.productItems.length?(t="子件:",e.productItems.forEach(function(r,o){t+=r.productItemName+(o===e.productItems.length-1?"":"、")})):"0"==e.productType?t="小件":"2"==e.productType&&(t="单品"),t},getModelName:function(e,t){var r=e.find(function(e){return e.productTempleteId==t});if(r)return this.dealModelName(r)},getItemName:function(e,t){var r=e.find(function(e){return e.productItemUuid==t});if(r)return r.productItemName},validateField:function(e){this.$refs.orderInfo.validateField(e)},save:function(){var e=this;1==this.openType&&this.forbidden?this.$alert("此商户存在未审核通过的出库单，请审核通过后再新增出库单","提示",{confirmButtonText:"确定"}):this.$refs.orderInfo.validate(function(t){if(t){if(!e.tableData.length)return void e.$message({message:"请补全货物信息",type:"warning"});var r=!0,o=!1,s=void 0;try{for(var n,i=l()(e.tableData);!(r=(n=i.next()).done);r=!0){var d=n.value;if(!d||!d.productTempleteId||""===d.productTempleteId)return void e.$message({message:"请补全货物信息",type:"warning"})}}catch(e){o=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw s}}if(e.orderInfo.customerAddress&&(!e.orderInfo.customerLat||!e.orderInfo.customerLng))return void e.$message({message:"请在地图上选择客户位置信息",type:"warning"});var c=!0,u=!1,p=void 0;try{for(var m,h=l()(e.tableData);!(c=(m=h.next()).done);c=!0){var f=m.value;f.deliverItemRemark&&f.deliverItemRemark.length?f.findStorageFlag=1:f.findStorageFlag=0}}catch(e){u=!0,p=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw p}}e.orderInfo.goodsWarehouseUuid=e.orderInfo.warehouseUuid?e.orderInfo.warehouseUuid:Object(y.b)("warehouseUuid");var g=a()({},e.orderInfo,{goodsDeliverItems:e.tableData});e.isSaveing=!0,Object(I.n)(g).then(function(t){if(e.isSaveing=!1,!t.error){var r=1==e.openType?"新增":"编辑";e.$message({message:r+"成功!",type:"success"}),e.cancel(),e.queryList()}})}})},uploadProd:function(){this.importVisible=!0},queryList:function(){this.$emit("search",this.searchParams)},chooseAddress:function(e){this.isMapShow=!0,this.addressInfo={lat:e.customerLat,lng:e.customerLng,address:e.customerAddress}},getAddress:function(e,t,r){this.orderInfo.customerLat=e,this.orderInfo.customerLng=t,this.orderInfo.customerAddress=r,this.$refs.address.$el.children[0].focus(),this.$refs.address.$el.children[0].blur(),console.log(this.orderInfo)},typeFormatter:function(e){return"0"==e.productType?"小件":"1"==e.productType?"套件":"2"==e.productType?"单品":""}},components:{CommonTable:f.a,TemplateCreate:v.default,TemplateImport:b.default,GMap:h.default,TemplateSelect:g.default}},_=r("wqwC"),T=r.n(_);var L=function(e){r("XefZ")},x=r("C7Lr")(D,T.a,!1,L,null,null);t.default=x.exports},"6hnx":function(e,t){},"K+4B":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("4YfN"),a=r.n(o),s=r("Ips9"),n={name:"EnsureCheck",data:function(){return{isVisible:!1,ensureInfo:{checkStatus:"",checkSuggest:""},formRules:{checkStatus:[{required:!0,message:"请选择审核结果",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},checkInfo:{type:Object}},methods:{save:function(){var e=this;this.$refs.ensureInfo.validate(function(t){if(t){var r=a()({deliverOrderId:e.checkInfo.goodsDeliverUuid},e.ensureInfo);Object(s.g)(r).then(function(t){t.error||(e.$message({message:"审核完成",type:"success"}),e.cancel(),e.$emit("updateTable"))})}})},cancel:function(){this.isVisible=!1,this.$refs.ensureInfo.resetFields(),this.$emit("update:show",!1)}},watch:{show:function(e){this.isVisible=e}}},i=r("+lUO"),l=r.n(i);var d=function(e){r("N5N8")},c=r("C7Lr")(n,l.a,!1,d,"data-v-63cfb6b8",null);t.default=c.exports},N5N8:function(e,t){},V6SZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("aA9S"),a=r.n(o),s=r("ryJa"),n=r.n(s),i=(r("uTPb"),r("XQ4b")),l=r("aIe1"),d=r("VkjD"),c=r("ycWN"),u=(r("I8tE"),r("Ips9")),p=(r("4+6g"),r("fBur")),m={name:"OrderCreate",data:function(){return{isVisible:!1,orderInfo:{goodsDeliverMerchantName:"",goodsDeliverMerchantUuid:"",goodsDeliverType:"",goodsDeliverDate:"",customerName:"",customerAddress:"",customerTelephone:"",warehouseName:"",warehouseUuid:"",goodsDeliverRemark:"",customerServicePhone:"",customerLiftFlag:"",customerNeedInstall:""},isListLoading:!1,goodsDeliverType:[{value:1,label:"仓库出货"},{value:2,label:"自提"}],deliverItemPack:[{value:"1",label:"有包装"},{value:"2",label:"无包装"},{value:"3",label:"其他"}],existModel:[],tableData:[],addressInfo:{}}},props:{show:{type:Boolean,default:!1},warehouseList:{type:Array},merchantsList:{type:Array},selectedOrderInfo:{type:Object}},watch:{show:function(e){var t=this;this.orderInfo={},e&&(this.orderInfo=a()({},this.selectedOrderInfo),this.isListLoading=!0,Object(u.m)({deliverOrderId:this.orderInfo.goodsDeliverUuid}).then(function(e){e.error||(t.isListLoading=!1,t.tableData=e.pickLists)})),this.isVisible=e}},methods:{deliverTypeFormatter:function(e){switch(e){case"1":return"仓库出货";case"2":return"自提";case"3":return"顾客端配送安装";case"4":return"展厅上样";case"5":return"展厅提货送样品";case"6":return"物流提货送货";case"7":return"展厅调场";case"8":return"外展布场";case"9":return"外地送货";case"10":return"售后维修";case"11":return"搬家(含顾客家拆装)";default:return""}},dealModelName:function(e){return e.remark?e.productModel+"「"+e.remark+"」":e.productModel},getMerchantName:function(e){if(e)return this.merchantsList.find(function(t){return t.userUuid===e}).userName},PackFormatter:function(e){return"1"===e.deliverItemPack?"有包装":"2"===e.deliverItemPack?"无包装":"其他"},typeFormatter:function(e){return"0"===e.productType?"小件":"1"===e.productType?"套件":"2"===e.productType?"单品":"未知"},itemFormatter:function(e){if("1"==e.productType&&e.productItems.length){var t=e.productItems.find(function(t){return e.productTempleteItemId===t.productItemUuid});return t?t.productItemName:""}},formatTime:function(e){if(e)return n()(e).utcOffset(8).format("YYYY-MM-DD")},cancel:function(){this.existModel=[],this.tableData=[],this.$refs.orderInfo.resetFields(),this.$emit("update:show",!1),this.isVisible=!1},print:function(){var e=this.orderInfo.warehouseUuid?this.orderInfo.warehouseUuid:Object(p.b)("warehouseUuid");console.log("list",this.warehouseList);var t="<!DOCTYPE html><html style='float:none;'><head><title></title><style>.el-table__fixed{display: none;}table{width:100% !important;margin: 0 50px 0 50px;}h2{text-align:center}.print-form{width:100%;margin:50px;position:relative;box-sizing:border-box;}th{text-align:left}.print-form .el-row{box-sizing: border-box;width:50%;float:left;}  .print-form .el-row:nth-child(3){box-sizing: border-box;width:100%;float:left;} .el-row .el-col{padding:10px 0px ;} .el-form-item{display:flex} label{font-weight:bold}.el-table__header-wrapper table{padding-top:50px;}</style></head><body id='printWindow' style='float:none;line-height: 24px;font-size: 14px;'>"+("<h2>星和宅配("+this.warehouseList.filter(function(t){return t.warehouseUuid==e})[0].warehouseName+")送货单</h2>")+document.getElementById("printPage").innerHTML+"</body></html>",r=window.open("","","");r.document.write(t),r.print()}},components:{CommonTable:l.a,TemplateCreate:d.default,TemplateImport:c.default,GMap:i.default}},h=r("/FnM"),f=r.n(h);var g=function(e){r("6hnx")},v=r("C7Lr")(m,f.a,!1,g,"data-v-34dabc46",null);t.default=v.exports},XefZ:function(e,t){},bAq7:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("common-wrapper",[r("delivery-management-search",{staticClass:"search",attrs:{warehouseList:e.warehouseList,merchantsList:e.searchMerchantsList,modelBrand:e.modelBrand,brandList:e.brandList,allModelList:e.modelList},on:{getMerchants:e.getSearchMerchantsList,getBrandModel:e.getBrandModel,search:e.queryList,rest:e.rest}})],1),e._v(" "),r("nav-button",[r("el-button-group",[r("el-button",{attrs:{icon:"fdddfont icon-add-new"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),r("el-button",{attrs:{icon:"el-icon-delete",disabled:e.isButtonIsDisabled},on:{click:e.handleDel}},[e._v("删除")]),e._v(" "),1==e.flag?r("el-alert",{staticStyle:{display:"inline",height:"29px","line-height":"29px","margin-left":"10px"},attrs:{closable:!1,title:"选中项包含已发货的出库单，请重新选择！",type:"warning","show-icon":""}}):e._e(),e._v(" "),1==e.flag2?r("el-alert",{staticStyle:{display:"inline",height:"29px","line-height":"29px","margin-left":"10px"},attrs:{closable:!1,title:"选中项包含审核通过的出库单，请重新选择！",type:"warning","show-icon":""}}):e._e()],1)],1),e._v(" "),r("common-wrapper",[r("common-table",{attrs:{flex:270}},[r("template",{slot:"table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isListLoading,expression:"isListLoading"}],ref:"orderTable",attrs:{height:"100%",stripe:"",border:!0,"tooltip-effect":"light",data:e.tableData},on:{"row-dblclick":e.getOrderDetail,"selection-change":function(t){return e.selectRow=t}}},[r("el-table-column",{attrs:{type:"selection",width:"30",fixed:"left"}}),e._v(" "),r("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsDeliverUuid",sortable:"",label:"出库单号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsDeliverMerchantUuid",sortable:"",label:"商户","min-width":"120",formatter:e.formatMerchant}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerName",sortable:"",label:"客户姓名","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerTelephone",sortable:"",label:"客户电话",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerAddress",label:"客户地址",width:"120","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsDeliverDate",sortable:"",label:"送货日期",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerNeedInstall",label:"是否安装",width:"70",formatter:e.formatEnable}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerLiftFlag",label:"是否有电梯",width:"80",formatter:e.formatEnable}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsWarehouseUuid",sortable:"",label:"仓库",formatter:e.formatWarehouse}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsDeliverStatus",label:"状态",formatter:e.formatState}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsDeliverRemark",label:"备注",width:"120","show-overflow-tooltip":!0}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showScan(t.row)?r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"查看",placement:"bottom"}},[r("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-view"},on:{click:function(r){return r.stopPropagation(),e.handleScan(t.row)}}})],1):e._e(),e._v(" "),e.showEdit(t.row)?r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"编辑",placement:"bottom"}},[r("el-button",{attrs:{size:"mini",round:"",icon:"fdddfont icon-modify"},on:{click:function(r){return r.stopPropagation(),e.handleEdit(t.row)}}})],1):e._e(),e._v(" "),e.showCheck(t.row)?r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:1==t.row.goodsDeliverStatus?"审核":"提交审核",placement:"bottom"}},[r("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-tickets"},on:{click:function(r){return r.stopPropagation(),e.check(t.row)}}})],1):e._e(),e._v(" "),"2"==t.row.goodsDeliverStatus?r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"取消审核",placement:"bottom"}},[r("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-circle-close-outline"},on:{click:function(r){return r.stopPropagation(),e.cancelOrder(t.row)}}})],1):e._e()]}}])})],1)],1),e._v(" "),r("template",{slot:"pagination"},[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"current-change":e.changePage}})],1)],2)],1),e._v(" "),r("order-create",{attrs:{existOrder:e.existOrder,show:e.isCreateFormVisible,openType:e.openType,selectedOrderInfo:e.selectedOrderInfo,warehouseList:e.warehouseList,merchantsList:e.merchantsList,searchParams:e.searchParams},on:{"update:show":function(t){e.isCreateFormVisible=t},search:e.queryList,rest:e.rest}}),e._v(" "),r("order-detail",{attrs:{show:e.isDetailFormVisible,selectedOrderInfo:e.selectedOrderInfo,warehouseList:e.warehouseList,merchantsList:e.merchantsList},on:{"update:show":function(t){e.isDetailFormVisible=t},updateCount:e.updateCount}}),e._v(" "),r("ensure-check",{attrs:{show:e.isCheckFormVisible,searchParams:e.searchParams,checkInfo:e.checkInfo},on:{"update:show":function(t){e.isCheckFormVisible=t},updateTable:e.updateTable}})],1)},staticRenderFns:[]}},qD5l:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=r("a3Yh"),s=r.n(a),n=r("rVsN"),i=r.n(n),l=r("HzJ8"),d=r.n(l),c=r("4YfN"),u=r.n(c),p=r("1b4N"),m=r("0+j4"),h=r("aIe1"),f=r("Jky9"),g=r("6LEZ"),v=r("V6SZ"),b=r("K+4B"),I=r("fBur"),w=(r("KWYu"),r("Ips9")),y=(r("I8tE"),r("4+6g")),D=r("dF+P"),_=r("ryJa"),T=r.n(_),L={name:"Delivery",mixins:[D.a],data:function(){return{warehouseList:this.$store.getters.warehouseList,merchantsList:[],searchMerchantsList:[],brandList:[],modelBrand:[],modelList:[],tableData:[],selectRow:[],selectedOrderInfo:{},isListLoading:!1,pagination:{pageNum:1,pageSize:10,total:0},searchParams:{},isCreateFormVisible:!1,openType:1,isDetailFormVisible:!1,isCheckFormVisible:!1,checkInfo:{},flag:2,flag2:2,existOrder:[]}},mounted:function(){var e={warehouseUuid:Object(I.b)("warehouseUuid")};this.getMerchantsList(e),this.getSearchMerchantsList(e),this.getBrandModel(e)},computed:{isButtonIsDisabled:function(){var e=this;if(this.flag=2,this.flag2=2,this.selectRow.length)try{this.selectRow.forEach(function(t){"5"==t.goodsDeliverStatus?e.flag=1:e.flag=0,"2"==t.goodsDeliverStatus?e.flag2=1:e.flag2=0})}catch(e){}else this.flag=2,this.flag2=2;return 0!=this.flag||0!=this.flag2}},methods:(o={queryList:function(e){var t=this.searchParams=e;this.getMerchantsList({warehouseUuid:t.warehouseUuid}),this.getOrders(u()({},t,{pageNum:this.pagination.pageNum,pageSize:this.pagination.pageSize}))},rest:function(e){var t=this.searchParams=e;this.getOrders(u()({},t,{pageNum:this.pagination.pageNum,pageSize:this.pagination.pageSize}))},changePage:function(e){this.pagination.pageNum=e,this.queryList(this.searchParams)},indexMethod:function(e){return e+1+(this.pagination.pageNum-1)*this.pagination.pageSize},formatState:function(e,t){switch(e.goodsDeliverStatus){case"1":return"待审核";case"2":return"审核通过";case"3":return"审核未通过";case"4":return"待发货";case"5":return"已发货";default:return"未知"}},formatEnable:function(e,t){var r=void 0;switch("customerNeedInstall"===t.property?r=e.customerNeedInstall:"customerLiftFlag"===t.property&&(r=e.customerLiftFlag),r){case"0":return"是";case"1":return"否";default:return"未知"}},formatWarehouse:function(e){var t=this.warehouseList.find(function(t){return t.warehouseUuid===e.goodsWarehouseUuid});if(t)return t.warehouseName},formatMerchant:function(e){var t=this.merchantsList.find(function(t){return t.userUuid===e.goodsDeliverMerchantUuid});return t?t.userName:"---"},getOrders:function(e){var t=this;console.log(e),this.isListLoading=!0,Object(w.j)(e).then(function(r){if(t.isListLoading=!1,0==r.item.length&&r.pageNum>1)return t.pagination.pageNum=1,e.pageNum=1,void t.getOrders(e);t.tableData=r.item;var o=!0,a=!1,s=void 0;try{for(var n,i=d()(t.tableData);!(o=(n=i.next()).done);o=!0){var l=n.value;l.goodsDeliverDate=T()(l.goodsDeliverDate).utcOffset(8).format("YYYY-MM-DD")}}catch(e){a=!0,s=e}finally{try{!o&&i.return&&i.return()}finally{if(a)throw s}}t.pagination.total=r.total,t.pagination.pageNum=r.pageNum,t.pagination.pageSize=r.pageSize})}},s()(o,"changePage",function(e){this.pagination.pageNum=e,this.queryList(this.searchParams)}),s()(o,"indexMethod",function(e){return e+1+(this.pagination.pageNum-1)*this.pagination.pageSize}),s()(o,"updateTable",function(){this.queryList(this.searchParams)}),s()(o,"getMerchantsList",function(e){var t=this;return new i.a(function(r){Object(y.f)(e).then(function(e){e.error||(t.merchantsList=e,r())})})}),s()(o,"getSearchMerchantsList",function(e){var t=this;Object(y.f)(e).then(function(e){t.searchMerchantsList=e})}),s()(o,"getBrandModel",function(e){var t=this;Object(y.h)(e).then(function(e){e.error||(t.brandList=[],t.modelList=[],e.forEach(function(e,r){t.brandList.push(e.productBrand),e.productModel.forEach(function(e){t.modelList.push(e)})}),t.modelBrand=e)})}),s()(o,"getOrderDetail",function(e,t){}),s()(o,"handleAdd",function(){this.existOrder=this.tableData.filter(function(e){return"1"==e.goodsDeliverStatus||"3"==e.goodsDeliverStatus}),this.isCreateFormVisible=!0,this.openType=1}),s()(o,"handleDel",function(e){var t=this;this.$confirm("确认删除该出库单吗?","提示",{type:"warning"}).then(function(){var e={orderAccount:[]},r=!0,o=!1,a=void 0;try{for(var s,n=d()(t.selectRow);!(r=(s=n.next()).done);r=!0){var i=s.value;e.orderAccount.push(i.goodsDeliverUuid)}}catch(e){o=!0,a=e}finally{try{!r&&n.return&&n.return()}finally{if(o)throw a}}Object(w.e)(e).then(function(e){e.error||(t.$message({message:"删除成功",type:"success"}),t.queryList(t.searchParams))})}).catch(function(){})}),s()(o,"handleScan",function(e){this.isDetailFormVisible=!0,this.selectedOrderInfo=e}),s()(o,"handleEdit",function(e){this.isCreateFormVisible=!0,this.openType=2,this.selectedOrderInfo=e}),s()(o,"showScan",function(e){return"1"!=e.goodsDeliverStatus&&"3"!=e.goodsDeliverStatus}),s()(o,"showEdit",function(e){return"2"!=e.goodsDeliverStatus&&"4"!=e.goodsDeliverStatus&&"5"!=e.goodsDeliverStatus}),s()(o,"showCheck",function(e){return"1"==e.goodsDeliverStatus||"3"==e.goodsDeliverStatus}),s()(o,"cancelOrder",function(e){var t=this;this.$confirm("确认取消该出库单吗?","提示",{type:"warning"}).then(function(){var r={deliverOrderId:e.goodsDeliverUuid};Object(w.b)(r).then(function(e){e.error||(t.$message({message:"取消出库单成功",type:"success"}),t.queryList(t.searchParams))})}).catch(function(){})}),s()(o,"check",function(e){"3"!=e.goodsDeliverStatus&&"1"!=e.goodsDeliverStatus||(this.isCheckFormVisible=!0,this.checkInfo=e)}),s()(o,"updateCount",function(){this.queryList(this.searchParams)}),o),components:{DeliveryManagementSearch:p.default,CommonWrapper:m.a,CommonTable:h.a,OrderCreate:g.default,OrderDetail:v.default,NavButton:f.a,EnsureCheck:b.default}},x=r("bAq7"),k=r.n(x);var M=function(e){r("47vk")},F=r("C7Lr")(L,k.a,!1,M,"data-v-25db7bd8",null);t.default=F.exports},wqwC:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:(1==e.openType?"新增":"编辑")+"出库单",visible:e.isVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!0,width:"95%",top:"5vh"},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[r("el-form",{ref:"orderInfo",attrs:{model:e.orderInfo,rules:e.orderFormRules,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"商户",prop:"merchants"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择商户"},on:{change:e.changeMerchants},model:{value:e.orderInfo.goodsDeliverMerchantUuid,callback:function(t){e.$set(e.orderInfo,"goodsDeliverMerchantUuid",t)},expression:"orderInfo.goodsDeliverMerchantUuid"}},e._l(e.merchantsList,function(e,t){return r("el-option",{key:t,attrs:{disabled:e.disabled,label:e.userName,value:e.userUuid}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"订单类型",prop:"goodsDeliverType"}},[r("el-select",{attrs:{placeholder:"请选择出库单单类型"},on:{change:e.deliverTypeChange},model:{value:e.orderInfo.goodsDeliverType,callback:function(t){e.$set(e.orderInfo,"goodsDeliverType",t)},expression:"orderInfo.goodsDeliverType"}},e._l(e.goodsDeliverType,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"送货日期",prop:"goodsDeliverDate"}},[r("el-date-picker",{staticClass:"w100p",attrs:{align:"right",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.orderInfo.goodsDeliverDate,callback:function(t){e.$set(e.orderInfo,"goodsDeliverDate",t)},expression:"orderInfo.goodsDeliverDate"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{class:"1"==e.orderInfo.goodsDeliverType?"infoRequired":"",attrs:{label:"客户姓名",prop:"customerName"}},[r("el-input",{attrs:{maxlength:"200"},on:{blur:function(t){return e.validateField("customerName")}},model:{value:e.orderInfo.customerName,callback:function(t){e.$set(e.orderInfo,"customerName",t)},expression:"orderInfo.customerName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{class:"1"==e.orderInfo.goodsDeliverType?"infoRequired":"",attrs:{label:"客户电话",prop:"customerTelephone"}},[r("el-input",{attrs:{placeholder:"固话:区号-号码"},on:{blur:function(t){return e.validateField("customerTelephone")}},model:{value:e.orderInfo.customerTelephone,callback:function(t){e.$set(e.orderInfo,"customerTelephone",t)},expression:"orderInfo.customerTelephone"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{class:"1"==e.orderInfo.goodsDeliverType?"infoRequired":"",attrs:{label:"客户地址",prop:"customerAddress"}},[r("el-col",{staticClass:"pos-r"},[r("el-input",{ref:"address",attrs:{type:"textarea",autosize:{maxRows:3},maxlength:"200",resize:"none",disabled:!e.orderInfo.customerLat||!e.orderInfo.customerLng},on:{blur:function(t){return e.validateField("customerAddress")}},model:{value:e.orderInfo.customerAddress,callback:function(t){e.$set(e.orderInfo,"customerAddress",t)},expression:"orderInfo.customerAddress"}}),e._v(" "),r("i",{staticClass:"el-icon-location pos-a posBtn",on:{click:function(t){return e.chooseAddress(e.orderInfo)}}})],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"备注",prop:"goodsDeliverRemark"}},[r("el-input",{staticClass:"create_textarea",attrs:{type:"textarea",autosize:{maxRows:3},maxlength:"200",resize:"none",placeholder:"请输入出库单备注，最长200字符"},model:{value:e.orderInfo.goodsDeliverRemark,callback:function(t){e.$set(e.orderInfo,"goodsDeliverRemark",t)},expression:"orderInfo.goodsDeliverRemark"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"电梯",prop:"customerLiftFlag"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.orderInfo.customerLiftFlag,callback:function(t){e.$set(e.orderInfo,"customerLiftFlag",t)},expression:"orderInfo.customerLiftFlag"}},[e._v("有")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.orderInfo.customerLiftFlag,callback:function(t){e.$set(e.orderInfo,"customerLiftFlag",t)},expression:"orderInfo.customerLiftFlag"}},[e._v("无")])],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"是否安装",prop:"customerNeedInstall"}},[r("el-radio",{attrs:{label:"0"},model:{value:e.orderInfo.customerNeedInstall,callback:function(t){e.$set(e.orderInfo,"customerNeedInstall",t)},expression:"orderInfo.customerNeedInstall"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.orderInfo.customerNeedInstall,callback:function(t){e.$set(e.orderInfo,"customerNeedInstall",t)},expression:"orderInfo.customerNeedInstall"}},[e._v("否")])],1)],1)],1),e._v(" "),r("el-row",[r("common-table",{attrs:{flex:400}},[r("template",{slot:"table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isListLoading,expression:"isListLoading"}],ref:"orderTable",attrs:{height:"100%",stripe:"",border:!0,data:e.tableData}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50",fixed:"left","header-align":"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"品牌",prop:"productBrand","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{label:"货品名称","min-width":"130",prop:"productName","header-align":"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"子件","min-width":"140","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.productType?r("el-tooltip",{attrs:{placement:"top",effect:"light",enterable:"","visible-arrow":!1}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("div",[e._v("\n                    "+e._s(e.getItemName(t.row.productItems,t.row.productTempleteItemId))+"\n                  ")])]),e._v(" "),"1"==t.row.productType?r("el-select",{on:{change:function(r){return e.changeItem(t.row,t.$index)}},model:{value:t.row.productTempleteItemId,callback:function(r){e.$set(t.row,"productTempleteItemId",r)},expression:"scope.row.productTempleteItemId"}},e._l(t.row.productItems,function(e,t){return r("el-option",{key:t,attrs:{disabled:e.disabled,label:e.productItemName,value:e.productItemUuid}})}),1):e._e()],1):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"型号","min-width":"130",prop:"productModel","header-align":"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"规格","min-width":"140",prop:"productStandard"}}),e._v(" "),r("el-table-column",{attrs:{label:"颜色","min-width":"80",prop:"productColor"}}),e._v(" "),r("el-table-column",{attrs:{label:"货品类型",prop:"productType",formatter:e.typeFormatter,"min-width":"110"}}),e._v(" "),r("el-table-column",{attrs:{label:"数量","min-width":"100","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input-number",{staticClass:"productCount",attrs:{"controls-position":"right",min:1,precision:0,max:"0"==t.row.productType||"2"==t.row.productType?t.row.productCount:e.dealItemCount(t.row),size:"mini"},model:{value:t.row.deliverItemCount,callback:function(r){e.$set(t.row,"deliverItemCount",r)},expression:"scope.row.deliverItemCount"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"库存数量",width:"80","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.productType?r("span",[e._v(e._s(e.dealItemCount(t.row)))]):e._e(),e._v(" "),"0"==t.row.productType||"2"==t.row.productType?r("span",[e._v(e._s(t.row.productCount))]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"备注","min-width":"100",prop:"deliverItemRemark","show-tooltip-when-overflow":!0}}),e._v(" "),r("el-table-column",{attrs:{width:"100","render-header":e.renderHeader,fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",rules:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("\n                删除\n              ")])]}}])})],1)],1)],2)],1),e._v(" "),r("el-row",{staticStyle:{"margin-top":"10px"}},[r("el-col",{staticClass:"flex-right",attrs:{span:24}},[r("el-button",{attrs:{type:"primary",loading:e.isSaveing},on:{click:function(t){return e.save()}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),r("g-map",{attrs:{show:e.isMapShow,addressInfo:e.addressInfo},on:{"update:show":function(t){e.isMapShow=t},getAddress:e.getAddress}}),e._v(" "),r("template-select",{attrs:{show:e.isTemplateShow,merchantsList:e.merchantsList,merchantId:e.orderInfo.goodsDeliverMerchantUuid},on:{"update:show":function(t){e.isTemplateShow=t},sendData:e.receiveData}})],1)},staticRenderFns:[]}},zism:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"50px"}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"仓库",prop:"warehouseUuid"}},[r("el-select",{staticClass:"w100p",attrs:{filterable:""},on:{change:e.getMerchantsList},model:{value:e.searchForm.warehouseUuid,callback:function(t){e.$set(e.searchForm,"warehouseUuid",t)},expression:"searchForm.warehouseUuid"}},e._l(e.warehouseList,function(e,t){return r("el-option",{key:t,attrs:{label:e.warehouseName,value:e.warehouseUuid}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"商户",prop:"merchantUuid"}},[r("el-select",{staticClass:"w100p",attrs:{filterable:"",clearable:"",placeholder:"请选择商户"},on:{change:e.getBrandList},model:{value:e.searchForm.merchantUuid,callback:function(t){e.$set(e.searchForm,"merchantUuid",t)},expression:"searchForm.merchantUuid"}},e._l(e.merchantsList,function(e,t){return r("el-option",{key:t,attrs:{label:e.userName,value:e.userUuid}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"出库单号","label-width":"80px",prop:"deliverOrderId"}},[r("el-input",{attrs:{placeholder:"请输入出库单号"},model:{value:e.searchForm.deliverOrderId,callback:function(t){e.$set(e.searchForm,"deliverOrderId",t)},expression:"searchForm.deliverOrderId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"状态",prop:"orderStatus"}},[r("el-select",{staticClass:"w100p",attrs:{clearable:""},model:{value:e.searchForm.orderStatus,callback:function(t){e.$set(e.searchForm,"orderStatus",t)},expression:"searchForm.orderStatus"}},[r("el-option",{staticClass:"radio",attrs:{value:"1",label:"待审核"}}),e._v(" "),r("el-option",{staticClass:"radio",attrs:{value:"2",label:"审核通过"}}),e._v(" "),r("el-option",{staticClass:"radio",attrs:{value:"3",label:"审核未通过"}}),e._v(" "),r("el-option",{staticClass:"radio",attrs:{value:"4",label:"待发货"}}),e._v(" "),r("el-option",{staticClass:"radio",attrs:{value:"5",label:"已发货"}})],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"start"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"送货日期(起)","label-width":"100px",prop:"sendBeginDate"}},[r("el-date-picker",{staticClass:"w100p",attrs:{type:"date",align:"right",clearable:"","unlink-panels":"",placeholder:"请选择送货日期(起)",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.searchForm.sendBeginDate,callback:function(t){e.$set(e.searchForm,"sendBeginDate",t)},expression:"searchForm.sendBeginDate"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"送货日期(止)","label-width":"100px",prop:"sendEndDate"}},[r("el-date-picker",{staticClass:"w100p",attrs:{type:"date",align:"right",clearable:"","unlink-panels":"",placeholder:"请选择送货日期(止)",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.searchForm.sendEndDate,callback:function(t){e.$set(e.searchForm,"sendEndDate",t)},expression:"searchForm.sendEndDate"}})],1)],1),e._v(" "),r("el-col",{staticClass:"flex-right",attrs:{span:4,offset:2}},[r("el-button",{staticStyle:{height:"30px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.search(t)}}},[e._v("查询")]),e._v(" "),r("el-button",{staticStyle:{height:"30px"},on:{click:function(t){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=7.5b73b45f79b42b8b510b.js.map