webpackJsonp([87],{SeLb:function(t,e){},aLZv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("4YfN"),n=a.n(o),r=a("ryJa"),i=a.n(r),l=a("0+j4"),s=a("aIe1"),u=a("Jky9"),c=a("QbCM"),p=a("rXHn"),d=(a("fBur"),a("I8tE")),m={name:"GoodsDetail",data:function(){return{tableData:[],showTable:!1,selectRow:[],searchParams:{},isListLoading:!1,pagination:{pageNum:1,pageSize:15,total:0},isMoveFormVisible:!1,qrCodeVisible:!1}},props:{searchData:{type:Object},selectedId:{type:String}},watch:{},methods:{queryList:function(t){var e=this.searchParams=t;this.getGoods(n()({},e,{pageNum:this.pagination.pageNum,pageSize:this.pagination.pageSize}))},changePage:function(t){this.pagination.pageNum=t,this.queryList(this.searchParams)},indexMethod:function(t){return t+1+(this.pagination.pageNum-1)*this.pagination.pageSize},getGoods:function(t){var e=this;this.isListLoading=!0,Object(d.h)(t).then(function(a){if(0==a.item.length&&a.pageNum>1)return e.pagination.pageNum=1,t.pageNum=1,void e.getGoods(t);e.tableData=a.item,e.pagination.total=a.total,e.pagination.pageNum=a.pageNum,e.pagination.pageSize=a.pageSize,e.isListLoading=!1,e.showTable=!0})},receiveQualityFormat:function(t){if(null!=t.receiveQualityStatus)switch(t.receiveQualityStatus){case 0:return"待质检";case 1:return"质检通过";case 2:return"质检不通过";default:return"未知"}},sendQualityFormat:function(t){if(null!=t.sendQualityStatus)switch(t.sendQualityStatus){case 0:return"待质检";case 1:return"质检通过";case 2:return"质检不通过";default:return"未知"}},typeFormat:function(t){if(t.productType)switch(t.productType){case"0":return"小件";case"1":return"套件";case"2":return"单品";default:return"未知"}},formatDate:function(t){if(t.upgroundDate)return i()(t.upgroundDate).utcOffset(8).format("YYYY-MM-DD HH:mm:ss")},statusFormat:function(t){if(null!=t.productStatus)switch(t.productStatus){case 1:return"待收货";case 2:return"已收货";case 3:return"已质检";case 4:return"库内存储";case 5:return"待质检";case 6:return"预出库";case 7:return"已备货";case 8:return"已发货";case 9:return"待发货";case 10:return"待维修";case 11:return"待下架";default:return"未知"}},isButtonDisabled:function(){return!!this.selectRow.length},qrCodePrint:function(){this.qrCodeVisible=!0},moveShelve:function(){this.isMoveFormVisible=!0},exportExcel:function(){var t=this.searchParams;Object(d.p)(t).then(function(t){var e=t.data,a=new Blob([e],{type:"application/ms-excel"}),o="物件列表"+i()(new Date).format("YYYYMMDD")+".xls";if("download"in document.createElement("a")){var n=document.createElement("a");n.download=o,n.style.display="none",n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(a,o)})},updateList:function(){this.queryList(this.searchParams)}},components:{CommonWrapper:l.a,CommonTable:s.a,NavButton:u.a,MoveShelve:c.default,QrCode:p.default}},b=a("iwTj"),h=a.n(b);var g=function(t){a("SeLb")},v=a("C7Lr")(m,h.a,!1,g,"data-v-50114db7",null);e.default=v.exports},iwTj:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-detail"},[t.showTable?a("div",{staticClass:"content"},[a("nav-button",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-menu",disabled:!t.isButtonDisabled()},on:{click:t.qrCodePrint}},[t._v("二维码打印")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-sort",disabled:!t.isButtonDisabled()},on:{click:t.moveShelve}},[t._v("移库")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.exportExcel}},[t._v("导出清单")])],1)],1),t._v(" "),a("common-table",{staticClass:"goods-table",attrs:{flex:240}},[a("template",{slot:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isListLoading,expression:"isListLoading"}],ref:"goodsTable",attrs:{height:"100%",stripe:"",border:!0,"tooltip-effect":"light",data:t.tableData},on:{"selection-change":function(e){return t.selectRow=e}}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productMerchantName",label:"商户","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productBrand",label:"品牌","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productSeq",label:"条码","min-width":"160"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productName",label:"货品名称","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productModel",label:"型号","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productItemName",label:"子件名","min-width":"140","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productType",label:"货品类型","min-width":"140",formatter:t.typeFormat}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productColor",label:"颜色","min-width":"140","show-tooltip-when-overflow":!0}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productStandard",label:"规格","min-width":"140","show-tooltip-when-overflow":!0}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"productId",label:"货品编号","min-width":"160"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"storageName",label:"库位","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"upgroundDate",label:"上架时间","min-width":"150",formatter:t.formatDate}}),t._v(" "),a("el-table-column",{attrs:{prop:"productStatus",label:"货品状态",formatter:t.statusFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiveQualityStatus",label:"入库质检",formatter:t.receiveQualityFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"sendQualityStatus",label:"出库质检",formatter:t.sendQualityFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"140","show-overflow-tooltip":!0}})],1)],1),t._v(" "),a("template",{slot:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.pagination.pageNum,"page-size":t.pagination.pageSize,total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNum",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNum",e)},"current-change":t.changePage}})],1)],2)],1):a("div",{staticClass:"empty"},[a("h3",[t._v("请在左侧选择一个仓库库位")])]),t._v(" "),a("move-shelve",{attrs:{show:t.isMoveFormVisible,selectRow:t.selectRow},on:{"update:show":function(e){t.isMoveFormVisible=e},updateList:t.updateList}}),t._v(" "),a("qr-code",{attrs:{show:t.qrCodeVisible,tableData:t.selectRow},on:{"update:show":function(e){t.qrCodeVisible=e}}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=87.9bcef37eec14804beb57.js.map