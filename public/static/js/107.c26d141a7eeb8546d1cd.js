webpackJsonp([107],{"9Jq0":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{width:"670px",title:(e.isCreate?"新增":"编辑")+"库位",visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[r("div",{staticClass:"org-form"},[r("el-form",{ref:"orgForm",attrs:{inline:!0,model:e.orgForm,rules:e.orgFormRules,disabled:e.isFormDisabled,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"库位名称",prop:"storageName"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageName,callback:function(t){e.$set(e.orgForm,"storageName",t)},expression:"orgForm.storageName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"类型",prop:"storageType"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageType,callback:function(t){e.$set(e.orgForm,"storageType",t)},expression:"orgForm.storageType"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"编号",prop:"storageId"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageId,callback:function(t){e.$set(e.orgForm,"storageId",t)},expression:"orgForm.storageId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"容量",prop:"storageCapacity"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageCapacity,callback:function(t){e.$set(e.orgForm,"storageCapacity",t)},expression:"orgForm.storageCapacity"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"长度",prop:"storageLength"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageLength,callback:function(t){e.$set(e.orgForm,"storageLength",t)},expression:"orgForm.storageLength"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"宽度",prop:"storageWidth"}},[r("el-input",{attrs:{clearable:""},model:{value:e.orgForm.storageWidth,callback:function(t){e.$set(e.orgForm,"storageWidth",t)},expression:"orgForm.storageWidth"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"orgEnabled"}},[r("el-radio-group",{attrs:{value:e.orgForm.storageStatus},model:{value:e.orgForm.storageStatus,callback:function(t){e.$set(e.orgForm,"storageStatus",t)},expression:"orgForm.storageStatus"}},[r("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("禁用")])],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"描述",prop:"storageDesc"}},[r("el-input",{staticStyle:{width:"495px"},attrs:{type:"textarea",maxlength:"200",rows:5,placeholder:"填写库位描述,最长200字符",clearable:""},model:{value:e.orgForm.storageDesc,callback:function(t){e.$set(e.orgForm,"storageDesc",t)},expression:"orgForm.storageDesc"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{staticClass:"flex-right",attrs:{span:24}},[r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]}},e9j7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("4YfN"),o=r.n(a),s=r("aA9S"),l=r.n(s),i=(r("4+6g"),r("I8tE")),g={storageStatus:"1"},n={name:"ShelvesCreate",data:function(){return{showDetailMode:!0,isVisible:!1,isFormDisabled:!1,organization:[],orgForm:l()({},g),orgFormRules:{storageName:[{required:!0,message:"请填写库位名称",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageType:[{required:!0,message:"请填写库位类型",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageId:[{required:!0,message:"请输入库位编号",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},nodeData:{type:Object,required:!0},isCreate:{type:Boolean,required:!0},selectedId:{type:String,required:!0}},watch:{show:function(e){e&&(this.isCreate?this.setToCreateState():this.setToEditState()),this.isVisible=e}},methods:{setToCreateState:function(){this.nodeData?(this.orgForm=l()({},g),this.orgForm.storagePid=this.nodeData.id):(this.$message({message:"未找到父节点,无法在此情况下创建组织结构.",type:"error"}),this.isFormDisabled=!0)},setToEditState:function(){this.orgForm=l()({},this.nodeData)},save:function(){var e=this;this.$refs.orgForm.validate(function(t){if(t){var r=e.isCreate?"新增":"修改",a=o()({storageWarehouseUuid:e.selectedId,isCreate:e.isCreate},e.orgForm);console.log(a),Object(i.G)(a).then(function(t){t.error||(e.$message({message:r+"成功!",type:"success"}),e.$emit("updateTree"),e.cancel())})}})},cancel:function(){this.isVisible=!1,this.$emit("update:show",!1),this.orgForm=l()({},g),this.$refs.orgForm.resetFields()}}},c=r("9Jq0"),m=r.n(c);var u=function(e){r("jD1v")},p=r("C7Lr")(n,m.a,!1,u,"data-v-20eb6527",null);t.default=p.exports},jD1v:function(e,t){}});
//# sourceMappingURL=107.c26d141a7eeb8546d1cd.js.map