webpackJsonp([6,66,73,98,105],{BaMc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("sNXC"),o=a.n(r),s=a("4YfN"),i=a.n(s),n=a("R4Sj"),l=a("TVaK"),c={name:"ShelvesTree",data:function(){return{warehouseList:[],defaultProps:{label:"name"},contextmenuSelectedNode:null,expendKey:[]}},props:{clickedNodeData:{type:Object},selectedId:{type:String},shelveTreeData:{type:Array}},computed:i()({},Object(n.b)(["systemTheme"]),{selectedNode:function(){return this.clickedNodeData},systemColor:function(){return l.a[this.systemTheme]}}),watch:{shelveTreeData:function(e){e.length&&(this.expendKey=[e[0].id])}},methods:{showContextMenu:function(e,t,a,r){if(a){var o=this.$refs.tree,s=this.$refs.treeMenu;this.contextmenuSelectedNode=t,o.setCurrentKey(t.id),s.show({top:e.clientY,left:e.clientX})}},createShelve:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog",this.contextmenuSelectedNode)},editShelve:function(){this.$emit("update:isCreate",!1),this.$emit("openDialog",this.contextmenuSelectedNode)},deleteShelve:function(){this.$emit("deleteNode",this.contextmenuSelectedNode)},customRender:function(e,t){var a=t.node,r=t.data,s=(t.store,this.$createElement);return s("span",o()([{class:"custom-tree-node"},{directives:[{name:"contextmenu",arg:"treeMenu"}]}]),[s("span",[a.label]),this.$refs.tree.getCurrentNode()&&r.id===this.$refs.tree.getCurrentNode().id&&s("span",{class:"active",style:{backgroundColor:this.systemColor}})])},handleNodeClick:function(e){this.$emit("nodeClick",e)},createMore:function(){this.$emit("openCreateMoreDialog")}}},d=a("yaFv"),u=a.n(d);var g=function(e){a("bH6a")},p=a("C7Lr")(c,u.a,!1,g,"data-v-37074f3f",null);t.default=p.exports},DQv0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),o=a.n(r),s=a("uTPb"),i=a("I8tE"),n={name:"CreateMore",data:function(){return{isVisible:!1,orgForm:{storageSlides:"1",storageTitleBegin:"",storageTitleEnd:"",storageColumn:"",storageFloors:"",length:"",width:""},orgFormRules:{storageTitleBegin:[{required:!0,message:"请填写内容",trigger:"blur"}],storageColumn:[{required:!0,message:"请填写列数",trigger:"blur"},{validator:s.a.isPositiveInteger,message:"请输入整数",trigger:"blur"}],storageFloors:[{required:!0,message:"请填写层数",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},selectedId:{type:String,required:!0}},mounted:function(){},methods:{cancel:function(){this.isVisible=!1,this.$emit("update:show",!1),this.resetData(),this.$refs.orgForm.resetFields()},save:function(){var e=this;this.$refs.orgForm.validate(function(t){var a=o()({},e.orgForm,{wareHouseUuid:e.selectedId});t&&Object(i.a)(a).then(function(t){t.error||(e.$message({message:"生成成功!",type:"success"}),e.$emit("updateTree"),e.cancel())})})},reset:function(){this.resetData(),this.$refs.orgForm.resetFields()},resetData:function(){this.orgForm={}}},watch:{show:function(e){this.isVisible=e}}},l=a("XwG7"),c=a.n(l);var d=function(e){a("hQWP")},u=a("C7Lr")(n,c.a,!1,d,"data-v-85c1fb8e",null);t.default=u.exports},EdQ6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),o=a.n(r),s=a("0+j4"),i=a("aIe1"),n=a("Jky9"),l=a("TLA5"),c={name:"ShelvesDetail",data:function(){return{showTable:!1,selectRow:[],tableData:[],leafNode:[],qrCodeVisible:!1,pagination:{pageNum:1,pageSize:10,total:0}}},props:{nodeData:{type:Object,required:!0},isInit:{type:Boolean}},watch:{nodeData:{handler:function(e){this.getDetail()},deep:!0}},methods:{formatOpen:function(e){return"1"===e.storageStatus?"启用":"禁用"},formatType:function(e){switch(e.storageType.toString()){case"1":return"普通库位";case"2":return"收货区";case"3":return"备货区";case"4":return"质检区";case"5":return"待收货区";case"6":return"维修区";case"7":return"待发货区";case"8":return"发货区"}},getDetail:function(){this.nodeData&&(this.leafNode=[],this.getLeafNode(this.nodeData),this.showTable=!0)},getLeafNode:function(e){if(e.children.length){var t=!0,a=!1,r=void 0;try{for(var s,i=o()(e.children);!(t=(s=i.next()).done);t=!0){var n=s.value;this.getLeafNode(n)}}catch(e){a=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}}else this.leafNode.push(e);this.pagination.total=this.leafNode.length},changePage:function(e){this.pagination.pageNum=e},indexMethod:function(e){return e+1+(this.pagination.pageNum-1)*this.pagination.pageSize},isButtonIsDisabled:function(){return!!this.selectRow.length},handleAdd:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog",{})},edit:function(){this.$emit("update:isCreate",!1),this.$emit("openDialog",[this.selectRow])},cancel:function(){var e=this;this.$confirm("确认删除选中的库位吗?","提示",{type:"warning"}).then(function(){var t={shelvesId:[]},a=!0,r=!1,s=void 0;try{for(var i,n=o()(e.selectRow);!(a=(i=n.next()).done);a=!0){var l=i.value;t.shelvesId.push(l.id)}}catch(e){r=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(r)throw s}}e.$emit("deleteShelvesList",t)}).catch(function(){})},qrCodePrint:function(){this.qrCodeVisible=!0}},components:{CommonWrapper:s.a,CommonTable:i.a,NavButton:n.a,QrCode:l.default}},d=a("si62"),u=a.n(d);var g=function(e){a("px2Y")},p=a("C7Lr")(c,u.a,!1,g,"data-v-285c1af4",null);t.default=p.exports},XwG7:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"600px",title:"多库位生成",visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[a("div",{staticClass:"org-form"},[a("el-form",{ref:"orgForm",attrs:{inline:!0,model:e.orgForm,rules:e.orgFormRules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"库位",prop:"storageTitleBegin"}},[a("el-input",{staticStyle:{width:"65px"},model:{value:e.orgForm.storageTitleBegin,callback:function(t){e.$set(e.orgForm,"storageTitleBegin",t)},expression:"orgForm.storageTitleBegin"}})],1),e._v(" "),a("span",{staticClass:"mid-text"},[e._v("到")]),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"65px"},attrs:{span:3},model:{value:e.orgForm.storageTitleEnd,callback:function(t){e.$set(e.orgForm,"storageTitleEnd",t)},expression:"orgForm.storageTitleEnd"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"区分左右",prop:"storageSlides"}},[a("el-radio-group",{model:{value:e.orgForm.storageSlides,callback:function(t){e.$set(e.orgForm,"storageSlides",t)},expression:"orgForm.storageSlides"}},[a("el-radio",{attrs:{label:"1"}},[e._v("区分")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("不区分")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"列数",prop:"storageColumn"}},[a("el-input-number",{staticStyle:{width:"90px"},attrs:{min:1,max:999,step:1,"controls-position":"right",size:"mini"},model:{value:e.orgForm.storageColumn,callback:function(t){e.$set(e.orgForm,"storageColumn",t)},expression:"orgForm.storageColumn"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"层数",prop:"storageFloors"}},[a("el-input-number",{staticStyle:{width:"90px"},attrs:{min:1,max:999,step:1,"controls-position":"right",size:"mini"},model:{value:e.orgForm.storageFloors,callback:function(t){e.$set(e.orgForm,"storageFloors",t)},expression:"orgForm.storageFloors"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"每个库位长",prop:"length"}},[a("el-input-number",{staticStyle:{width:"90px"},attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},model:{value:e.orgForm.length,callback:function(t){e.$set(e.orgForm,"length",t)},expression:"orgForm.length"}})],1),e._v(" "),a("span",{staticClass:"mid-text"},[e._v("米，宽")]),e._v(" "),a("el-form-item",{attrs:{prop:"width"}},[a("el-input-number",{staticStyle:{width:"90px"},attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},model:{value:e.orgForm.width,callback:function(t){e.$set(e.orgForm,"width",t)},expression:"orgForm.width"}})],1),e._v(" "),a("span",{staticClass:"mid-text"},[e._v("米")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-row",[a("el-button",{staticClass:"mar-t-30",attrs:{type:"primary"},on:{click:e.save}},[e._v("生成")])],1),e._v(" "),a("el-row",[a("el-button",{staticClass:"mar-t-30",on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1)])},staticRenderFns:[]}},bH6a:function(e,t){},cAb1:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shelves"},[a("div",{staticClass:"main"},[a("div",{staticClass:"left-tree"},[a("div",{staticClass:"warehouseList"},[a("span",[e._v("仓库")]),e._v(" "),a("el-select",{attrs:{filterable:""},on:{change:e.updateTree},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},e._l(e.warehouseList,function(e,t){return a("el-option",{key:t,attrs:{label:e.warehouseName,value:e.warehouseUuid}})}),1)],1),e._v(" "),a("VuePerfectScrollbar",{staticClass:"scroll-area"},[a("tree",{ref:"tree",attrs:{selectedId:e.selectedId,clickedNodeData:e.clickedNodeData,isCreate:e.isCreate,shelveTreeData:e.shelveTreeData},on:{"update:isCreate":function(t){e.isCreate=t},"update:is-create":function(t){e.isCreate=t},nodeClick:e.handleNodeClick,openDialog:e.openDialog,deleteNode:e.deleteNode,updateTree:e.updateTree,openCreateMoreDialog:e.openCreateMoreDialog}})],1)],1),e._v(" "),a("div",{staticClass:"shelves-content"},[a("shelves-detail",{ref:"shelvesDetail",attrs:{selectedId:e.selectedId,isCreate:e.isCreate,nodeData:e.clickedNodeData},on:{"update:isCreate":function(t){e.isCreate=t},"update:is-create":function(t){e.isCreate=t},tableUpdate:e.updateTree,openDialog:e.openDialog,deleteShelvesList:e.deleteShelvesList}})],1)]),e._v(" "),a("shelves-create",{attrs:{selectedId:e.selectedId,show:e.showUpdateDialog,isCreate:e.isCreate,nodeData:e.selectedData},on:{"update:show":function(t){e.showUpdateDialog=t},"update:isCreate":function(t){e.isCreate=t},"update:is-create":function(t){e.isCreate=t},updateTree:e.updateTree,handleNodeClick:e.handleNodeClick}}),e._v(" "),a("create-more",{attrs:{selectedId:e.selectedId,show:e.showCreateMoreDialog},on:{"update:show":function(t){e.showCreateMoreDialog=t},updateTree:e.updateTree}})],1)},staticRenderFns:[]}},d46A:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"670px",title:(e.isCreate?"新增":"编辑")+"库位",visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[a("div",{staticClass:"org-form"},[a("el-form",{ref:"orgForm",attrs:{inline:!0,model:e.orgForm,rules:e.orgFormRules,disabled:e.isFormDisabled,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"库位名称",prop:"storageName"}},[a("el-input",{attrs:{maxlength:"30"},model:{value:e.orgForm.storageName,callback:function(t){e.$set(e.orgForm,"storageName",t)},expression:"orgForm.storageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"storageType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择库位类型"},model:{value:e.orgForm.storageType,callback:function(t){e.$set(e.orgForm,"storageType",t)},expression:"orgForm.storageType"}},e._l(e.storageTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.typeName,value:e.typeId}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"长度(米)",prop:"storageLength"}},[a("el-input-number",{attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},on:{change:e.getCapacity},model:{value:e.storageLength,callback:function(t){e.storageLength=t},expression:"storageLength"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"宽度(米)",prop:"storageWidth"}},[a("el-input-number",{attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},on:{change:e.getCapacity},model:{value:e.storageWidth,callback:function(t){e.storageWidth=t},expression:"storageWidth"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容量(米²)",prop:"storageCapacity"}},[a("el-input-number",{attrs:{min:0,max:999999,step:.01,precision:2,"controls-position":"right",size:"mini"},model:{value:e.storageCapacity,callback:function(t){e.storageCapacity=t},expression:"storageCapacity"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"storageStatus"}},[a("el-radio-group",{model:{value:e.orgForm.storageStatus,callback:function(t){e.$set(e.orgForm,"storageStatus",t)},expression:"orgForm.storageStatus"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("禁用")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"描述",prop:"storageDesc"}},[a("el-input",{staticStyle:{width:"495px"},attrs:{type:"textarea",autosize:{maxRows:3},maxlength:"200",resize:"none",placeholder:"填写库位描述，最长200字符"},model:{value:e.orgForm.storageDesc,callback:function(t){e.$set(e.orgForm,"storageDesc",t)},expression:"orgForm.storageDesc"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"flex-right",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]}},hQWP:function(e,t){},loe6:function(e,t){},o6bN:function(e,t){},px2Y:function(e,t){},si62:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shelves-content"},[e.showTable?a("div",{staticClass:"content"},[a("el-row",{attrs:{span:24}},[a("el-col",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.qrCodePrint(t)}}},[e._v("二维码打印")]),e._v(" "),a("common-table",[a("template",{slot:"table"},[a("el-table",{ref:"shelvesTable",attrs:{stripe:"",border:!0,data:e.leafNode.slice((e.pagination.pageNum-1)*e.pagination.pageSize,e.pagination.pageNum*e.pagination.pageSize)},on:{"selection-change":function(t){return e.selectRow=t}}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"name",label:"库位名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storageType",label:"库位类型",formatter:e.formatType}}),e._v(" "),a("el-table-column",{attrs:{prop:"storageStatus",label:"库位状态",formatter:e.formatOpen}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"size",label:"容量(米²)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"length",label:"长度(米)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"width",label:"宽度(米)","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"wareHouseName",label:"所属仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述","min-width":"120","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("template",{slot:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"current-change":e.changePage}})],1)],2)],1)],1)],1):a("div",{staticClass:"empty"},[a("h3",[e._v("请在左侧选择一个仓库库位")])]),e._v(" "),a("qr-code",{attrs:{show:e.qrCodeVisible,tableData:e.leafNode},on:{"update:show":function(t){e.qrCodeVisible=t}}})],1)},staticRenderFns:[]}},w06X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("BaMc"),o=a("wppO"),s=a.n(o),i=a("QPLA"),n=a("I8tE"),l=a("EdQ6"),c=a("yjrp"),d=a("DQv0"),u=a("fBur"),g={name:"ShelvesManager",mixins:[a("dF+P").a],data:function(){return{warehouseList:this.$store.getters.warehouseList,shelveTreeData:[],selectedId:"",clickedNodeData:{},selectedData:{},isCreate:!1,showUpdateDialog:!1,showCreateMoreDialog:!1}},mounted:function(){this.selectedId=Object(u.b)("warehouseUuid"),this.updateTree()},methods:{handleNodeClick:function(e){this.clickedNodeData=e},updateTree:function(){var e=this;Object(u.e)("warehouseUuid",this.selectedId);var t={storageWarehouseUuid:this.selectedId};Object(n.k)(t).then(function(t){!t.error&&t.length&&(e.shelveTreeData=Object(i.a)(t))})},openDialog:function(e){this.selectedData=e,this.showUpdateDialog=!0},openCreateMoreDialog:function(){this.showCreateMoreDialog=!0},deleteNode:function(e){var t=this,a="";a=e.children.length?"该库位下有子库位，确认删除吗?":"确认删除该库位吗?",this.$confirm(a,"提示",{type:"warning"}).then(function(){var a={storageUuid:e.id};Object(n.c)(a).then(function(e){e.error||(t.$message({message:"删除成功",type:"success"}),t.updateTree())})}).catch(function(){})},deleteShelvesList:function(e){var t=this;Object(n.d)(e).then(function(e){e.error||(t.$message({message:"删除成功",type:"success"}),t.updateTree())})}},components:{Tree:r.default,VuePerfectScrollbar:s.a,ShelvesDetail:l.default,ShelvesCreate:c.default,CreateMore:d.default}},p=a("cAb1"),m=a.n(p);var h=function(e){a("loe6")},f=a("C7Lr")(g,m.a,!1,h,"data-v-467a96e9",null);t.default=f.exports},yaFv:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-contextmenu",{ref:"treeMenu"},[a("v-contextmenu-item",{on:{click:e.createShelve}},[e._v("新增")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.editShelve}},[e._v("编辑")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.deleteShelve}},[e._v("删除")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.createMore}},[e._v("多库位生成")])],1),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.shelveTreeData,"node-key":"id",props:e.defaultProps,"default-expanded-keys":e.expendKey,"expand-on-click-node":!1,"render-content":e.customRender},on:{"node-contextmenu":e.showContextMenu,"node-click":e.handleNodeClick}})],1)},staticRenderFns:[]}},yjrp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),o=a.n(r),s=a("aA9S"),i=a.n(s),n=(a("uTPb"),a("4+6g"),a("I8tE")),l={pId:"",id:"",name:"",size:"",length:"",width:"",desc:"",storageType:"",storageStatus:1,storageDesc:"",storageUuid:"",storageName:"",storagePid:""},c={name:"ShelvesCreate",data:function(){return{storageLength:"",storageWidth:"",storageCapacity:"",showDetailMode:!0,isVisible:!1,isFormDisabled:!1,organization:[],orgForm:{},storageTypeList:[{typeId:"1",typeName:"普通库位"},{typeId:"2",typeName:"收货区"},{typeId:"3",typeName:"备货区"},{typeId:"4",typeName:"质检区"},{typeId:"5",typeName:"待收货区"},{typeId:"6",typeName:"维修区"},{typeId:"7",typeName:"待发货区"},{typeId:"8",typeName:"发货区"}],orgFormRules:{storageName:[{required:!0,message:"请填写库位名称",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageType:[{required:!0,message:"请选择库位类型",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageId:[{required:!0,message:"请输入库位编号",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageStatus:[{required:!0,message:"请选择库位状态",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},nodeData:{type:Object,required:!0},isCreate:{type:Boolean,required:!0},selectedId:{type:String,required:!0}},computed:{},watch:{show:function(e){e&&(this.orgForm=i()({},l),this.isCreate?(this.setToCreateState(),console.log(this.orgForm)):(this.setToEditState(),console.log(this.orgForm))),this.isVisible=e}},methods:{setToCreateState:function(){this.nodeData?this.orgForm.storagePid=this.nodeData.id:(this.$message({message:"未找到父节点,无法在此情况下创建库位.",type:"error"}),this.isFormDisabled=!0)},setToEditState:function(){this.orgForm=i()(this.orgForm,this.nodeData);var e=i()({},this.nodeData);this.storageLength=e.length,this.storageWidth=e.width,this.storageCapacity=e.size,this.orgForm.storageDesc=e.desc,this.orgForm.storageName=e.name,this.orgForm.storageUuid=e.id,this.orgForm.storagePid=e.pId,this.orgForm.storageStatus=Number(e.storageStatus)},getCapacity:function(){var e=this;this.$nextTick(function(){e.storageLength&&e.storageWidth&&(e.storageCapacity=Number(e.storageLength)*Number(e.storageWidth).toString())})},save:function(){var e=this;this.$refs.orgForm.validate(function(t){if(t){var a=e.isCreate?"新增":"修改",r=o()({storageWarehouseUuid:e.selectedId,isCreate:e.isCreate},e.orgForm,{storageLength:e.storageLength,storageWidth:e.storageWidth,storageCapacity:e.storageCapacity});Object(n.G)(r).then(function(t){t.error||(e.$message({message:a+"成功!",type:"success"}),e.$emit("updateTree"),e.cancel(),r.length=r.storageLength,r.width=r.storageWidth,r.size=r.storageCapacity,r.desc=r.storageDesc,r.name=r.storageName,r.id=r.storageUuid,r.pId=r.storagePid,e.$emit("handleNodeClick",r))})}})},cancel:function(){this.isVisible=!1,this.$emit("update:show",!1),this.orgForm=i()({},l),this.storageLength="",this.storageWidth="",this.storageCapacity="",this.$refs.orgForm.resetFields()}}},d=a("d46A"),u=a.n(d);var g=function(e){a("o6bN")},p=a("C7Lr")(c,u.a,!1,g,"data-v-6c2c0a26",null);t.default=p.exports}});
//# sourceMappingURL=6.26350d015627b757c834.js.map