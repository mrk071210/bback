webpackJsonp([46],{"6Qhd":function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav-button",[e("el-button-group",[e("el-button",{attrs:{icon:"fdddfont icon-add-new"},on:{click:t.handleAdd}},[t._v("新建")])],1)],1),t._v(" "),e("common-wrapper",[e("common-table",{attrs:{flex:230}},[e("template",{slot:"table"},[e("el-table",{ref:"dataDictTable",attrs:{height:"100%",stripe:"",data:t.tableData},on:{"selection-change":function(a){return t.selectRow=a}}},[e("el-table-column",{attrs:{type:"selection",width:"30"}}),t._v(" "),e("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号"}}),t._v(" "),e("el-table-column",{attrs:{prop:"value",label:"数据字典编码"}}),t._v(" "),e("el-table-column",{attrs:{prop:"display",label:"数据字典名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sort",label:"显示顺序"}}),t._v(" "),e("el-table-column",{attrs:{prop:"code",label:"数据字典类型编码"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"数据字典类型名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"isvalid",formatter:t.formatStatus,label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.isvalid?e("div",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.dataDictStatus(a.$index,a.row)}}},[t._v("禁用")])],1):t._e(),t._v(" "),1==a.row.isvalid?e("div",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.dataDictStatus(a.$index,a.row)}}},[t._v("启用")])],1):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",round:"",icon:"fdddfont icon-modify"},on:{click:function(e){e.stopPropagation(),t.handleEdit(a.$index,a.row)}}})]}}])})],1)],1),t._v(" "),e("template",{slot:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.pagination.pageNum,"page-size":t.pagination.pageSize,total:t.pagination.total},on:{"update:currentPage":function(a){t.$set(t.pagination,"pageNum",a)},"current-change":t.changePage}})],1)],2)],1),t._v(" "),e("data-dict-update",{attrs:{show:t.isShowDataDictDialog,dataDict:t.editDataDict,isCreate:t.isCreate,row:t.row},on:{"update:show":function(a){t.isShowDataDictDialog=a},"update:dataDict":function(a){t.editDataDict=a},updateList:t.getDictLists}})],1)},staticRenderFns:[]}},"9ewS":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Jky9"),n=e("0+j4"),o=e("aIe1"),s=e("aAX0"),l=e("mx14"),c={name:"DataDictPro",components:{NavButton:i.a,CommonWrapper:n.a,CommonTable:o.a,DataDictUpdate:s.default},props:{row:Object},data:function(){return{tableData:[],editDataDict:{},isShowDataDictDialog:!1,isListLoading:!1,isCreate:!0,pagination:{pageNum:1,pageSize:10,total:0}}},activated:function(){this.$refs.dataDictTable.doLayout()},mounted:function(){this.getDictLists()},methods:{getDictLists:function(){var t=this,a={code:this.row.code,pageSize:this.pagination.pageSize,pageNum:this.pagination.pageNum};Object(l.d)(a).then(function(a){t.tableData=a.list,t.pagination.total=a.total,t.pagination.pageNum=a.pageNum,t.pagination.pageSize=a.pageSize,t.isListLoading=!1})},formatStatus:function(t,a){return this.dictStatus="1"===t.isvalid?"启用":"禁用",this.dictStatus},handleEdit:function(t,a){this.isCreate=!1,this.editDataDict={uuid:a.uuid,code:a.code,value:a.value,display:a.display,sort:a.sort,isvalid:a.isvalid},this.isShowDataDictDialog=!0},handleAdd:function(){this.isCreate=!0,this.isShowDataDictDialog=!0},dataDictStatus:function(t,a){var e=this,i=0===parseInt(a.isvalid)?"启用":"禁用",n={isvalid:0===parseInt(a.isvalid)?1:0,uuid:a.uuid};this.$confirm("确认修改状态为"+i,"状态修改",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.e)(n).then(function(t){e.getDictLists({pageNum:e.pagination.pageNum,pageSize:e.pagination.pageSize})}),e.$message({type:"success",message:"修改成功!"})}).catch(function(){e.$message({type:"info",message:"已取消修改"})})},changePage:function(t){this.pagination.pageNum=t,this.getDictLists({pageNum:this.pagination.pageNum,pageSize:this.pagination.pageSize})},indexMethod:function(t){return t+1+(this.pagination.pageNum-1)*this.pagination.pageSize}}},u=e("6Qhd"),d=e.n(u),p=e("VU/8")(c,d.a,!1,null,null,null);a.default=p.exports}});
//# sourceMappingURL=46.33b439f90a063a402c66.js.map