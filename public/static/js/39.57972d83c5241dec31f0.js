webpackJsonp([39],{"+ea7":function(e,t){},p0Yx:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-contextmenu",{ref:"treeMenu"},[n("v-contextmenu-item",{on:{click:e.createOrg}},[e._v("新建字典")]),e._v(" "),n("v-contextmenu-item",{on:{click:e.editOrg}},[e._v("修改字典")]),e._v(" "),n("v-contextmenu-item",{attrs:{disabled:e.contextmenuSelectedNode&&""===e.contextmenuSelectedNode.pId},on:{click:e.deleteOrg}},[e._v("删除字典")])],1),e._v(" "),n("el-tree",{ref:"tree",attrs:{data:e.orgTreeData,"node-key":"id",props:e.defaultProps,"default-expand-all":"","expand-on-click-node":!1,"render-content":e.customRender},on:{"node-contextmenu":e.showContextMenu,"node-click":e.handleNodeClick}})],1)},staticRenderFns:[]}},zIUX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("nvbp"),r=n.n(o),i=n("Dd8w"),c=n.n(i),a=n("NYxO"),d=n("TVaK"),s=n("QPLA"),u=n("mx14"),l={name:"OrganizationTree",data:function(){return{orgTreeData:[],contextmenuSelectedNode:null,defaultProps:{label:"name"}}},props:{clickedNodeData:{type:Object}},computed:c()({},Object(a.b)(["systemTheme"]),{selectedNode:function(){return this.clickedNodeData},systemColor:function(){return d.a[this.systemTheme]}}),mounted:function(){this.initOrgTree()},methods:{initOrgTree:function(){var e=this;Object(u.k)().then(function(t){e.orgTreeData=Object(s.a)(t)})},handleNodeClick:function(e,t,n){this.$emit("nodeClick",{data:e,node:t,nodeCom:n})},showContextMenu:function(e,t,n,o){if(n){var r=this.$refs.tree,i=this.$refs.treeMenu;this.contextmenuSelectedNode=t,r.setCurrentKey(t.id),i.show({top:e.clientY,left:e.clientX})}},update:function(){this.initOrgTree()},createOrg:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog","OrgUpdate",this.contextmenuSelectedNode)},editOrg:function(){this.$emit("update:isCreate",!1),this.$emit("openDialog","OrgUpdate",this.contextmenuSelectedNode)},deleteOrg:function(){var e=this,t=this.contextmenuSelectedNode,n=t.name,o=t.id;o&&this.$confirm("此操作将删除字典:["+n+"], 确认要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.g)({orgUuid:o}).then(function(t){t.error||(e.$message({type:"success",message:"删除成功!"}),e.initOrgTree(),e.$emit("updateTree","delete"))})}).catch(function(){})},customRender:function(e,t){var n=t.node,o=t.data,i=(t.store,this.$createElement);return i("span",r()([{class:"custom-tree-node"},{directives:[{name:"contextmenu",arg:"treeMenu"}]}]),[i("span",[n.label]),this.$refs.tree.getCurrentNode()&&o.id===this.$refs.tree.getCurrentNode().id&&i("span",{class:"active",style:{backgroundColor:this.systemColor}})])}}},m=n("p0Yx"),f=n.n(m);var h=function(e){n("+ea7")},p=n("VU/8")(l,f.a,!1,h,"data-v-0167302d",null);t.default=p.exports}});
//# sourceMappingURL=39.57972d83c5241dec31f0.js.map