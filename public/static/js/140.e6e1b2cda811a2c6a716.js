webpackJsonp([140],{"KiQ/":function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,i=e._self._c||r;return i("div",[i("el-dialog",{attrs:{width:"640px",title:(e.isCreate?"新增":"编辑")+"司机信息",visible:e.isVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(r){e.isVisible=r},close:e.cancel}},[i("el-form",{ref:"driverForm",attrs:{model:e.driverForm,rules:e.formRules,"label-width":"110px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"所属机构",prop:"drvOrgUuid"}},[i("el-select",{on:{change:function(r){return e.getLineList(e.driverForm.drvOrgUuid)}},model:{value:e.driverForm.drvOrgUuid,callback:function(r){e.$set(e.driverForm,"drvOrgUuid",r)},expression:"driverForm.drvOrgUuid"}},e._l(e.lineOrgs,function(e){return i("el-option",{key:e.orgUuid,attrs:{label:e.orgName,value:e.orgUuid}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"所属线路",prop:"drvLineUuid"}},[i("el-select",{model:{value:e.driverForm.drvLineUuid,callback:function(r){e.$set(e.driverForm,"drvLineUuid",r)},expression:"driverForm.drvLineUuid"}},e._l(e.lines,function(e){return i("el-option",{key:e.lineUuid,attrs:{label:e.lineName,value:e.lineUuid}})}),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"司机姓名",prop:"drvName"}},[i("el-input",{attrs:{placeholder:"请输入司机姓名"},model:{value:e.driverForm.drvName,callback:function(r){e.$set(e.driverForm,"drvName",r)},expression:"driverForm.drvName"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"员工编号",prop:"drvEmployeeId"}},[i("el-input",{attrs:{placeholder:"请输入员工编号"},model:{value:e.driverForm.drvEmployeeId,callback:function(r){e.$set(e.driverForm,"drvEmployeeId",r)},expression:"driverForm.drvEmployeeId"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"驾驶证编号",prop:"drvCardNum"}},[i("el-input",{attrs:{placeholder:"请输入司机驾驶证编号"},model:{value:e.driverForm.drvCardNum,callback:function(r){e.$set(e.driverForm,"drvCardNum",r)},expression:"driverForm.drvCardNum"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"IC卡号",prop:"drvIcCard"}},[i("el-input",{attrs:{placeholder:"请输入IC卡号"},model:{value:e.driverForm.drvIcCard,callback:function(r){e.$set(e.driverForm,"drvIcCard",r)},expression:"driverForm.drvIcCard"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"司机电话",prop:"drvMobilePhone"}},[i("el-input",{attrs:{placeholder:"请输入司机电话"},model:{value:e.driverForm.drvMobilePhone,callback:function(r){e.$set(e.driverForm,"drvMobilePhone",e._n(r))},expression:"driverForm.drvMobilePhone"}})],1)],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"紧急联系人电话",prop:"drvEmergeContactPhone"}},[i("el-input",{attrs:{placeholder:"请输入紧急联系人电话"},model:{value:e.driverForm.drvEmergeContactPhone,callback:function(r){e.$set(e.driverForm,"drvEmergeContactPhone",e._n(r))},expression:"driverForm.drvEmergeContactPhone"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"司机电话",prop:"drvSex"}},[i("el-radio-group",{model:{value:e.driverForm.drvSex,callback:function(r){e.$set(e.driverForm,"drvSex",r)},expression:"driverForm.drvSex"}},[i("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),i("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:6,offset:18}},[i("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},cYU1:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=i("aA9S"),t=i.n(l),o=i("4+6g"),a=i("z7pT"),d=i("uTPb"),n={drvOrgUuid:"",drvLineUuid:"",drvName:"",drvEmployeeId:"",drvCardNum:"",drvIcCard:"",drvMobilePhone:"",drvEmergeContactPhone:"",drvSex:"1"},s={name:"BusUpdate",data:function(){return{lineOrgs:[],lines:[],isVisible:!1,driverForm:t()({},n),formRules:{drvOrgUuid:[{required:!0,message:"请选择所属机构",trigger:"change"}],drvLineUuid:[{required:!0,message:"请选择线路",trigger:"change"}],drvName:[{required:!0,message:"请输入司机姓名",trigger:"blur"}],drvEmployeeId:[{required:!0,message:"请输入员工编号",trigger:"blur"}],drvMobilePhone:[{validator:d.a.cellPhone,message:"手机号应为11位数字",trigger:"blur"}],drvEmergeContactPhone:[{validator:d.a.cellPhone,message:"手机号应为11位数字",trigger:"blur"}]}}},props:{show:{type:Boolean,default:!1},roleData:{type:Object},isCreate:{type:Boolean,required:!0}},watch:{show:function(e){e&&(this.isCreate?this.driverForm=t()({},n):this.driverForm=t()({},this.roleData)),this.isVisible=e}},mounted:function(){var e=this;Object(o.g)().then(function(r){e.lineOrgs=r});Object(o.j)({lineOrgUuid:"",lineIsvalid:"1",lineDropFlag:0}).then(function(r){e.lines=r})},methods:{getLineList:function(e){var r=this;this.driverForm.drvLineUuid="",this.lines=[];var i={lineOrgUuid:e,lineIsvalid:"1",lineDropFlag:0};Object(o.j)(i).then(function(e){r.lines=e})},save:function(){var e=this;this.$refs.driverForm.validate(function(r){if(r){var i=t()({},e.driverForm),l=e.isCreate?a.d:a.t,o=e.isCreate?"新增":"编辑";l(i).then(function(r){e.$message({message:o+"司机成功!",type:"success"}),e.cancel(),e.$emit("updateList")})}})},cancel:function(){this.driverForm=t()({},n),this.$refs.driverForm.resetFields(),this.$emit("update:show",!1),this.isVisible=!1}}},v=i("KiQ/"),c=i.n(v),m=i("C7Lr")(s,c.a,!1,null,null,null);r.default=m.exports}});
//# sourceMappingURL=140.e6e1b2cda811a2c6a716.js.map