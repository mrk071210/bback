{"version":3,"sources":["webpack:///source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue","webpack:///source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue","webpack:///source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue?ec9f","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue?8da4","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue?4fe9","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue?df86","webpack:///source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue?dd68","webpack:///source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue"],"names":["Tree","name","data","warehouseList","defaultProps","label","contextmenuSelectedNode","expendKey","props","clickedNodeData","type","Object","selectedId","String","shelveTreeData","Array","computed","extends_default","vuex_esm","selectedNode","this","systemColor","theme","systemTheme","watch","newVal","length","id","methods","showContextMenu","event","node","nodeCom","tree","$refs","contextMenu","treeMenu","setCurrentKey","show","top","clientY","left","clientX","createShelve","$emit","editShelve","deleteShelve","customRender","createElement","_ref","h","store","$createElement","_babel_helper_vue_jsx_merge_props_2_0_3_babel_helper_vue_jsx_merge_props_default","class","directives","arg","getCurrentNode","style","backgroundColor","handleNodeClick","createMore","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","Tree_default","a","__webpack_exports__","CreateMore","isVisible","orgForm","storageSlides","storageTitleBegin","storageTitleEnd","storageColumn","storageFloors","width","orgFormRules","required","message","trigger","validator","extendValidate","isPositiveInteger","Boolean","default","mounted","cancel","resetData","resetFields","save","_this","validate","isValid","params","wareHouseUuid","warehouse","then","res","error","$message","reset","isShow","CreateMore_default","ShelvesDetail","showTable","selectRow","tableData","leafNode","qrCodeVisible","pagination","pageNum","pageSize","total","nodeData","isInit","handler","getDetail","deep","formatOpen","row","storageStatus","formatType","storageType","toString","getLeafNode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","child","value","err","return","push","changePage","indexMethod","index","isButtonIsDisabled","handleAdd","edit","$confirm","shelvesId","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","item","catch","qrCodePrint","components","CommonWrapper","commonWrapper","CommonTable","commonTable","NavButton","navButton","QrCode","ShelvesDetail_default","module","exports","render","_vm","_h","_c","_self","attrs","title","visible","on","update:visible","$event","close","staticClass","ref","inline","model","rules","label-width","span","prop","staticStyle","callback","$$v","$set","expression","_v","min","max","step","controls-position","size","precision","click","staticRenderFns","filterable","change","updateTree","_l","org","key","warehouseName","warehouseUuid","isCreate","update:isCreate","update:is-create","nodeClick","openDialog","deleteNode","openCreateMoreDialog","tableUpdate","deleteShelvesList","showUpdateDialog","selectedData","update:show","showCreateMoreDialog","disabled","isFormDisabled","maxlength","clearable","placeholder","typeName","typeId","getCapacity","storageLength","storageWidth","storageCapacity","autosize","maxRows","resize","nativeOn","slot","stripe","border","slice","selection-change","selected","sortable","min-width","formatter","show-overflow-tooltip","background","layout","current-page","page-size","update:currentPage","update:current-page","current-change","Shelves","mixins","$store","getters","session","storageWarehouseUuid","generateTree","_this2","children","storageUuid","_this3","VuePerfectScrollbar","dist_default","ShelvesCreate","Shelves_default","node-key","default-expanded-keys","expand-on-click-node","render-content","node-contextmenu","node-click","InitForm","pId","desc","storageDesc","storageName","storagePid","showDetailMode","organization","storageTypeList","storageId","assign_default","setToCreateState","console","log","setToEditState","originData","Number","$nextTick","submitText","ShelvesCreate_default"],"mappings":"wLA2BAA,GACAC,KAAA,cACAC,KAFA,WAGA,OACAC,iBACAC,cACAC,MAAA,QAEAC,wBAAA,KACAC,eAGAC,OACAC,iBACAC,KAAAC,QAEAC,YACAF,KAAAG,QAEAC,gBACAJ,KAAAK,QAGAC,SAAYC,OACZN,OAAAO,EAAA,EAAAP,EAAA,iBACAQ,aAFA,WAGA,OAAAC,KAAAX,iBAEAY,YALA,WAMA,OAAAC,EAAA,EAAAF,KAAAG,gBAGAC,OACAV,eADA,SACAW,GACAA,EAAAC,SACAN,KAAAb,WAAAkB,EAAA,GAAAE,OAIAC,SAEAC,gBAFA,SAEAC,EAAA5B,EAAA6B,EAAAC,GACA,GAAAD,EAAA,CACA,IAAAE,EAAAb,KAAAc,MAAAD,KACAE,EAAAf,KAAAc,MAAAE,SAEAhB,KAAAd,wBAAAJ,EACA+B,EAAAI,cAAAnC,EAAAyB,IAEAQ,EAAAG,MAAAC,IAAAT,EAAAU,QAAAC,KAAAX,EAAAY,YAGAC,aAbA,WAcAvB,KAAAwB,MAAA,sBACAxB,KAAAwB,MAAA,aAAAxB,KAAAd,0BAEAuC,WAjBA,WAkBAzB,KAAAwB,MAAA,sBACAxB,KAAAwB,MAAA,aAAAxB,KAAAd,0BAEAwC,aArBA,WAsBA1B,KAAAwB,MAAA,aAAAxB,KAAAd,0BAGAyC,aAzBA,SAyBAC,EAzBAC,GAyBA,IAAAlB,EAAAkB,EAAAlB,KAAA7B,EAAA+C,EAAA/C,KAAAgD,GAAAD,EAAAE,MAAA/B,KAAAgC,gBAGA,OACAF,EAAA,OAAQG,MAARC,MAAA,qBAAAC,aAFAtD,KAAA,cAAAuD,IAAA,iBAGAN,EAAA,QAAAnB,EAAA1B,QAEAe,KAAAc,MAAAD,KAAAwB,kBAAAvD,EAAAyB,KAAAP,KAAAc,MAAAD,KAAAwB,iBAAA9B,IACAuB,EAAA,QAAAI,MAAA,SAAAI,OAAAC,gBAAAvC,KAAAC,kBAMAuC,gBAvCA,SAuCA1D,GACAkB,KAAAwB,MAAA,YAAA1C,IAEA2D,WA1CA,WA2CAzC,KAAAwB,MAAA,gDC1GA,IASAkB,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACElE,EACAmE,EAAAC,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB,6ICkDhCK,GACArE,KAAA,aACAC,KAFA,WAGA,OACAqE,WAAA,EACAC,SACAC,cAAA,IACAC,kBAAA,GACAC,gBAAA,GACAC,cAAA,GACAC,cAAA,GACAnD,OAAA,GACAoD,MAAA,IAEAC,cACAL,oBACAM,UAAA,EAAAC,QAAA,QAAAC,QAAA,SAEAN,gBACAI,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAC,UAAAC,EAAA,EAAAC,kBAAAJ,QAAA,QAAAC,QAAA,SAEAL,gBACAG,UAAA,EAAAC,QAAA,QAAAC,QAAA,YAKA1E,OACA8B,MACA5B,KAAA4E,QACAN,UAAA,EACAO,SAAA,GAEA3E,YACAF,KAAAG,OACAmE,UAAA,IAGAQ,QAvCA,aAyCA5D,SACA6D,OADA,WAEArE,KAAAmD,WAAA,EACAnD,KAAAwB,MAAA,kBACAxB,KAAAsE,YACAtE,KAAAc,MAAAsC,QAAAmB,eAEAC,KAPA,WAOA,IAAAC,EAAAzE,KACAA,KAAAc,MAAAsC,QAAAsB,SAAA,SAAAC,GACA,IAAAC,EAAA/E,OACA4E,EAAArB,SACAyB,cAAAJ,EAAAjF,aAEAmF,GACUpF,OAAAuF,EAAA,EAAAvF,CAAVqF,GAAAG,KAAA,SAAAC,GACAA,EAAAC,QACAR,EAAAS,UACArB,QAAA,QACAvE,KAAA,YAEAmF,EAAAjD,MAAA,cACAiD,EAAAJ,eAMAc,MA3BA,WA4BAnF,KAAAsE,YACAtE,KAAAc,MAAAsC,QAAAmB,eAEAD,UA/BA,WAgCAtE,KAAAoD,aAGAhD,OACAc,KADA,SACAkE,GACApF,KAAAmD,UAAAiC,0BCvJA,IASA1C,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACEI,EACAmC,EAAArC,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB,qKC8BhCyC,GACAzG,KAAA,gBACAC,KAFA,WAGA,OACAyG,WAAA,EACAC,aACAC,aACAC,YACAC,eAAA,EACAC,YACAC,QAAA,EACAC,SAAA,GACAC,MAAA,KAIA3G,OACA4G,UACA1G,KAAAC,OACAqE,UAAA,GAEAqC,QACA3G,KAAA4E,UAGA9D,OACA4F,UACAE,QADA,SACAF,GACAhG,KAAAmG,aAEAC,MAAA,IAGA5F,SACA6F,WADA,SACAC,GACA,YAAAA,EAAAC,cAAA,WAEAC,WAJA,SAIAF,GACA,OAAAA,EAAAG,YAAAC,YACA,QACA,aAEA,QACA,YAEA,QACA,YAEA,QACA,YAEA,QACA,aAEA,QACA,YAEA,QACA,aAEA,QACA,cAKAP,UAjCA,WAkCAnG,KAAAgG,WACAhG,KAAA0F,YACA1F,KAAA2G,YAAA3G,KAAAgG,UACAhG,KAAAuF,WAAA,IAGAoB,YAxCA,SAwCAX,GACA,GAAAA,EAAA,SAAA1F,OAAA,KAAAsG,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACA,QAAAC,EAAAC,EAAAC,IAAAlB,EAAA,YAAAY,GAAAI,EAAAC,EAAAE,QAAAC,MAAAR,GAAA,OAAAS,EAAAL,EAAAM,MACAtH,KAAA2G,YAAAU,IAFA,MAAAE,GAAAV,GAAA,EAAAC,EAAAS,EAAA,aAAAX,GAAAK,EAAAO,QAAAP,EAAAO,SAAA,WAAAX,EAAA,MAAAC,SAKA9G,KAAA0F,SAAA+B,KAAAzB,GAEAhG,KAAA4F,WAAAG,MAAA/F,KAAA0F,SAAApF,QAGAoH,WAnDA,SAmDA7B,GACA7F,KAAA4F,WAAAC,WAGA8B,YAvDA,SAuDAC,GACA,OAAAA,EAAA,GAAA5H,KAAA4F,WAAAC,QAAA,GAAA7F,KAAA4F,WAAAE,UAEA+B,mBA1DA,WA2DA,QAAA7H,KAAAwF,UAAAlF,QAGAwH,UA9DA,WA+DA9H,KAAAwB,MAAA,sBACAxB,KAAAwB,MAAA,kBAGAuG,KAnEA,WAoEA/H,KAAAwB,MAAA,sBACAxB,KAAAwB,MAAA,cAAAxB,KAAAwF,aAEAnB,OAvEA,WAuEA,IAAAI,EAAAzE,KACAA,KAAAgI,SAAA,oBACA1I,KAAA,YACAyF,KAAA,WACA,IAAAH,GACAqD,cAFAC,GAAA,EAAAC,GAAA,EAAAC,OAAArB,EAAA,IAIA,QAAAsB,EAAAC,EAAApB,IAAAzC,EAAAe,aAAA0C,GAAAG,EAAAC,EAAAnB,QAAAC,MAAAc,GAAA,OAAAK,EAAAF,EAAAf,MACA1C,EAAAqD,UAAAR,KAAAc,EAAAhI,KALA,MAAAgH,GAAAY,GAAA,EAAAC,EAAAb,EAAA,aAAAW,GAAAI,EAAAd,QAAAc,EAAAd,SAAA,WAAAW,EAAA,MAAAC,GAOA3D,EAAAjD,MAAA,oBAAAoD,KACA4D,MAAA,eAGAC,YArFA,WAsFAzI,KAAA2F,eAAA,IAGA+C,YACAC,cAAAC,EAAA,EACAC,YAAAC,EAAA,EACAC,UAAAC,EAAA,EACAC,SAAA,+BCnLA,IASAvG,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACEwC,EACA4D,EAAAlG,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB,4BCxBhCsG,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAtJ,KAAauJ,EAAAD,EAAAtH,eAA0BwH,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,aAAuBE,OAAOhG,MAAA,QAAAiG,MAAA,QAAAC,QAAAN,EAAAnG,WAAwD0G,IAAKC,iBAAA,SAAAC,GAAkCT,EAAAnG,UAAA4G,GAAqBC,MAAAV,EAAAjF,UAAqBmF,EAAA,OAAYS,YAAA,aAAuBT,EAAA,WAAgBU,IAAA,UAAAR,OAAqBS,QAAA,EAAAC,MAAAd,EAAAlG,QAAAiH,MAAAf,EAAA3F,aAAA2G,cAAA,WAAkFd,EAAA,UAAAA,EAAA,UAA4BE,OAAOa,KAAA,MAAWf,EAAA,UAAAA,EAAA,UAAAA,EAAA,gBAA+CE,OAAOzK,MAAA,KAAAuL,KAAA,uBAAyChB,EAAA,YAAiBiB,aAAa/G,MAAA,QAAe0G,OAAQ9C,MAAAgC,EAAAlG,QAAA,kBAAAsH,SAAA,SAAAC,GAA+DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,oBAAAuH,IAAgDE,WAAA,gCAAyC,GAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,QAA6BS,YAAA,aAAuBX,EAAAwB,GAAA,OAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,gBAAAA,EAAA,YAA8DiB,aAAa/G,MAAA,QAAegG,OAAQa,KAAA,GAASH,OAAQ9C,MAAAgC,EAAAlG,QAAA,gBAAAsH,SAAA,SAAAC,GAA6DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,kBAAAuH,IAA8CE,WAAA,8BAAuC,WAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAAA,EAAA,gBAAuEE,OAAOzK,MAAA,OAAAuL,KAAA,mBAAuChB,EAAA,kBAAuBY,OAAO9C,MAAAgC,EAAAlG,QAAA,cAAAsH,SAAA,SAAAC,GAA2DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,gBAAAuH,IAA4CE,WAAA,2BAAqCrB,EAAA,YAAiBE,OAAOzK,MAAA,OAAaqK,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,YAA4CE,OAAOzK,MAAA,OAAaqK,EAAAwB,GAAA,yBAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAAA,EAAA,gBAA2FE,OAAOzK,MAAA,KAAAuL,KAAA,mBAAqChB,EAAA,mBAAwBiB,aAAa/G,MAAA,QAAegG,OAAQqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,oBAAA,QAAAC,KAAA,QAAqEf,OAAQ9C,MAAAgC,EAAAlG,QAAA,cAAAsH,SAAA,SAAAC,GAA2DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,gBAAAuH,IAA4CE,WAAA,4BAAqC,WAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAAA,EAAA,gBAAuEE,OAAOzK,MAAA,KAAAuL,KAAA,mBAAqChB,EAAA,mBAAwBiB,aAAa/G,MAAA,QAAegG,OAAQqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,oBAAA,QAAAC,KAAA,QAAqEf,OAAQ9C,MAAAgC,EAAAlG,QAAA,cAAAsH,SAAA,SAAAC,GAA2DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,gBAAAuH,IAA4CE,WAAA,4BAAqC,WAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAAA,EAAA,gBAAuEE,OAAOzK,MAAA,QAAAuL,KAAA,YAAiChB,EAAA,mBAAwBiB,aAAa/G,MAAA,QAAegG,OAAQqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,IAAAG,UAAA,EAAAF,oBAAA,QAAAC,KAAA,QAAsFf,OAAQ9C,MAAAgC,EAAAlG,QAAA,OAAAsH,SAAA,SAAAC,GAAoDrB,EAAAsB,KAAAtB,EAAAlG,QAAA,SAAAuH,IAAqCE,WAAA,qBAA8B,GAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,QAA6BS,YAAA,aAAuBX,EAAAwB,GAAA,SAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,gBAAiDE,OAAOc,KAAA,WAAgBhB,EAAA,mBAAwBiB,aAAa/G,MAAA,QAAegG,OAAQqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,IAAAG,UAAA,EAAAF,oBAAA,QAAAC,KAAA,QAAsFf,OAAQ9C,MAAAgC,EAAAlG,QAAA,MAAAsH,SAAA,SAAAC,GAAmDrB,EAAAsB,KAAAtB,EAAAlG,QAAA,QAAAuH,IAAoCE,WAAA,oBAA6B,GAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,QAA6BS,YAAA,aAAuBX,EAAAwB,GAAA,mBAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,UAAqDE,OAAOa,KAAA,KAAUf,EAAA,UAAAA,EAAA,aAA+BS,YAAA,WAAAP,OAA8BpK,KAAA,WAAiBuK,IAAKwB,MAAA/B,EAAA9E,QAAkB8E,EAAAwB,GAAA,YAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,aAA8DS,YAAA,WAAAJ,IAA2BwB,MAAA/B,EAAAnE,SAAmBmE,EAAAwB,GAAA,+BAExxGQ,6DCAlBnC,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAtJ,KAAauJ,EAAAD,EAAAtH,eAA0BwH,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBS,YAAA,YAAsBT,EAAA,OAAYS,YAAA,SAAmBT,EAAA,OAAYS,YAAA,cAAwBT,EAAA,OAAYS,YAAA,kBAA4BT,EAAA,QAAAF,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,aAAwDE,OAAO6B,WAAA,IAAgB1B,IAAK2B,OAAAlC,EAAAmC,YAAwBrB,OAAQ9C,MAAAgC,EAAA,WAAAoB,SAAA,SAAAC,GAAgDrB,EAAA9J,WAAAmL,GAAmBE,WAAA,eAA0BvB,EAAAoC,GAAApC,EAAA,uBAAAqC,EAAA/D,GAAgD,OAAA4B,EAAA,aAAuBoC,IAAAhE,EAAA8B,OAAiBzK,MAAA0M,EAAAE,cAAAvE,MAAAqE,EAAAG,mBAAuD,OAAAxC,EAAAwB,GAAA,KAAAtB,EAAA,uBAA+CS,YAAA,gBAA0BT,EAAA,QAAaU,IAAA,OAAAR,OAAkBlK,WAAA8J,EAAA9J,WAAAH,gBAAAiK,EAAAjK,gBAAA0M,SAAAzC,EAAAyC,SAAArM,eAAA4J,EAAA5J,gBAA8HmK,IAAKmC,kBAAA,SAAAjC,GAAmCT,EAAAyC,SAAAhC,GAAoBkC,mBAAA,SAAAlC,GAAqCT,EAAAyC,SAAAhC,GAAoBmC,UAAA5C,EAAA9G,gBAAA2J,WAAA7C,EAAA6C,WAAAC,WAAA9C,EAAA8C,WAAAX,WAAAnC,EAAAmC,WAAAY,qBAAA/C,EAAA+C,yBAAsK,OAAA/C,EAAAwB,GAAA,KAAAtB,EAAA,OAAgCS,YAAA,oBAA8BT,EAAA,kBAAuBU,IAAA,gBAAAR,OAA2BlK,WAAA8J,EAAA9J,WAAAuM,SAAAzC,EAAAyC,SAAA/F,SAAAsD,EAAAjK,iBAAmFwK,IAAKmC,kBAAA,SAAAjC,GAAmCT,EAAAyC,SAAAhC,GAAoBkC,mBAAA,SAAAlC,GAAqCT,EAAAyC,SAAAhC,GAAoBuC,YAAAhD,EAAAmC,WAAAU,WAAA7C,EAAA6C,WAAAI,kBAAAjD,EAAAiD,sBAAqG,KAAAjD,EAAAwB,GAAA,KAAAtB,EAAA,kBAAyCE,OAAOlK,WAAA8J,EAAA9J,WAAA0B,KAAAoI,EAAAkD,iBAAAT,SAAAzC,EAAAyC,SAAA/F,SAAAsD,EAAAmD,cAA4G5C,IAAK6C,cAAA,SAAA3C,GAA+BT,EAAAkD,iBAAAzC,GAA4BiC,kBAAA,SAAAjC,GAAoCT,EAAAyC,SAAAhC,GAAoBkC,mBAAA,SAAAlC,GAAqCT,EAAAyC,SAAAhC,GAAoB0B,WAAAnC,EAAAmC,WAAAjJ,gBAAA8G,EAAA9G,mBAAoE8G,EAAAwB,GAAA,KAAAtB,EAAA,eAAgCE,OAAOlK,WAAA8J,EAAA9J,WAAA0B,KAAAoI,EAAAqD,sBAA4D9C,IAAK6C,cAAA,SAAA3C,GAA+BT,EAAAqD,qBAAA5C,GAAgC0B,WAAAnC,EAAAmC,eAA8B,IAE7iEH,wCCAlBnC,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAtJ,KAAauJ,EAAAD,EAAAtH,eAA0BwH,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,aAAuBE,OAAOhG,MAAA,QAAAiG,OAAAL,EAAAyC,SAAA,gBAAAnC,QAAAN,EAAAnG,WAAgF0G,IAAKC,iBAAA,SAAAC,GAAkCT,EAAAnG,UAAA4G,GAAqBC,MAAAV,EAAAjF,UAAqBmF,EAAA,OAAYS,YAAA,aAAuBT,EAAA,WAAgBU,IAAA,UAAAR,OAAqBS,QAAA,EAAAC,MAAAd,EAAAlG,QAAAiH,MAAAf,EAAA3F,aAAAiJ,SAAAtD,EAAAuD,eAAAvC,cAAA,WAAgHd,EAAA,UAAAA,EAAA,UAA4BE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,OAAAuL,KAAA,iBAAqChB,EAAA,YAAiBE,OAAOoD,UAAA,MAAiB1C,OAAQ9C,MAAAgC,EAAAlG,QAAA,YAAAsH,SAAA,SAAAC,GAAyDrB,EAAAsB,KAAAtB,EAAAlG,QAAA,cAAAuH,IAA0CE,WAAA,0BAAmC,OAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAmCE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,KAAAuL,KAAA,iBAAmChB,EAAA,aAAkBE,OAAOqD,UAAA,GAAAC,YAAA,WAAuC5C,OAAQ9C,MAAAgC,EAAAlG,QAAA,YAAAsH,SAAA,SAAAC,GAAyDrB,EAAAsB,KAAAtB,EAAAlG,QAAA,cAAAuH,IAA0CE,WAAA,wBAAmCvB,EAAAoC,GAAApC,EAAA,yBAAAf,EAAAX,GAAmD,OAAA4B,EAAA,aAAuBoC,IAAAhE,EAAA8B,OAAiBzK,MAAAsJ,EAAA0E,SAAA3F,MAAAiB,EAAA2E,YAA6C,eAAA5D,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAuDE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,QAAAuL,KAAA,mBAAwChB,EAAA,mBAAwBE,OAAOqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,IAAAG,UAAA,EAAAF,oBAAA,QAAAC,KAAA,QAAsFtB,IAAK2B,OAAAlC,EAAA6D,aAAyB/C,OAAQ9C,MAAAgC,EAAA,cAAAoB,SAAA,SAAAC,GAAmDrB,EAAA8D,cAAAzC,GAAsBE,WAAA,oBAA6B,OAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAmCE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,QAAAuL,KAAA,kBAAuChB,EAAA,mBAAwBE,OAAOqB,IAAA,EAAAC,IAAA,IAAAC,KAAA,IAAAG,UAAA,EAAAF,oBAAA,QAAAC,KAAA,QAAsFtB,IAAK2B,OAAAlC,EAAA6D,aAAyB/C,OAAQ9C,MAAAgC,EAAA,aAAAoB,SAAA,SAAAC,GAAkDrB,EAAA+D,aAAA1C,GAAqBE,WAAA,mBAA4B,WAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAoDE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,SAAAuL,KAAA,qBAA2ChB,EAAA,mBAAwBE,OAAOqB,IAAA,EAAAC,IAAA,OAAAC,KAAA,IAAAG,UAAA,EAAAF,oBAAA,QAAAC,KAAA,QAAyFf,OAAQ9C,MAAAgC,EAAA,gBAAAoB,SAAA,SAAAC,GAAqDrB,EAAAgE,gBAAA3C,GAAwBE,WAAA,sBAA+B,OAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAmCE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBE,OAAOzK,MAAA,KAAAuL,KAAA,mBAAqChB,EAAA,kBAAuBY,OAAO9C,MAAAgC,EAAAlG,QAAA,cAAAsH,SAAA,SAAAC,GAA2DrB,EAAAsB,KAAAtB,EAAAlG,QAAA,gBAAAuH,IAA4CE,WAAA,2BAAqCrB,EAAA,YAAiBE,OAAOzK,MAAA,KAAWqK,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,YAA4CE,OAAOzK,MAAA,KAAWqK,EAAAwB,GAAA,wBAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAuEE,OAAOa,KAAA,MAAWf,EAAA,gBAAqBiB,aAAa/G,MAAA,QAAegG,OAAQzK,MAAA,KAAAuL,KAAA,iBAAmChB,EAAA,YAAiBiB,aAAa/G,MAAA,SAAgBgG,OAAQpK,KAAA,WAAAiO,UAA8BC,QAAA,GAAUV,UAAA,MAAAW,OAAA,OAAAT,YAAA,kBAAkE5C,OAAQ9C,MAAAgC,EAAAlG,QAAA,YAAAsH,SAAA,SAAAC,GAAyDrB,EAAAsB,KAAAtB,EAAAlG,QAAA,cAAAuH,IAA0CE,WAAA,0BAAmC,WAAAvB,EAAAwB,GAAA,KAAAtB,EAAA,UAAAA,EAAA,UAAoDS,YAAA,aAAAP,OAAgCa,KAAA,MAAWf,EAAA,aAAkBE,OAAOpK,KAAA,WAAiBuK,IAAKwB,MAAA/B,EAAA9E,QAAkB8E,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,aAA6CK,IAAIwB,MAAA/B,EAAAjF,UAAoBiF,EAAAwB,GAAA,2BAEp3GQ,4HCAlBnC,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAtJ,KAAauJ,EAAAD,EAAAtH,eAA0BwH,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBS,YAAA,oBAA8BX,EAAA/D,UAAiDiE,EAAA,OAAgDS,YAAA,YAAsBT,EAAA,UAAeE,OAAOa,KAAA,MAAWf,EAAA,UAAAA,EAAA,aAA+BE,OAAOpK,KAAA,WAAiBoO,UAAWrC,MAAA,SAAAtB,GAAyB,OAAAT,EAAAb,YAAAsB,OAAiCT,EAAAwB,GAAA,WAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,gBAAAA,EAAA,YAAkEmE,KAAA,UAAanE,EAAA,YAAiBU,IAAA,eAAAR,OAA0BkE,OAAA,GAAAC,QAAA,EAAA/O,KAAAwK,EAAA5D,SAAAoI,OAAAxE,EAAA1D,WAAAC,QAAA,GAAAyD,EAAA1D,WAAAE,SAAAwD,EAAA1D,WAAAC,QAAAyD,EAAA1D,WAAAE,WAAuJ+D,IAAKkE,mBAAA,SAAAC,GAAwC,OAAA1E,EAAA9D,UAAAwI,MAAqCxE,EAAA,mBAAwBE,OAAOpK,KAAA,QAAAsI,MAAA0B,EAAA3B,YAAA1I,MAAA,KAAAyE,MAAA,QAAkE4F,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOuE,SAAA,GAAAzD,KAAA,OAAAvL,MAAA,OAAAiP,YAAA,SAA8D5E,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOc,KAAA,cAAAvL,MAAA,OAAAkP,UAAA7E,EAAA9C,cAAgE8C,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOc,KAAA,gBAAAvL,MAAA,OAAAkP,UAAA7E,EAAAjD,cAAkEiD,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOuE,SAAA,GAAAzD,KAAA,OAAAvL,MAAA,SAAAiP,YAAA,QAA+D5E,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOuE,SAAA,GAAAzD,KAAA,SAAAvL,MAAA,QAAAiP,YAAA,QAAgE5E,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOuE,SAAA,GAAAzD,KAAA,QAAAvL,MAAA,QAAAiP,YAAA,QAA+D5E,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOuE,SAAA,GAAAzD,KAAA,gBAAAvL,MAAA,UAAqDqK,EAAAwB,GAAA,KAAAtB,EAAA,mBAAoCE,OAAOc,KAAA,OAAAvL,MAAA,KAAAiP,YAAA,MAAAE,yBAAA,MAA2E,OAAA9E,EAAAwB,GAAA,KAAAtB,EAAA,YAAqCmE,KAAA,eAAkBnE,EAAA,iBAAsBE,OAAO2E,WAAA,GAAAC,OAAA,2BAAAC,eAAAjF,EAAA1D,WAAAC,QAAA2I,YAAAlF,EAAA1D,WAAAE,SAAAC,MAAAuD,EAAA1D,WAAAG,OAA2J8D,IAAK4E,qBAAA,SAAA1E,GAAsC,OAAAT,EAAAsB,KAAAtB,EAAA1D,WAAA,UAAAmE,IAAmD2E,sBAAA,SAAA3E,GAAwC,OAAAT,EAAAsB,KAAAtB,EAAA1D,WAAA,UAAAmE,IAAmD4E,iBAAArF,EAAA5B,eAAkC,mBAAx/D8B,EAAA,OAA6BS,YAAA,UAAoBT,EAAA,MAAAF,EAAAwB,GAAA,oBAAu8DxB,EAAAwB,GAAA,KAAAtB,EAAA,WAAgDE,OAAOxI,KAAAoI,EAAA3D,cAAAF,UAAA6D,EAAA5D,UAAkDmE,IAAK6C,cAAA,SAAA3C,GAA+BT,EAAA3D,cAAAoE,OAA2B,IAEtxEuB,qNCsElBsD,GACA/P,KAAA,iBACAgQ,kBAAA,GACA/P,KAHA,WAIA,OACAC,cAAAiB,KAAA8O,OAAAC,QAAAhQ,cACAW,kBACAF,WAAA,GACAH,mBACAoN,gBACAV,UAAA,EACAS,kBAAA,EACAG,sBAAA,IAGAvI,QAfA,WAgBApE,KAAAR,WAAAD,OAAAyP,EAAA,EAAAzP,CAAA,iBACAS,KAAAyL,cAEAjL,SACAgC,gBADA,SACA1D,GACAkB,KAAAX,gBAAAP,GAEA2M,WAJA,WAIA,IAAAhH,EAAAzE,KACMT,OAAAyP,EAAA,EAAAzP,CAAN,gBAAAS,KAAAR,YACA,IAAAoF,GACAqK,qBAAAjP,KAAAR,YAEMD,OAAAuF,EAAA,EAAAvF,CAANqF,GAAAG,KAAA,SAAAC,IACAA,EAAAC,OAAAD,EAAA1E,SACAmE,EAAA/E,eAAAH,OAAA2P,EAAA,EAAA3P,CAAAyF,OAIAmH,WAfA,SAeAnG,GACAhG,KAAAyM,aAAAzG,EACAhG,KAAAwM,kBAAA,GAEAH,qBAnBA,WAoBArM,KAAA2M,sBAAA,GAGAP,WAvBA,SAuBApG,GAAA,IAAAmJ,EAAAnP,KACA6D,EAAA,GAEAA,EADAmC,EAAAoJ,SAAA9O,OACA,kBAEA,YAEAN,KAAAgI,SAAAnE,EAAA,MACAvE,KAAA,YACAyF,KAAA,WACA,IAAAH,GACAyK,YAAArJ,EAAAzF,IAEQhB,OAAAuF,EAAA,EAAAvF,CAARqF,GAAAG,KAAA,SAAAC,GACAA,EAAAC,QACAkK,EAAAjK,UACArB,QAAA,OACAvE,KAAA,YAEA6P,EAAA1D,kBAGAjD,MAAA,eAEA+D,kBA/CA,SA+CA3H,GAAA,IAAA0K,EAAAtP,KACMT,OAAAuF,EAAA,EAAAvF,CAANqF,GAAAG,KAAA,SAAAC,GACAA,EAAAC,QACAqK,EAAApK,UACArB,QAAA,OACAvE,KAAA,YAEAgQ,EAAA7D,kBAKA/C,YACA9J,OAAA,QACA2Q,oBAAAC,EAAAxM,EACAsC,gBAAA,QACAmK,gBAAA,QACAvM,aAAA,+BCxJA,IASAR,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACE8L,EACAc,EAAA1M,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB,4BCxBhCsG,EAAAC,SAAkBC,OAFlB,WAA0B,IAAAC,EAAAtJ,KAAauJ,EAAAD,EAAAtH,eAA0BwH,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAAA,EAAA,iBAAqCU,IAAA,aAAeV,EAAA,sBAA2BK,IAAIwB,MAAA/B,EAAA/H,gBAA0B+H,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,sBAAsDK,IAAIwB,MAAA/B,EAAA7H,cAAwB6H,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,sBAAsDK,IAAIwB,MAAA/B,EAAA5H,gBAA0B4H,EAAAwB,GAAA,QAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,sBAAsDK,IAAIwB,MAAA/B,EAAA7G,cAAwB6G,EAAAwB,GAAA,eAAAxB,EAAAwB,GAAA,KAAAtB,EAAA,WAAkDU,IAAA,OAAAR,OAAkB5K,KAAAwK,EAAA5J,eAAAiQ,WAAA,KAAAvQ,MAAAkK,EAAAtK,aAAA4Q,wBAAAtG,EAAAnK,UAAA0Q,wBAAA,EAAAC,iBAAAxG,EAAA3H,cAAwKkI,IAAKkG,mBAAAzG,EAAA7I,gBAAAuP,aAAA1G,EAAA9G,oBAAyE,IAEtuB8I,wLCoFlB2E,GACAC,IAAA,GACA3P,GAAA,GACA1B,KAAA,GACAsM,KAAA,GACA7K,OAAA,GACAoD,MAAA,GACAyM,KAAA,GACA1J,YAAA,GACAF,cAAA,EACA6J,YAAA,GACAf,YAAA,GACAgB,YAAA,GACAC,WAAA,IAIAb,GACA5Q,KAAA,gBACAC,KAFA,WAGA,OACAsO,cAAA,GACAC,aAAA,GACAC,gBAAA,GACAiD,gBAAA,EACApN,WAAA,EACA0J,gBAAA,EACA2D,gBACApN,WACAqN,kBACAvD,OAAA,IAAAD,SAAA,SACAC,OAAA,IAAAD,SAAA,QACAC,OAAA,IAAAD,SAAA,QACAC,OAAA,IAAAD,SAAA,QACAC,OAAA,IAAAD,SAAA,SACAC,OAAA,IAAAD,SAAA,QACAC,OAAA,IAAAD,SAAA,SACAC,OAAA,IAAAD,SAAA,QAEAtJ,cACA0M,cACAzM,UAAA,EAAAC,QAAA,UAAAC,QAAA,SACAkH,IAAA,GAAAnH,QAAA,YAAAC,QAAA,SAEA2C,cACA7C,UAAA,EAAAC,QAAA,UAAAC,QAAA,SACAkH,IAAA,GAAAnH,QAAA,YAAAC,QAAA,SAEA4M,YACA9M,UAAA,EAAAC,QAAA,UAAAC,QAAA,SACAkH,IAAA,GAAAnH,QAAA,YAAAC,QAAA,SAEAyC,gBACA3C,UAAA,EAAAC,QAAA,UAAAC,QAAA,YAIA1E,OACA8B,MACA5B,KAAA4E,QACAN,UAAA,EACAO,SAAA,GAEA6B,UACA1G,KAAAC,OACAqE,UAAA,GAEAmI,UACAzM,KAAA4E,QACAN,UAAA,GAEApE,YACAF,KAAAG,OACAmE,UAAA,IAGAhE,YAGAQ,OACAc,KADA,SACAkE,GACAA,IACApF,KAAAoD,QAAAuN,OAAAV,GAGAjQ,KAAA+L,UACA/L,KAAA4Q,mBACAC,QAAAC,IAAA9Q,KAAAoD,WAGApD,KAAA+Q,iBACAF,QAAAC,IAAA9Q,KAAAoD,WAKApD,KAAAmD,UAAAiC,IAGA5E,SACAoQ,iBADA,WAEA5Q,KAAAgG,SAEAhG,KAAAoD,QAAAkN,WAAAtQ,KAAAgG,SAAAzF,IAEAP,KAAAkF,UACArB,QAAA,sBACAvE,KAAA,UAEAU,KAAA6M,gBAAA,IAGAkE,eAbA,WAcA/Q,KAAAoD,QAAAuN,IAAA3Q,KAAAoD,QAAApD,KAAAgG,UACA,IAAAgL,EAAAL,OAAA3Q,KAAAgG,UACAhG,KAAAoN,cAAA4D,EAAA1Q,OACAN,KAAAqN,aAAA2D,EAAAtN,MACA1D,KAAAsN,gBAAA0D,EAAA7F,KACAnL,KAAAoD,QAAAgN,YAAAY,EAAAb,KACAnQ,KAAAoD,QAAAiN,YAAAW,EAAAnS,KACAmB,KAAAoD,QAAAiM,YAAA2B,EAAAzQ,GACAP,KAAAoD,QAAAkN,WAAAU,EAAAd,IACAlQ,KAAAoD,QAAAmD,cAAA0K,OAAAD,EAAAzK,gBAEA4G,YAzBA,WAyBA,IAAA1I,EAAAzE,KACAA,KAAAkR,UAAA,WACAzM,EAAA2I,eAAA3I,EAAA4I,eACA5I,EAAA6I,gBAAA2D,OAAAxM,EAAA2I,eAAA6D,OAAAxM,EAAA4I,cAAA3G,eAIAlC,KAhCA,WAgCA,IAAA2K,EAAAnP,KACAA,KAAAc,MAAAsC,QAAAsB,SAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAwM,EAAAhC,EAAApD,SAAA,UACAnH,EAAA/E,KACAoP,qBAAAE,EAAA3P,WACAuM,SAAAoD,EAAApD,UACAoD,EAAA/L,SACAgK,cAAA+B,EAAA/B,cACAC,aAAA8B,EAAA9B,aACAC,gBAAA6B,EAAA7B,kBAEU/N,OAAAuF,EAAA,EAAAvF,CAAVqF,GAAAG,KAAA,SAAAC,GACAA,EAAAC,QACAkK,EAAAjK,UACArB,QAAAsN,EAAA,MACA7R,KAAA,YAGA6P,EAAA3N,MAAA,cACA2N,EAAA9K,SAEAO,EAAAtE,OAAAsE,EAAAwI,cACAxI,EAAAlB,MAAAkB,EAAAyI,aACAzI,EAAAuG,KAAAvG,EAAA0I,gBACA1I,EAAAuL,KAAAvL,EAAAwL,YACAxL,EAAA/F,KAAA+F,EAAAyL,YACAzL,EAAArE,GAAAqE,EAAAyK,YACAzK,EAAAsL,IAAAtL,EAAA0L,WACAnB,EAAA3N,MAAA,kBAAAoD,UAMAP,OAnEA,WAoEArE,KAAAmD,WAAA,EACAnD,KAAAwB,MAAA,kBACAxB,KAAAoD,QAAAuN,OAAAV,GACAjQ,KAAAoN,cAAA,GACApN,KAAAqN,aAAA,GACArN,KAAAsN,gBAAA,GACAtN,KAAAc,MAAAsC,QAAAmB,sCChQA,IASA7B,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACE2M,EACA2B,EAAApO,GATF,EAWAN,EAPA,kBAEA,MAUeO,EAAA,QAAAJ,EAAiB","file":"static/js/6.26350d015627b757c834.js","sourcesContent":["nodeClick<template>\r\n  <div>\r\n    <v-contextmenu ref=\"treeMenu\">\r\n      <v-contextmenu-item @click=\"createShelve\">新增</v-contextmenu-item>\r\n      <v-contextmenu-item @click=\"editShelve\">编辑</v-contextmenu-item>\r\n      <v-contextmenu-item @click=\"deleteShelve\">删除</v-contextmenu-item>\r\n      <v-contextmenu-item @click=\"createMore\">多库位生成</v-contextmenu-item>\r\n    </v-contextmenu>\r\n    <el-tree\r\n      ref=\"tree\"\r\n      :data=\"shelveTreeData\"\r\n      node-key=\"id\"\r\n      :props=\"defaultProps\"\r\n      :default-expanded-keys=\"expendKey\"\r\n      :expand-on-click-node=\"false\"\r\n      @node-contextmenu=\"showContextMenu\"\r\n      @node-click=\"handleNodeClick\"\r\n      :render-content=\"customRender\"\r\n    >\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from 'vuex'\r\n  import { baseTheme } from '@/utils/theme'\r\n\r\nexport default {\r\n  name: 'ShelvesTree',\r\n  data () {\r\n    return {\r\n      warehouseList: [],\r\n      defaultProps: {\r\n        label: 'name'\r\n      },\r\n      contextmenuSelectedNode: null,\r\n      expendKey: []\r\n    }\r\n  },\r\n  props: {\r\n    clickedNodeData: {\r\n      type: Object\r\n    },\r\n    selectedId: {\r\n      type: String\r\n    },\r\n    shelveTreeData:{\r\n      type: Array\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['systemTheme']),\r\n    selectedNode () {\r\n      return this.clickedNodeData\r\n    },\r\n    systemColor () {\r\n      return baseTheme[this.systemTheme]\r\n    }\r\n  },\r\n  watch: {\r\n    shelveTreeData (newVal) {\r\n      if(newVal.length){\r\n        this.expendKey = [newVal[0].id]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 节点右键弹出菜单\r\n    showContextMenu (event, data, node, nodeCom) {\r\n      if (node) {\r\n        const tree = this.$refs.tree\r\n        const contextMenu = this.$refs.treeMenu\r\n        // 右键设置当前树节点为选中状态\r\n        this.contextmenuSelectedNode = data\r\n        tree.setCurrentKey(data.id)\r\n        // 弹出菜单\r\n        contextMenu.show({top: event.clientY, left: event.clientX})\r\n      }\r\n    },\r\n    createShelve () {\r\n      this.$emit('update:isCreate', true)\r\n      this.$emit('openDialog', this.contextmenuSelectedNode)\r\n    },\r\n    editShelve () {\r\n      this.$emit('update:isCreate', false)\r\n      this.$emit('openDialog', this.contextmenuSelectedNode)\r\n    },\r\n    deleteShelve () {\r\n      this.$emit('deleteNode',this.contextmenuSelectedNode)\r\n    },\r\n    // 树节点自定义渲染格式 (JSX)\r\n    customRender (createElement, {node, data, store}) {\r\n      // directive 参数参考指令钩子函数中的定义: https://cn.vuejs.org/v2/guide/custom-directive.html\r\n      const directives = [{name: 'contextmenu', arg: 'treeMenu'}]\r\n      return (\r\n        <span class=\"custom-tree-node\" { ...{directives} } >\r\n    <span>{node.label}</span>\r\n      {\r\n        (this.$refs.tree.getCurrentNode() && data.id === this.$refs.tree.getCurrentNode().id) &&\r\n        <span class=\"active\" style={{backgroundColor: this.systemColor}}></span>\r\n      }\r\n    </span>\r\n    )\r\n    },\r\n    // 节点点击事件\r\n    handleNodeClick (data) {\r\n      this.$emit('nodeClick', data)\r\n    },\r\n    createMore () {\r\n      this.$emit('openCreateMoreDialog')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .custom-tree-node {\r\n    position:relative;\r\n    width:100%;\r\n\r\n  .active {\r\n    position: absolute;\r\n    display: inline-block;\r\n    width:10px;\r\n    height:10px;\r\n    right:10px;\r\n    top:3px;\r\n    border-radius:10px;\r\n  }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37074f3f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Tree.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Tree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Tree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37074f3f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Tree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37074f3f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog\r\n    width=\"600px\"\r\n    title=\"多库位生成\"\r\n    :visible.sync=\"isVisible\"\r\n    @close=\"cancel\"\r\n  >\r\n    <div class=\"org-form\">\r\n      <el-form :inline=\"true\" ref=\"orgForm\" :model=\"orgForm\" :rules=\"orgFormRules\" label-width=\"100px\">\r\n        <el-row>\r\n        <el-col :span=\"18\">\r\n        <el-row>\r\n          <el-col>\r\n            <el-form-item label=\"库位\" prop=\"storageTitleBegin\">\r\n              <el-input v-model=\"orgForm.storageTitleBegin\" style=\"width:65px\"/>\r\n            </el-form-item>\r\n            <span class=\"mid-text\">到</span>\r\n            <el-form-item>\r\n              <el-input :span=\"3\" v-model=\"orgForm.storageTitleEnd\" style=\"width:65px\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n          <el-row>\r\n            <el-col>\r\n              <el-form-item label=\"区分左右\" prop=\"storageSlides\">\r\n                <el-radio-group v-model=\"orgForm.storageSlides\">\r\n                  <el-radio label=\"1\">区分</el-radio>\r\n                  <el-radio label=\"0\">不区分</el-radio>\r\n                </el-radio-group>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        <el-row>\r\n          <el-col>\r\n            <el-form-item label=\"列数\" prop=\"storageColumn\">\r\n              <el-input-number :min=\"1\" :max=\"999\" :step=\"1\" v-model=\"orgForm.storageColumn\" style=\"width:90px\" controls-position=\"right\" size=\"mini\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col>\r\n            <el-form-item label=\"层数\" prop=\"storageFloors\">\r\n              <el-input-number :min=\"1\" :max=\"999\" :step=\"1\" v-model=\"orgForm.storageFloors\" style=\"width:90px\" controls-position=\"right\" size=\"mini\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col>\r\n              <el-form-item label=\"每个库位长\" prop=\"length\">\r\n                <el-input-number :min=\"0\" :max=\"999\" :step=\"0.01\" :precision=\"2\" v-model=\"orgForm.length\" style=\"width:90px\" controls-position=\"right\" size=\"mini\"/>\r\n              </el-form-item>\r\n              <span class=\"mid-text\">米，宽</span>\r\n              <el-form-item prop=\"width\">\r\n                <el-input-number :min=\"0\" :max=\"999\" :step=\"0.01\" :precision=\"2\" v-model=\"orgForm.width\" style=\"width:90px\" controls-position=\"right\" size=\"mini\"/>\r\n              </el-form-item>\r\n              <span class=\"mid-text\">米</span>\r\n            </el-col>\r\n        </el-row>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-row>\r\n            <el-button class=\"mar-t-30\" type=\"primary\" @click=\"save\">生成</el-button>\r\n          </el-row>\r\n          <el-row>\r\n            <el-button class=\"mar-t-30\" @click=\"reset\">重置</el-button>\r\n          </el-row>\r\n        </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import Validator from '@/utils/extendValidate/extendValidate'\r\n  import { createMoreShelves } from '@/api/warehouse'\r\n  export default {\r\n    name: 'CreateMore',\r\n    data () {\r\n      return {\r\n        isVisible:false,\r\n        orgForm: {\r\n          storageSlides: '1',\r\n          storageTitleBegin: '',\r\n          storageTitleEnd: '',\r\n          storageColumn: '',\r\n          storageFloors: '',\r\n          length: '',\r\n          width: ''\r\n        },\r\n        orgFormRules: {\r\n          storageTitleBegin: [\r\n            {required: true, message: '请填写内容', trigger: 'blur'}\r\n          ],\r\n          storageColumn: [\r\n            {required: true, message: '请填写列数', trigger: 'blur'},\r\n            {validator: Validator.isPositiveInteger,message: '请输入整数', trigger: 'blur'}\r\n          ],\r\n          storageFloors: [\r\n            {required: true, message: '请填写层数', trigger: 'blur'}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      show: {\r\n        type: Boolean,\r\n        required: true,\r\n        default: false\r\n      },\r\n      selectedId: {\r\n        type: String,\r\n        required: true\r\n      }\r\n    },\r\n    mounted () {\r\n    },\r\n    methods: {\r\n      cancel () {\r\n        this.isVisible = false\r\n        this.$emit('update:show', false)\r\n        this.resetData()\r\n        this.$refs.orgForm.resetFields()\r\n      },\r\n      save () {\r\n        this.$refs.orgForm.validate(isValid => {\r\n          let params = {\r\n            ...this.orgForm,\r\n            wareHouseUuid: this.selectedId\r\n          }\r\n          if (isValid) {\r\n            createMoreShelves(params).then(res => {\r\n              if (!res.error) {\r\n                this.$message({\r\n                  message: `生成成功!`,\r\n                  type: 'success'\r\n                })\r\n                this.$emit('updateTree')\r\n                this.cancel()\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      reset () {\r\n        this.resetData()\r\n        this.$refs.orgForm.resetFields()\r\n      },\r\n      resetData () {\r\n        this.orgForm = {}\r\n      }\r\n    },\r\n    watch: {\r\n      show (isShow) {\r\n        this.isVisible = isShow\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.mid-text{\r\n  display: inline-block;\r\n  height: 29px;\r\n  line-height: 29px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-85c1fb8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./CreateMore.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CreateMore.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CreateMore.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-85c1fb8e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./CreateMore.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-85c1fb8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"shelves-content\">\r\n    <div class=\"empty\" v-if=\"!showTable\">\r\n      <h3>请在左侧选择一个仓库库位</h3>\r\n    </div>\r\n    <div class=\"content\" v-else>\r\n      <el-row :span=\"24\">\r\n        <el-col>\r\n          <el-button type=\"primary\" @click.native=\"qrCodePrint\">二维码打印</el-button>\r\n          <common-table>\r\n            <template slot=\"table\">\r\n              <el-table\r\n                ref=\"shelvesTable\"\r\n                stripe\r\n                :border=\"true\"\r\n                :data=\"leafNode.slice((pagination.pageNum-1)*pagination.pageSize,pagination.pageNum*pagination.pageSize)\"\r\n                @selection-change=\"selected => selectRow = selected\">\r\n                <!--<el-table-column type=\"selection\" width=\"30\" ></el-table-column>-->\r\n                <el-table-column type=\"index\" :index=\"indexMethod\" label=\"序号\" width=\"50\"></el-table-column>\r\n                <el-table-column sortable prop=\"name\" label=\"库位名称\" min-width=\"120\"></el-table-column>\r\n                <el-table-column prop=\"storageType\" label=\"库位类型\" :formatter=\"formatType\"></el-table-column>\r\n                <el-table-column prop=\"storageStatus\" label=\"库位状态\" :formatter=\"formatOpen\"></el-table-column>\r\n                <el-table-column sortable prop=\"size\" label=\"容量(米²)\" min-width=\"80\"></el-table-column>\r\n                <el-table-column sortable prop=\"length\" label=\"长度(米)\" min-width=\"80\"></el-table-column>\r\n                <el-table-column sortable prop=\"width\" label=\"宽度(米)\" min-width=\"80\"></el-table-column>\r\n                <el-table-column sortable prop=\"wareHouseName\" label=\"所属仓库\"></el-table-column>\r\n                <el-table-column prop=\"desc\" label=\"描述\" min-width=\"120\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n              </el-table>\r\n            </template>\r\n            <template slot=\"pagination\">\r\n              <el-pagination   background   layout=\"total, prev, pager, next\"\r\n                               :current-page.sync=\"pagination.pageNum\"\r\n                               :page-size=\"pagination.pageSize\"\r\n                               :total=\"pagination.total\"\r\n                               @current-change=\"changePage\"\r\n              ></el-pagination>\r\n            </template>\r\n          </common-table>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <!-- 二维码打印 -->\r\n    <qr-code\r\n      :show.sync=\"qrCodeVisible\"\r\n      :tableData=\"leafNode\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import CommonWrapper from '@/components/commonWrapper'\r\n  import CommonTable from '@/components/commonTable'\r\n  import NavButton from '@/components/navButton'\r\n\r\n  import QrCode from './QrCode'\r\n\r\n  export default {\r\n    name: 'ShelvesDetail',\r\n    data () {\r\n      return {\r\n        showTable: false,\r\n        selectRow: [],\r\n        tableData: [],\r\n        leafNode: [],\r\n        qrCodeVisible: false,\r\n        pagination: { // 翻页数据\r\n          pageNum: 1,\r\n          pageSize: 10,\r\n          total: 0\r\n        },\r\n      }\r\n    },\r\n    props: {\r\n      nodeData: {\r\n        type: Object,\r\n        required: true\r\n      },\r\n      isInit: {\r\n        type: Boolean\r\n      }\r\n    },\r\n    watch: {\r\n      nodeData: {\r\n        handler (nodeData) {\r\n          this.getDetail()\r\n        },\r\n        deep: true\r\n      }\r\n    },\r\n    methods: {\r\n      formatOpen (row) {\r\n        return row.storageStatus === '1' ? '启用' : '禁用'\r\n      },\r\n      formatType (row) {\r\n        switch (row.storageType.toString()) {\r\n          case '1' :\r\n            return '普通库位'\r\n            break\r\n          case '2' :\r\n            return '收货区'\r\n            break\r\n          case '3' :\r\n            return '备货区'\r\n            break\r\n          case '4' :\r\n            return '质检区'\r\n            break\r\n          case '5' :\r\n            return '待收货区'\r\n            break\r\n          case '6' :\r\n            return '维修区'\r\n            break\r\n          case '7' :\r\n            return '待发货区'\r\n            break\r\n          case '8' :\r\n            return '发货区'\r\n            break\r\n\r\n        }\r\n      },\r\n      getDetail () {\r\n        if (this.nodeData) {\r\n          this.leafNode = []\r\n          this.getLeafNode(this.nodeData)\r\n          this.showTable = true\r\n        }\r\n      },\r\n      getLeafNode (nodeData) {\r\n        if (nodeData['children'].length) {\r\n          for (let child of nodeData['children']) {\r\n            this.getLeafNode(child)\r\n          }\r\n        } else {\r\n          this.leafNode.push(nodeData)\r\n        }\r\n        this.pagination.total = this.leafNode.length\r\n      },\r\n      // 列表翻页\r\n      changePage (pageNum) {\r\n        this.pagination.pageNum = pageNum\r\n      },\r\n      // 生成列表序号\r\n      indexMethod (index) {\r\n        return (index + 1) + (this.pagination.pageNum - 1) * this.pagination.pageSize\r\n      },\r\n      isButtonIsDisabled () {\r\n        return !!this.selectRow.length\r\n      },\r\n      // 菜单 -- 新增\r\n      handleAdd () {\r\n        this.$emit('update:isCreate', true)\r\n        this.$emit('openDialog', {})\r\n      },\r\n      // 菜单 -- 编辑\r\n      edit () {\r\n        this.$emit('update:isCreate', false)\r\n        this.$emit('openDialog', [this.selectRow])\r\n      },\r\n      cancel () {\r\n        this.$confirm('确认删除选中的库位吗?', '提示', {\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let params = {\r\n            shelvesId: []\r\n          }\r\n          for (let item of this.selectRow) {\r\n            params.shelvesId.push(item.id)\r\n          }\r\n          this.$emit('deleteShelvesList', params)\r\n        }).catch(() => {\r\n        })\r\n      },\r\n      qrCodePrint () {\r\n        this.qrCodeVisible = true\r\n      }\r\n    },\r\n    components: {\r\n      CommonWrapper,\r\n      CommonTable,\r\n      NavButton,\r\n      QrCode\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .shelves-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .empty {\r\n      padding: 30px;\r\n      font-size: 2rem;\r\n      color: darken($base-light-color, 15%);\r\n    }\r\n    .content {\r\n      width: 99%;\r\n      max-width: 1200px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-285c1af4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ShelvesDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShelvesDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShelvesDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-285c1af4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ShelvesDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-285c1af4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"多库位生成\",\"visible\":_vm.isVisible},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('div',{staticClass:\"org-form\"},[_c('el-form',{ref:\"orgForm\",attrs:{\"inline\":true,\"model\":_vm.orgForm,\"rules\":_vm.orgFormRules,\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"库位\",\"prop\":\"storageTitleBegin\"}},[_c('el-input',{staticStyle:{\"width\":\"65px\"},model:{value:(_vm.orgForm.storageTitleBegin),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageTitleBegin\", $$v)},expression:\"orgForm.storageTitleBegin\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"mid-text\"},[_vm._v(\"到\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{staticStyle:{\"width\":\"65px\"},attrs:{\"span\":3},model:{value:(_vm.orgForm.storageTitleEnd),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageTitleEnd\", $$v)},expression:\"orgForm.storageTitleEnd\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"区分左右\",\"prop\":\"storageSlides\"}},[_c('el-radio-group',{model:{value:(_vm.orgForm.storageSlides),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageSlides\", $$v)},expression:\"orgForm.storageSlides\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"区分\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"不区分\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"列数\",\"prop\":\"storageColumn\"}},[_c('el-input-number',{staticStyle:{\"width\":\"90px\"},attrs:{\"min\":1,\"max\":999,\"step\":1,\"controls-position\":\"right\",\"size\":\"mini\"},model:{value:(_vm.orgForm.storageColumn),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageColumn\", $$v)},expression:\"orgForm.storageColumn\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"层数\",\"prop\":\"storageFloors\"}},[_c('el-input-number',{staticStyle:{\"width\":\"90px\"},attrs:{\"min\":1,\"max\":999,\"step\":1,\"controls-position\":\"right\",\"size\":\"mini\"},model:{value:(_vm.orgForm.storageFloors),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageFloors\", $$v)},expression:\"orgForm.storageFloors\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"每个库位长\",\"prop\":\"length\"}},[_c('el-input-number',{staticStyle:{\"width\":\"90px\"},attrs:{\"min\":0,\"max\":999,\"step\":0.01,\"precision\":2,\"controls-position\":\"right\",\"size\":\"mini\"},model:{value:(_vm.orgForm.length),callback:function ($$v) {_vm.$set(_vm.orgForm, \"length\", $$v)},expression:\"orgForm.length\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"mid-text\"},[_vm._v(\"米，宽\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"width\"}},[_c('el-input-number',{staticStyle:{\"width\":\"90px\"},attrs:{\"min\":0,\"max\":999,\"step\":0.01,\"precision\":2,\"controls-position\":\"right\",\"size\":\"mini\"},model:{value:(_vm.orgForm.width),callback:function ($$v) {_vm.$set(_vm.orgForm, \"width\", $$v)},expression:\"orgForm.width\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"mid-text\"},[_vm._v(\"米\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-row',[_c('el-button',{staticClass:\"mar-t-30\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"生成\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{staticClass:\"mar-t-30\",on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-85c1fb8e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/CreateMore.vue\n// module id = XwG7\n// module chunks = 6 66","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shelves\"},[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"left-tree\"},[_c('div',{staticClass:\"warehouseList\"},[_c('span',[_vm._v(\"仓库\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"filterable\":\"\"},on:{\"change\":_vm.updateTree},model:{value:(_vm.selectedId),callback:function ($$v) {_vm.selectedId=$$v},expression:\"selectedId\"}},_vm._l((_vm.warehouseList),function(org,index){return _c('el-option',{key:index,attrs:{\"label\":org.warehouseName,\"value\":org.warehouseUuid}})}),1)],1),_vm._v(\" \"),_c('VuePerfectScrollbar',{staticClass:\"scroll-area\"},[_c('tree',{ref:\"tree\",attrs:{\"selectedId\":_vm.selectedId,\"clickedNodeData\":_vm.clickedNodeData,\"isCreate\":_vm.isCreate,\"shelveTreeData\":_vm.shelveTreeData},on:{\"update:isCreate\":function($event){_vm.isCreate=$event},\"update:is-create\":function($event){_vm.isCreate=$event},\"nodeClick\":_vm.handleNodeClick,\"openDialog\":_vm.openDialog,\"deleteNode\":_vm.deleteNode,\"updateTree\":_vm.updateTree,\"openCreateMoreDialog\":_vm.openCreateMoreDialog}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"shelves-content\"},[_c('shelves-detail',{ref:\"shelvesDetail\",attrs:{\"selectedId\":_vm.selectedId,\"isCreate\":_vm.isCreate,\"nodeData\":_vm.clickedNodeData},on:{\"update:isCreate\":function($event){_vm.isCreate=$event},\"update:is-create\":function($event){_vm.isCreate=$event},\"tableUpdate\":_vm.updateTree,\"openDialog\":_vm.openDialog,\"deleteShelvesList\":_vm.deleteShelvesList}})],1)]),_vm._v(\" \"),_c('shelves-create',{attrs:{\"selectedId\":_vm.selectedId,\"show\":_vm.showUpdateDialog,\"isCreate\":_vm.isCreate,\"nodeData\":_vm.selectedData},on:{\"update:show\":function($event){_vm.showUpdateDialog=$event},\"update:isCreate\":function($event){_vm.isCreate=$event},\"update:is-create\":function($event){_vm.isCreate=$event},\"updateTree\":_vm.updateTree,\"handleNodeClick\":_vm.handleNodeClick}}),_vm._v(\" \"),_c('create-more',{attrs:{\"selectedId\":_vm.selectedId,\"show\":_vm.showCreateMoreDialog},on:{\"update:show\":function($event){_vm.showCreateMoreDialog=$event},\"updateTree\":_vm.updateTree}})],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-467a96e9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue\n// module id = cAb1\n// module chunks = 6","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"670px\",\"title\":(_vm.isCreate ? '新增':'编辑')+'库位',\"visible\":_vm.isVisible},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('div',{staticClass:\"org-form\"},[_c('el-form',{ref:\"orgForm\",attrs:{\"inline\":true,\"model\":_vm.orgForm,\"rules\":_vm.orgFormRules,\"disabled\":_vm.isFormDisabled,\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"库位名称\",\"prop\":\"storageName\"}},[_c('el-input',{attrs:{\"maxlength\":\"30\"},model:{value:(_vm.orgForm.storageName),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageName\", $$v)},expression:\"orgForm.storageName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"storageType\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择库位类型\"},model:{value:(_vm.orgForm.storageType),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageType\", $$v)},expression:\"orgForm.storageType\"}},_vm._l((_vm.storageTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.typeName,\"value\":item.typeId}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"长度(米)\",\"prop\":\"storageLength\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":999,\"step\":0.01,\"precision\":2,\"controls-position\":\"right\",\"size\":\"mini\"},on:{\"change\":_vm.getCapacity},model:{value:(_vm.storageLength),callback:function ($$v) {_vm.storageLength=$$v},expression:\"storageLength\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"宽度(米)\",\"prop\":\"storageWidth\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":999,\"step\":0.01,\"precision\":2,\"controls-position\":\"right\",\"size\":\"mini\"},on:{\"change\":_vm.getCapacity},model:{value:(_vm.storageWidth),callback:function ($$v) {_vm.storageWidth=$$v},expression:\"storageWidth\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"容量(米²)\",\"prop\":\"storageCapacity\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":999999,\"step\":0.01,\"precision\":2,\"controls-position\":\"right\",\"size\":\"mini\"},model:{value:(_vm.storageCapacity),callback:function ($$v) {_vm.storageCapacity=$$v},expression:\"storageCapacity\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"storageStatus\"}},[_c('el-radio-group',{model:{value:(_vm.orgForm.storageStatus),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageStatus\", $$v)},expression:\"orgForm.storageStatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"禁用\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"描述\",\"prop\":\"storageDesc\"}},[_c('el-input',{staticStyle:{\"width\":\"495px\"},attrs:{\"type\":\"textarea\",\"autosize\":{maxRows:3},\"maxlength\":\"200\",\"resize\":\"none\",\"placeholder\":\"填写库位描述，最长200字符\"},model:{value:(_vm.orgForm.storageDesc),callback:function ($$v) {_vm.$set(_vm.orgForm, \"storageDesc\", $$v)},expression:\"orgForm.storageDesc\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"flex-right\",attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6c2c0a26\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue\n// module id = d46A\n// module chunks = 6 73","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shelves-content\"},[(!_vm.showTable)?_c('div',{staticClass:\"empty\"},[_c('h3',[_vm._v(\"请在左侧选择一个仓库库位\")])]):_c('div',{staticClass:\"content\"},[_c('el-row',{attrs:{\"span\":24}},[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.qrCodePrint($event)}}},[_vm._v(\"二维码打印\")]),_vm._v(\" \"),_c('common-table',[_c('template',{slot:\"table\"},[_c('el-table',{ref:\"shelvesTable\",attrs:{\"stripe\":\"\",\"border\":true,\"data\":_vm.leafNode.slice((_vm.pagination.pageNum-1)*_vm.pagination.pageSize,_vm.pagination.pageNum*_vm.pagination.pageSize)},on:{\"selection-change\":function (selected) { return _vm.selectRow = selected; }}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"name\",\"label\":\"库位名称\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storageType\",\"label\":\"库位类型\",\"formatter\":_vm.formatType}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"storageStatus\",\"label\":\"库位状态\",\"formatter\":_vm.formatOpen}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"size\",\"label\":\"容量(米²)\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"length\",\"label\":\"长度(米)\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"width\",\"label\":\"宽度(米)\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"wareHouseName\",\"label\":\"所属仓库\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"desc\",\"label\":\"描述\",\"min-width\":\"120\",\"show-overflow-tooltip\":true}})],1)],1),_vm._v(\" \"),_c('template',{slot:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.pagination.pageNum,\"page-size\":_vm.pagination.pageSize,\"total\":_vm.pagination.total},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)},\"current-change\":_vm.changePage}})],1)],2)],1)],1)],1),_vm._v(\" \"),_c('qr-code',{attrs:{\"show\":_vm.qrCodeVisible,\"tableData\":_vm.leafNode},on:{\"update:show\":function($event){_vm.qrCodeVisible=$event}}})],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-285c1af4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesDetail.vue\n// module id = si62\n// module chunks = 6 105","<template>\r\n  <div class=\"shelves\">\r\n    <div class=\"main\">\r\n      <div class=\"left-tree\">\r\n        <div class=\"warehouseList\">\r\n          <span>仓库</span>\r\n          <el-select v-model=\"selectedId\" filterable @change=\"updateTree\">\r\n            <el-option\r\n              v-for=\"(org, index) in warehouseList\"\r\n              :key=\"index\"\r\n              :label=\"org.warehouseName\"\r\n              :value=\"org.warehouseUuid\"></el-option>\r\n          </el-select>\r\n        </div>\r\n        <VuePerfectScrollbar class=\"scroll-area\" >\r\n          <tree\r\n            ref=\"tree\"\r\n            :selectedId=\"selectedId\"\r\n            :clickedNodeData=\"clickedNodeData\"\r\n            :isCreate.sync=\"isCreate\"\r\n            :shelveTreeData=\"shelveTreeData\"\r\n            @nodeClick=\"handleNodeClick\"\r\n            @openDialog=\"openDialog\"\r\n            @deleteNode=\"deleteNode\"\r\n            @updateTree=\"updateTree\"\r\n            @openCreateMoreDialog=\"openCreateMoreDialog\">\r\n          </tree>\r\n        </VuePerfectScrollbar>\r\n      </div>\r\n      <div class=\"shelves-content\">\r\n        <shelves-detail\r\n          ref=\"shelvesDetail\"\r\n          :selectedId=\"selectedId\"\r\n          :isCreate.sync=\"isCreate\"\r\n          :nodeData=\"clickedNodeData\"\r\n          @tableUpdate=\"updateTree\"\r\n          @openDialog=\"openDialog\"\r\n          @deleteShelvesList=\"deleteShelvesList\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!-- 新增库位-->\r\n    <shelves-create\r\n      :selectedId=\"selectedId\"\r\n      :show.sync=\"showUpdateDialog\"\r\n      :isCreate.sync=\"isCreate\"\r\n      :nodeData=\"selectedData\"\r\n      @updateTree=\"updateTree\"\r\n      @handleNodeClick=\"handleNodeClick\"\r\n    />\r\n    <!-- 多库位生成 -->\r\n    <create-more\r\n      :selectedId=\"selectedId\"\r\n      :show.sync=\"showCreateMoreDialog\"\r\n      @updateTree=\"updateTree\"\r\n    >\r\n    </create-more>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tree from './Components/Tree'\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nimport { generateTree } from '@/utils/generateTree'\r\nimport { getShelvesTree } from '@/api/warehouse'\r\nimport ShelvesDetail from './Components/ShelvesDetail'\r\nimport ShelvesCreate from './Components/ShelvesCreate'\r\nimport CreateMore from './Components/CreateMore'\r\nimport { getWarehouseList, deleteShelves, deleteShelvesList } from '@/api/warehouse'\r\nimport { setSession, getSession } from '@/utils/session'\r\nimport {mixins} from '@/mixins'\r\n\r\nexport default {\r\n  name: 'ShelvesManager',\r\n  mixins: [mixins],\r\n  data () {\r\n    return {\r\n      warehouseList: this.$store.getters.warehouseList,\r\n      shelveTreeData:[],\r\n      selectedId: '',\r\n      clickedNodeData: {},\r\n      selectedData: {},\r\n      isCreate: false,\r\n      showUpdateDialog: false,\r\n      showCreateMoreDialog: false\r\n    }\r\n  },\r\n  mounted () {\r\n      this.selectedId = getSession('warehouseUuid')\r\n      this.updateTree()\r\n  },\r\n  methods: {\r\n    handleNodeClick (data) {\r\n      this.clickedNodeData = data\r\n    },\r\n    updateTree () {\r\n      setSession('warehouseUuid',this.selectedId)\r\n        const params = {\r\n          storageWarehouseUuid: this.selectedId\r\n        }\r\n        getShelvesTree(params).then(res => {\r\n          if (!res.error && res.length) {\r\n            this.shelveTreeData = generateTree(res)\r\n          }\r\n        })\r\n    },\r\n    openDialog (nodeData) {\r\n      this.selectedData = nodeData\r\n      this.showUpdateDialog = true\r\n    },\r\n    openCreateMoreDialog () {\r\n      this.showCreateMoreDialog = true\r\n    },\r\n    //删除节点\r\n    deleteNode (nodeData) {\r\n      let message = ''\r\n      if (nodeData.children.length) {\r\n        message = '该库位下有子库位，确认删除吗?'\r\n      } else {\r\n        message = '确认删除该库位吗?'\r\n      }\r\n      this.$confirm(message, '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let params = {\r\n          storageUuid: nodeData.id\r\n        }\r\n        deleteShelves(params).then(res => {\r\n          if(!res.error){\r\n            this.$message({\r\n              message: `删除成功`,\r\n              type: 'success'\r\n            })\r\n            this.updateTree()\r\n          }\r\n        })\r\n      }).catch(() => {})\r\n    },\r\n    deleteShelvesList (params) {\r\n      deleteShelvesList(params).then(res => {\r\n        if(!res.error){\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success'\r\n          })\r\n          this.updateTree()\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    Tree,\r\n    VuePerfectScrollbar,\r\n    ShelvesDetail,\r\n    ShelvesCreate,\r\n    CreateMore\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.shelves{\r\n  width:100%;\r\n  height:100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .main {\r\n    display: flex;\r\n    height:100%;\r\n    flex-direction: row;\r\n    .warehouseList{\r\n      margin: 10px 10px;\r\n    }\r\n    .left-tree {\r\n      min-width:230px;\r\n      padding:15px 0;\r\n      background: #fff;\r\n      border-right:2px solid darken($base-light-color, 5%);\r\n      margin-bottom: 50px;\r\n      .scroll-area {\r\n        width:100%;\r\n        height:100%;\r\n      }\r\n    }\r\n\r\n    .shelves-content {\r\n      flex:1 auto;\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-467a96e9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-467a96e9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-467a96e9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Shelves/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-contextmenu',{ref:\"treeMenu\"},[_c('v-contextmenu-item',{on:{\"click\":_vm.createShelve}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('v-contextmenu-item',{on:{\"click\":_vm.editShelve}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('v-contextmenu-item',{on:{\"click\":_vm.deleteShelve}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('v-contextmenu-item',{on:{\"click\":_vm.createMore}},[_vm._v(\"多库位生成\")])],1),_vm._v(\" \"),_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.shelveTreeData,\"node-key\":\"id\",\"props\":_vm.defaultProps,\"default-expanded-keys\":_vm.expendKey,\"expand-on-click-node\":false,\"render-content\":_vm.customRender},on:{\"node-contextmenu\":_vm.showContextMenu,\"node-click\":_vm.handleNodeClick}})],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-37074f3f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/Tree.vue\n// module id = yaFv\n// module chunks = 6 98","<template>\r\n  <el-dialog\r\n    width=\"670px\"\r\n    :title=\"(isCreate ? '新增':'编辑')+'库位'\"\r\n    :visible.sync=\"isVisible\"\r\n    @close=\"cancel\"\r\n  >\r\n    <div class=\"org-form\">\r\n      <el-form :inline=\"true\" ref=\"orgForm\" :model=\"orgForm\" :rules=\"orgFormRules\" :disabled=\"isFormDisabled\" label-width=\"100px\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"库位名称\" prop=\"storageName\">\r\n              <el-input v-model=\"orgForm.storageName\" maxlength=\"30\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"类型\" prop=\"storageType\">\r\n              <el-select clearable placeholder=\"请选择库位类型\" v-model=\"orgForm.storageType\" >\r\n                <el-option\r\n                  v-for=\"(item, index) in storageTypeList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.typeName\"\r\n                  :value=\"item.typeId\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"长度(米)\" prop=\"storageLength\">\r\n              <el-input-number :min=\"0\" :max=\"999\" :step=\"0.01\" :precision=\"2\" v-model=\"storageLength\" @change=\"getCapacity\" controls-position=\"right\" size=\"mini\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"宽度(米)\" prop=\"storageWidth\">\r\n              <el-input-number :min=\"0\" :max=\"999\" :step=\"0.01\" :precision=\"2\" v-model=\"storageWidth\" @change=\"getCapacity\" controls-position=\"right\" size=\"mini\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"容量(米²)\" prop=\"storageCapacity\">\r\n              <el-input-number :min=\"0\" :max=\"999999\" :step=\"0.01\" :precision=\"2\" v-model=\"storageCapacity\" controls-position=\"right\" size=\"mini\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"状态\" prop=\"storageStatus\">\r\n              <el-radio-group v-model=\"orgForm.storageStatus\">\r\n                <el-radio :label=\"1\">启用</el-radio>\r\n                <el-radio :label=\"2\">禁用</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"描述\" prop=\"storageDesc\" style=\"width:100%\">\r\n              <el-input type=\"textarea\"\r\n                        style=\"width:495px\"\r\n                        v-model=\"orgForm.storageDesc\"\r\n                        :autosize=\"{maxRows:3}\"\r\n                        maxlength=\"200\"\r\n                        resize=\"none\"\r\n                        placeholder=\"填写库位描述，最长200字符\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\" class=\"flex-right\">\r\n            <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n            <el-button @click=\"cancel\">取消</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport Validator from '@/utils/extendValidate/extendValidate'\r\n// api\r\nimport { getOrgList } from '@/api/common'\r\nimport { updateShelves, deleteShelves } from '@/api/warehouse'\r\n\r\nconst InitForm = {\r\n  pId: '',\r\n  id: '',\r\n  name: '',\r\n  size: '',\r\n  length: '',\r\n  width: '',\r\n  desc: '',\r\n  storageType: '',\r\n  storageStatus: 1,\r\n  storageDesc: '',\r\n  storageUuid: '',\r\n  storageName: '',\r\n  storagePid: ''\r\n\r\n}\r\n\r\nexport default {\r\n  name: 'ShelvesCreate',\r\n  data () {\r\n    return {\r\n      storageLength: '',\r\n      storageWidth: '',\r\n      storageCapacity: '',\r\n      showDetailMode: true,\r\n      isVisible: false,\r\n      isFormDisabled: false,\r\n      organization: [],\r\n      orgForm: {},\r\n      storageTypeList: [\r\n        {typeId: '1', typeName: '普通库位'},\r\n        {typeId: '2', typeName: '收货区'},\r\n        {typeId: '3', typeName: '备货区'},\r\n        {typeId: '4', typeName: '质检区'},\r\n        {typeId: '5', typeName: '待收货区'},\r\n        {typeId: '6', typeName: '维修区'},\r\n        {typeId: '7', typeName: '待发货区'},\r\n        {typeId: '8', typeName: '发货区'}\r\n      ],\r\n      orgFormRules: {\r\n        storageName: [\r\n          {required: true, message: '请填写库位名称', trigger: 'blur'},\r\n          {max: 30, message: '最大长度为30字符', trigger: 'blur'}\r\n        ],\r\n        storageType: [\r\n          {required: true, message: '请选择库位类型', trigger: 'blur'},\r\n          {max: 30, message: '最大长度为30字符', trigger: 'blur'}\r\n        ],\r\n        storageId: [\r\n          {required: true, message: '请输入库位编号', trigger: 'blur'},\r\n          {max: 30, message: '最大长度为30字符', trigger: 'blur'}\r\n        ],\r\n        storageStatus: [\r\n          {required: true, message: '请选择库位状态', trigger: 'blur'}]\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true,\r\n      default: false\r\n    },\r\n    nodeData: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isCreate: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    selectedId: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n    show (isShow) {\r\n      if (isShow) {\r\n      this.orgForm = Object.assign({}, InitForm)\r\n\r\n        // 新增\r\n        if (this.isCreate) {\r\n          this.setToCreateState()\r\n          console.log(this.orgForm)\r\n          // 编辑\r\n        } else {\r\n          this.setToEditState()\r\n          console.log(this.orgForm)\r\n        }\r\n      }\r\n\r\n      // 设置窗口显示状态\r\n      this.isVisible = isShow\r\n    }\r\n  },\r\n  methods: {\r\n    setToCreateState () {\r\n      const parentNode = this.nodeData\r\n      if (parentNode) {\r\n        this.orgForm.storagePid = this.nodeData.id\r\n      } else {\r\n        this.$message({\r\n          message: '未找到父节点,无法在此情况下创建库位.',\r\n          type: 'error'\r\n        })\r\n        this.isFormDisabled = true\r\n      }\r\n    },\r\n    setToEditState () {\r\n      this.orgForm = Object.assign(this.orgForm, this.nodeData)\r\n      let originData = Object.assign({}, this.nodeData)\r\n      this.storageLength = originData.length\r\n      this.storageWidth = originData.width\r\n      this.storageCapacity = originData.size\r\n      this.orgForm.storageDesc = originData.desc\r\n      this.orgForm.storageName = originData.name\r\n      this.orgForm.storageUuid = originData.id\r\n      this.orgForm.storagePid = originData.pId\r\n      this.orgForm.storageStatus = Number(originData.storageStatus)\r\n    },\r\n    getCapacity () {\r\n      this.$nextTick(() => {\r\n        if (this.storageLength && this.storageWidth) {\r\n          this.storageCapacity = Number(this.storageLength) * Number(this.storageWidth).toString()\r\n        }\r\n      })\r\n    },\r\n    save () {\r\n      this.$refs.orgForm.validate(isValid => {\r\n        if (isValid) {\r\n          const submitText = this.isCreate ? '新增' : '修改'\r\n          let params = {\r\n            storageWarehouseUuid: this.selectedId,\r\n            isCreate: this.isCreate,\r\n            ...this.orgForm,\r\n            storageLength: this.storageLength,\r\n            storageWidth: this.storageWidth,\r\n            storageCapacity: this.storageCapacity\r\n          }\r\n          updateShelves(params).then(res => {\r\n            if (!res.error) {\r\n              this.$message({\r\n                message: `${submitText}成功!`,\r\n                type: 'success'\r\n              })\r\n              // 重新读取tree\r\n              this.$emit('updateTree')\r\n              this.cancel()\r\n              // 库位详情更新\r\n              params.length = params.storageLength\r\n              params.width = params.storageWidth\r\n              params.size = params.storageCapacity\r\n              params.desc = params.storageDesc\r\n              params.name = params.storageName\r\n              params.id = params.storageUuid\r\n              params.pId = params.storagePid\r\n              this.$emit('handleNodeClick', params)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cancel () {\r\n      this.isVisible = false\r\n      this.$emit('update:show', false)\r\n      this.orgForm = Object.assign({}, InitForm)\r\n      this.storageLength = ''\r\n      this.storageWidth = ''\r\n      this.storageCapacity = ''\r\n      this.$refs.orgForm.resetFields()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .org-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .org-form{\r\n      width:80%;\r\n      max-width:1000px;\r\n      min-width:600px;\r\n      margin:10px;\r\n      padding:10px;\r\n      border:1px solid $base-light-color;\r\n      border-radius:8px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c2c0a26\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ShelvesCreate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShelvesCreate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ShelvesCreate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c2c0a26\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ShelvesCreate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c2c0a26\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Shelves/Components/ShelvesCreate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}