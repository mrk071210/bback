{"version":3,"sources":["webpack:///./source/admin/src/views/SystemManagement/Role/Components/Search.vue?058b","webpack:///source/admin/src/views/SystemManagement/Role/Components/Search.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/Search.vue","webpack:///source/admin/src/views/SystemManagement/Role/index.vue","webpack:///./source/admin/src/views/SystemManagement/Role/index.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue?8d69","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue?c5fc","webpack:///source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue?87f2","webpack:///./source/admin/src/views/SystemManagement/Role/index.vue?3773","webpack:///source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue","webpack:///source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue","webpack:///./source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","searchForm","label-width","span","label","prop","value","callback","$$v","$set","expression","_v","staticClass","type","nativeOn","click","$event","search","on","resetForm","staticRenderFns","Search","name","data","rolesName","rolesEnable","rolesRemark","mounted","methods","$emit","assign_default","formName","$refs","resetFields","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","Search_default","a","__webpack_exports__","Role","mixins","comp","buttonData","tableData","selectRow","editRole","isShowRoleDialog","isShowRoleLineDialog","isShowRoleMenuDialog","isListLoading","isCreate","pagination","pageNum","pageSize","total","searchParams","activated","roleTable","doLayout","queryList","params","getRoles","extends_default","isButtonIsDisabled","length","_this","Object","role","then","res","item","rest","handleEdit","index","row","handleAdd","menuAuth","lineAuth","handleDel","_this2","$confirm","roleUuid","deleteRoles","catch","batchRemove","_this3","roleIds","map","push","rolesUuid","_this4","error","$message","message","changePage","indexMethod","formatStatus","roleEnable","formatCreateDate","moment_default","roleCreateTime","format","components","NavButton","navButton","NavPremissonButton","navPremissonButton","CommonWrapper","commonWrapper","CommonTable","commonTable","RoleManagementSearch","RoleUpdate","RoleLineRes","RoleMenuRes","Role_default","width","title","visible","isVisible","close","cancel","treeData","node-key","props","defaultProps","show-checkbox","default-checked-keys","checkedNodes","default-expanded-keys","expandNodes","check-change","handleCheckNode","slot","save","check","originalTreeData","show","Boolean","required","roleData","watch","isShow","initLineTree","roleParentId","generateTree","checkedNodesId","forEach","node","pId","id","checked","needToCheckedNodes","getOnlyChildrenNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","err","return","tree","setCheckedKeys","nodeIds","filter","nodeId","children","indeterminate","getCheckedKeys","halfCheckedNodes","getHalfCheckedKeys","allCheckedNodes","concat","roleResourceRoleId","roleResourceResourceId","join","create_default","RoleMenuRes_default","close-on-click-modal","close-on-press-escape","update:visible","roleForm","rules","formRules","placeholder","_l","key","rows","offset","icon","flex","directives","rawName","height","stripe","selection-change","selected","formatter","scopedSlots","_u","fn","scope","size","round","stopPropagation","$index","background","layout","current-page","page-size","update:currentPage","current-change","update:show","update:roleData","updateList","initRolesForm","roleName","roleRemark","trigger","roleType","default","validate","isValid","submitType","submitText","RoleUpdate_default","getCheckdNodesArr","Nodes","checkedNodesList","levelsType","getCheckedNodes","checkdNodesArr","parmas","roleList","lineArr","console","log","RoleLineRes_default"],"mappings":"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","file":"static/js/4.f3500b2f8ae07ce83e87.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"searchForm\",attrs:{\"model\":_vm.searchForm,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"rolesName\"}},[_c('el-input',{model:{value:(_vm.searchForm.rolesName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"rolesName\", $$v)},expression:\"searchForm.rolesName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"rolesEnable\"}},[_c('el-select',{model:{value:(_vm.searchForm.rolesEnable),callback:function ($$v) {_vm.$set(_vm.searchForm, \"rolesEnable\", $$v)},expression:\"searchForm.rolesEnable\"}},[_c('el-option',{staticClass:\"radio\",attrs:{\"value\":\"1\",\"label\":\"启用\"}}),_vm._v(\" \"),_c('el-option',{staticClass:\"radio\",attrs:{\"value\":\"0\",\"label\":\"禁用\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"rolesRemark\"}},[_c('el-input',{model:{value:(_vm.searchForm.rolesRemark),callback:function ($$v) {_vm.$set(_vm.searchForm, \"rolesRemark\", $$v)},expression:\"searchForm.rolesRemark\"}})],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"flex-right\",attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.search($event)}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('searchForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f8aaf12\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Role/Components/Search.vue\n// module id = 1pH0\n// module chunks = 4 38","<template>\n     <el-form :model=\"searchForm\" ref=\"searchForm\"  label-width=\"80px\" >\n            <el-row>\n                <el-col :span=\"6\">\n                    <el-form-item label=\"角色名称\"  prop=\"rolesName\">\n                      <el-input v-model=\"searchForm.rolesName\"></el-input>\n                    </el-form-item>\n                </el-col>\n                <el-col :span=\"6\">\n                  <el-form-item label=\"状态\" prop=\"rolesEnable\">\n                    <el-select v-model=\"searchForm.rolesEnable\">\n                      <el-option class=\"radio\" value=\"1\" label=\"启用\"></el-option>\n                      <el-option class=\"radio\" value=\"0\" label=\"禁用\"></el-option>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"6\">\n                    <el-form-item label=\"描述\"  prop=\"rolesRemark\">\n                      <el-input v-model=\"searchForm.rolesRemark\"></el-input>\n                    </el-form-item>\n                </el-col>\n                <el-col :span=\"6\" class=\"flex-right\">\n                    <el-button type=\"primary\" @click.native=\"search\">查询</el-button>\n                    <el-button @click=\"resetForm('searchForm')\">重置</el-button>\n                </el-col>\n            </el-row>\n          </el-form>\n</template>\n\n<script>\n/**\n * Roles Search Component\n * ----------------------\n * Author: zhou qi\n * Date: 2018.03.20\n */\nexport default {\n  name: 'RoleManagementSearch',\n  data () {\n    return {\n      searchForm: {\n        rolesName: '',\n        rolesEnable: '',\n        rolesRemark: ''\n      }\n    }\n  },\n  mounted () {\n    this.search()\n  },\n  methods: {\n    // 检索\n    search: function () {\n      this.$emit('search', Object.assign({}, this.searchForm))\n    },\n    // 重置\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n      this.$emit('rest', Object.assign({}, this.searchForm))\n    }\n  }\n\n}\n</script>\n<style lang=\"scss\" scoped>\n.el-form-item{\n   margin-bottom:10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Role/Components/Search.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f8aaf12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/mrk/Desktop/xhcode/okr_web/source/admin/src/common/style/common.scss\\\"]}!../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f8aaf12\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f8aaf12\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Role/Components/Search.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n      <!-- <header-breadcrumb :breadData=\"$route.matched\" /> -->\n      <nav-button>\n        <el-button-group>\n           <el-button icon=\"fdddfont icon-add-new\" @click=\"handleAdd\">新建</el-button>\n        </el-button-group>\n      </nav-button>\n     <!-- 查询 -->\n      <common-wrapper>\n        <role-management-search class=\"search\" @search=\"queryList\" @rest=\"rest\"/>\n      </common-wrapper>\n     <!-- 用户列表 -->\n      <common-wrapper>\n        <common-table :flex=\"230\">\n          <template slot=\"table\">\n            <el-table\n              ref=\"roleTable\"\n              height=\"100%\"\n              stripe\n              v-loading=\"isListLoading\"\n              :data=\"tableData\"\n              @selection-change=\"selected => selectRow = selected\">\n                <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                <el-table-column type=\"index\" :index=\"indexMethod\" label=\"序号\" width=\"50\"></el-table-column>\n                <el-table-column prop=\"roleName\" label=\"角色名称\" width=\"130\"></el-table-column>\n                <el-table-column prop=\"roleCreateUser\" label=\"创建人\" width=\"120\"></el-table-column>\n                <el-table-column prop=\"roleEnable\" label=\"状态\" :formatter=\"formatStatus\" width=\"80\"></el-table-column>\n                <el-table-column prop=\"roleCreateTime\" label=\"创建时间\" :formatter=\"formatCreateDate\" width=\"150\"></el-table-column>\n                <el-table-column prop=\"roleRemark\" label=\"角色描述\"></el-table-column>\n                <el-table-column label=\"操作\" width=\"350\">\n                  <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" round icon=\"fdddfont icon-shouquan\" @click.stop=\"menuAuth(scope.$index, scope.row)\">菜单授权</el-button>\n                        <el-button size=\"mini\" round icon=\"fdddfont icon-modify\" @click.stop=\"handleEdit(scope.$index, scope.row)\"></el-button>\n                        <el-button size=\"mini\" round icon=\"fdddfont icon-delete\" @click.stop=\"handleDel(scope.$index, scope.row)\"></el-button>\n                  </template>\n                </el-table-column>\n            </el-table>\n          </template>\n          <template slot=\"pagination\">\n                <el-pagination   background   layout=\"total, prev, pager, next\"\n                :current-page.sync=\"pagination.pageNum\"\n                :page-size=\"pagination.pageSize\"\n                :total=\"pagination.total\"\n                @current-change=\"changePage\"\n                ></el-pagination>\n          </template>\n        </common-table>\n      </common-wrapper>\n\n      <!-- 角色新建/修改 -->\n      <role-update\n        :show.sync=\"isShowRoleDialog\"\n        :roleData.sync=\"editRole\"\n        :isCreate=\"isCreate\"\n         @updateList=\"queryList\"\n      />\n\n      <!-- 菜单授权 -->\n      <role-menu-res\n        :show.sync=\"isShowRoleMenuDialog\"\n        :roleData.sync=\"editRole\"\n         @updateList=\"queryList\"\n      />\n\n      <!-- 角色线路授权 -->\n      <role-line-res\n        :show.sync=\"isShowRoleLineDialog\"\n        :roleData.sync=\"editRole\"\n         @updateList=\"queryList\"\n      />\n\n    </div>\n</template>\n\n<script>\n/**\n * Role Management Module\n * ----------------------\n * Author: zhou qi\n * Date: 2018.03.20\n */\nimport moment from 'moment'\n// 全局混入\nimport {mixins} from '@/mixins'\n// 自定义组件\nimport NavButton from '@/components/navButton'\nimport NavPremissonButton from '@/components/navButton/navPremissonButton'\nimport CommonWrapper from '@/components/commonWrapper'\nimport CommonTable from '@/components/commonTable'\nimport RoleManagementSearch from './Components/Search'\nimport RoleUpdate from './Components/RoleUpdate'\nimport RoleLineRes from './Components/RoleLineRes'\nimport RoleMenuRes from './Components/RoleMenuRes'\n\nimport { getRoleList, deleteRole } from '@/api/role'\n\nexport default {\n  name: 'RoleManagement',\n  mixins: [mixins],\n  data () {\n    return {\n      comp: this,\n      buttonData: [],\n      tableData: [],\n      selectRow: [], // 列表选中列\n      editRole: {}, // 需要编辑的角色对象\n      isShowRoleDialog: false, // 新建/编辑窗口打开状态\n      isShowRoleLineDialog: false,\n      isShowRoleMenuDialog: false,\n      isListLoading: false, // 列表加载\n      isCreate: true, // 编辑窗口展示新建or编辑\n      pagination: { // 翻页数据\n        pageNum: 1,\n        pageSize: 10,\n        total: 0\n      },\n      searchParams: {} // 查询参数\n    }\n  },\n  activated () {\n    this.$refs.roleTable.doLayout()\n  },\n  mounted () {},\n  methods: {\n    // 查询和初始化查询\n    // 查询/翻页公用方法\n    queryList (params) {\n      const searchParams = this.searchParams = params\n      this.getRoles(\n        {\n          ...searchParams,\n          pageNum: this.pagination.pageNum,\n          pageSize: this.pagination.pageSize\n        }\n      )\n    },\n    isButtonIsDisabled () {\n      return !!this.selectRow.length\n    },\n    // 获取列表\n    getRoles (params) {\n      this.isListLoading = true\n      getRoleList(params).then(res => {\n        this.tableData = res.item\n        this.pagination.total = res.total\n        this.pagination.pageNum = res.pageNum\n        this.pagination.pageSize = res.pageSize\n        this.isListLoading = false\n      })\n    },\n    rest (params) {\n      const searchParams = this.searchParams = params\n      this.getRoles(\n        {\n          ...searchParams,\n          pageNum: 1,\n          pageSize: this.pagination.pageSize\n        }\n      )\n    },\n    // 显示编辑界面\n    handleEdit (index, row) {\n      this.isCreate = false\n      this.editRole = row\n      this.isShowRoleDialog = true\n    },\n    // 显示新增界面\n    handleAdd () {\n      this.isCreate = true\n      this.isShowRoleDialog = true\n    },\n    // 菜单授权\n    menuAuth (index, row) {\n      this.editRole = row\n      this.isShowRoleMenuDialog = true\n    },\n    // 线路授权\n    lineAuth (index, row) {\n      this.editRole = row\n      this.isShowRoleLineDialog = true\n    },\n    // 单行删除\n    handleDel (index, row) {\n      this.$confirm('确认删除该角色吗?', '提示', {\n        type: 'warning'\n      }).then(() => {\n        let params = {\n          roleUuid: row.roleUuid\n        }\n        this.deleteRoles(params)\n      }).catch(() => {})\n    },\n    // 批量删除\n    batchRemove () {\n      this.$confirm('确认删除选中的角色吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        let roleIds = []\n        this.selectRow.map(row => roleIds.push(row.rolesUuid))\n        this.isListLoading = true\n        this.deleteRoles(roleIds).then(() => {\n          this.isListLoading = false\n        })\n      }).catch(() => {})\n    },\n    // 删除接口方法\n    deleteRoles (roleIds) {\n      return deleteRole(roleIds).then((res) => {\n        if (!res.error) {\n          this.$message({\n            message: '删除成功',\n            type: 'success'\n          })\n          this.queryList()\n        }\n      })\n    },\n    // 列表翻页\n    changePage (pageNum) {\n      this.pagination.pageNum = pageNum\n      this.queryList(this.searchParams)\n    },\n    // 生成列表序号\n    indexMethod (index) {\n      return (index + 1) + (this.pagination.pageNum - 1) * this.pagination.pageSize\n    },\n    // 列表状态显示格式化\n    formatStatus (row) {\n      return row.roleEnable === 1 ? '启用' : row.roleEnable === 0 ? '禁用' : '未知'\n    },\n    // 列表日期格式化\n    formatCreateDate (row) {\n      return moment(row.roleCreateTime).format('YYYY-MM-DD')\n    }\n  },\n  components: {\n    NavButton,\n    NavPremissonButton,\n    CommonWrapper,\n    CommonTable,\n    RoleManagementSearch,\n    RoleUpdate,\n    RoleLineRes,\n    RoleMenuRes\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Role/index.vue","var normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7066c8f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Role/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"线路授权\",\"visible\":_vm.isVisible},on:{\"close\":_vm.cancel}},[_c('div',{staticClass:\"tree-content\"},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"node-key\":\"id\",\"props\":_vm.defaultProps,\"show-checkbox\":\"\",\"default-checked-keys\":_vm.checkedNodes,\"default-expanded-keys\":_vm.expandNodes},on:{\"check-change\":_vm.handleCheckNode}})],1),_vm._v(\" \"),_c('template',{staticClass:\"flex-right\",slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],2)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bbfa6d7a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue\n// module id = BYjL\n// module chunks = 4 18","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":\"菜单授权\",\"visible\":_vm.isVisible},on:{\"close\":_vm.cancel}},[_c('div',{staticClass:\"tree-content\"},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"node-key\":\"id\",\"props\":_vm.defaultProps,\"show-checkbox\":true,\"default-checked-keys\":_vm.checkedNodes,\"default-expanded-keys\":_vm.expandNodes},on:{\"check\":_vm.handleCheckNode}})],1),_vm._v(\" \"),_c('template',{staticClass:\"flex-right\",slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],2)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a5e9006\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue\n// module id = Pw0A\n// module chunks = 4 36","<template>\n    <el-dialog\n        width=\"600px\"\n        title=\"菜单授权\"\n        :visible=\"isVisible\"\n        @close=\"cancel\"\n    >\n        <div class=\"tree-content\">\n            <el-tree\n            ref=\"tree\"\n            :data=\"treeData\"\n            node-key=\"id\"\n            :props=\"defaultProps\"\n            :show-checkbox=\"true\"\n            :default-checked-keys=\"checkedNodes\"\n            :default-expanded-keys=\"expandNodes\"\n            @check=\"handleCheckNode\"\n        ></el-tree>\n        </div>\n        <template slot=\"footer\" class=\"flex-right\">\n            <el-button type=\"primary\" @click=\"save\">保存</el-button>\n            <el-button @click=\"cancel\">取消</el-button>\n        </template>\n    </el-dialog>\n</template>\n<script>\n/**\n * RolesMenu Tree Resouces Component\n * ----------------------\n * Author: zhou qi\n * Date: 2018.03.20\n */\nimport { generateTree } from '@/utils/generateTree'\n// api\nimport { getRolesMenuRes, updateRolesMenuRes, getRolesMenuAuthRes } from '@/api/role'\n\nexport default {\n  name: 'RoleMenuRes',\n  data () {\n    return {\n      isVisible: false,\n      treeData: [],\n      originalTreeData: null,\n      checkedNodes: [],\n      expandNodes: [],\n      defaultProps: {\n        label: 'name'\n      }\n    }\n  },\n  props: {\n    show: {\n      type: Boolean,\n      required: true\n    },\n    roleData: {\n      type: Object,\n      required: true\n    }\n\n  },\n  watch: {\n    show (isShow) {\n      if (isShow) {\n        this.initLineTree()\n      }\n      this.isVisible = isShow\n    }\n  },\n  methods: {\n    initLineTree () {\n      const roleParentId = this.roleData.roleUuid\n      getRolesMenuRes({roleParentId}).then(res => {\n        this.originalTreeData = res\n        this.treeData = generateTree(res)\n        let checkedNodes = []\n        let checkedNodesId = []\n        res.forEach(node => {\n          // if (node.checked) this.checkedNodes.push(node.id)\n          if (node.pId === '') this.expandNodes.push(node.id)\n          if (node.checked === true) checkedNodes.push(node)\n        })\n        const needToCheckedNodes = this.getOnlyChildrenNodes(checkedNodes)\n        for(let item of needToCheckedNodes){\n          checkedNodesId.push(item.id)\n        }\n        this.$refs.tree.setCheckedKeys(checkedNodesId)\n      })\n        .then(() => {\n\n        //   // 查找已授权菜单数据,并默认勾选/my/info/get/my/info/get\n        //   const roleUuid = this.roleData.roleUuid\n        //   getRolesMenuAuthRes({roleUuid}).then(res => {\n        //     // if (res && res.length) {\n        //     //   this.checkedNodes = res\n        //     // } else {\n        //     //   this.checkedNodes = []\n        //     // }\n        //     const needToCheckedNodes = this.getOnlyChildrenNodes(res)\n        //     this.$refs.tree.setCheckedKeys(needToCheckedNodes)\n        //     // console.log('needToCheckedNodes', needToCheckedNodes)\n        //   })\n        })\n    },\n    /**\n     * 过滤后端获取到的所有节点中，仅为最末子节点的节点数据\n     * @param {nodeIds}\n     * @return [Array]\n     */\n    getOnlyChildrenNodes (nodeIds) {\n      return nodeIds.filter(nodeId => !nodeId.children||!nodeId.children.length)\n    },\n    handleCheckNode (data, checked, indeterminate) {\n      // console.log(data, checked, indeterminate)\n      const checkedNodes = this.$refs.tree.getCheckedKeys()\n      const halfCheckedNodes = this.$refs.tree.getHalfCheckedKeys()\n      const allCheckedNodes = checkedNodes.concat(halfCheckedNodes)\n      this.checkedNodes = allCheckedNodes\n      // console.log('checkedNodes', this.checkedNodes)\n    },\n    save () {\n      const params = {\n        roleResourceRoleId: this.roleData.roleUuid,\n        roleResourceResourceId: this.checkedNodes.join(\",\")\n      }\n      updateRolesMenuRes(params).then(res => {\n        this.$message({\n          message: `菜单授权成功!`,\n          type: 'success'\n        })\n        this.$emit('updateList')\n        this.cancel()\n      })\n    },\n    cancel () {\n      this.$emit('update:show', false)\n      this.$emit('update:roleData', Object.create(null))\n      this.isVisible = false\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.tree-content{\n    max-height:400px;\n    overflow-y:auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a5e9006\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/mrk/Desktop/xhcode/okr_web/source/admin/src/common/style/common.scss\\\"]}!../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleMenuRes.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleMenuRes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleMenuRes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a5e9006\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleMenuRes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a5e9006\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Role/Components/RoleMenuRes.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"title\":(_vm.isCreate ? '新增' : '编辑') + '用户',\"visible\":_vm.isVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('el-form',{ref:\"roleForm\",attrs:{\"model\":_vm.roleForm,\"rules\":_vm.formRules,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.roleForm.roleName),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleName\", $$v)},expression:\"roleForm.roleName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"roleEnable\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择角色类型\"},model:{value:(_vm.roleForm.roleType),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleType\", $$v)},expression:\"roleForm.roleType\"}},_vm._l((this.roleType),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"roleEnable\"}},[_c('el-radio-group',{model:{value:(_vm.roleForm.roleEnable),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleEnable\", $$v)},expression:\"roleForm.roleEnable\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"禁用\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleRemark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.roleForm.roleRemark),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleRemark\", $$v)},expression:\"roleForm.roleRemark\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":6,\"offset\":18}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-172b0ec4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue\n// module id = gTns\n// module chunks = 4 49","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-button',[_c('el-button-group',[_c('el-button',{attrs:{\"icon\":\"fdddfont icon-add-new\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新建\")])],1)],1),_vm._v(\" \"),_c('common-wrapper',[_c('role-management-search',{staticClass:\"search\",on:{\"search\":_vm.queryList,\"rest\":_vm.rest}})],1),_vm._v(\" \"),_c('common-wrapper',[_c('common-table',{attrs:{\"flex\":230}},[_c('template',{slot:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isListLoading),expression:\"isListLoading\"}],ref:\"roleTable\",attrs:{\"height\":\"100%\",\"stripe\":\"\",\"data\":_vm.tableData},on:{\"selection-change\":function (selected) { return _vm.selectRow = selected; }}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleCreateUser\",\"label\":\"创建人\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleEnable\",\"label\":\"状态\",\"formatter\":_vm.formatStatus,\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleCreateTime\",\"label\":\"创建时间\",\"formatter\":_vm.formatCreateDate,\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleRemark\",\"label\":\"角色描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\",\"icon\":\"fdddfont icon-shouquan\"},on:{\"click\":function($event){$event.stopPropagation();_vm.menuAuth(scope.$index, scope.row)}}},[_vm._v(\"菜单授权\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\",\"icon\":\"fdddfont icon-modify\"},on:{\"click\":function($event){$event.stopPropagation();_vm.handleEdit(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\",\"icon\":\"fdddfont icon-delete\"},on:{\"click\":function($event){$event.stopPropagation();_vm.handleDel(scope.$index, scope.row)}}})]}}])})],1)],1),_vm._v(\" \"),_c('template',{slot:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.pagination.pageNum,\"page-size\":_vm.pagination.pageSize,\"total\":_vm.pagination.total},on:{\"update:currentPage\":function($event){_vm.$set(_vm.pagination, \"pageNum\", $event)},\"current-change\":_vm.changePage}})],1)],2)],1),_vm._v(\" \"),_c('role-update',{attrs:{\"show\":_vm.isShowRoleDialog,\"roleData\":_vm.editRole,\"isCreate\":_vm.isCreate},on:{\"update:show\":function($event){_vm.isShowRoleDialog=$event},\"update:roleData\":function($event){_vm.editRole=$event},\"updateList\":_vm.queryList}}),_vm._v(\" \"),_c('role-menu-res',{attrs:{\"show\":_vm.isShowRoleMenuDialog,\"roleData\":_vm.editRole},on:{\"update:show\":function($event){_vm.isShowRoleMenuDialog=$event},\"update:roleData\":function($event){_vm.editRole=$event},\"updateList\":_vm.queryList}}),_vm._v(\" \"),_c('role-line-res',{attrs:{\"show\":_vm.isShowRoleLineDialog,\"roleData\":_vm.editRole},on:{\"update:show\":function($event){_vm.isShowRoleLineDialog=$event},\"update:roleData\":function($event){_vm.editRole=$event},\"updateList\":_vm.queryList}})],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7066c8f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Role/index.vue\n// module id = gUK0\n// module chunks = 4","<template>\n    <el-dialog\n    width=\"600px\"\n    :title=\"(isCreate ? '新增' : '编辑') + '用户'\"\n    :visible.sync=\"isVisible\"\n    :close-on-click-modal=\"false\"\n    :close-on-press-escape=\"false\"\n    @close=\"cancel\"\n    >\n       <el-form ref=\"roleForm\" :model=\"roleForm\" :rules=\"formRules\" label-width=\"80px\">\n           <el-row>\n               <el-col :span=\"12\">\n                    <el-form-item label=\"角色名称\" prop=\"roleName\">\n                        <el-input v-model=\"roleForm.roleName\" />\n                    </el-form-item>\n               </el-col>\n           </el-row>\n         <el-row>\n           <el-col :span=\"12\">\n             <el-form-item label=\"类型\" prop=\"roleEnable\">\n               <el-select v-model=\"roleForm.roleType\" placeholder=\"请选择角色类型\">\n                 <el-option\n                   v-for=\"(item,index) in this.roleType\"\n                   :key=\"index\"\n                   :label=\"item.label\"\n                   :value=\"item.value\">\n                 </el-option>\n               </el-select>\n             </el-form-item>\n           </el-col>\n               <el-col :span=\"12\">\n                   <el-form-item label=\"状态\" prop=\"roleEnable\">\n                        <el-radio-group v-model=\"roleForm.roleEnable\">\n                            <el-radio :label=1>启用</el-radio>\n                            <el-radio :label=0>禁用</el-radio>\n                        </el-radio-group>\n                    </el-form-item>\n               </el-col>\n           </el-row>\n           <el-row>\n               <el-col :span=\"24\">\n                   <el-form-item label=\"角色描述\" prop=\"roleRemark\">\n                    <el-input type=\"textarea\" :rows=\"2\" v-model=\"roleForm.roleRemark\"/>\n                   </el-form-item>\n               </el-col>\n\n           </el-row>\n            <el-row>\n                <el-col :span=\"6\" :offset=\"18\">\n                    <el-button type=\"primary\" @click=\"save\">保存</el-button>\n                    <el-button @click=\"cancel\">取消</el-button>\n                </el-col>\n            </el-row>\n       </el-form>\n    </el-dialog>\n</template>\n<script>\n/**\n * Roles Add/Edit Component\n * ----------------------\n * Author: zhou qi\n * Date: 2018.03.20\n */\n// api\nimport { createRole, updateRole } from '@/api/role'\n\n//\nconst initRolesForm = {\n  roleName: '',\n  roleEnable: '1',\n  roleRemark: ''\n}\n\nexport default {\n  name: 'RoleUpdate',\n  data () {\n    return {\n      isVisible: false,\n      roleForm: Object.assign({}, initRolesForm),\n      formRules: {\n        roleName: [{required: true, message: '请输入角色名称', trigger: 'blur'}],\n        roleEnable: [{required: true, message: '请选择角色类型', trigger: 'blur'}]\n      },\n      roleType: [\n        {\n          value: \"0\",\n          label: \"系统管理员\"\n        },\n        {\n          value: \"1\",\n          label: \"商户\"\n        },\n        {\n          value: \"2\",\n          label: \"仓库管理员\"\n        },\n        {\n          value: \"3\",\n          label: \"财务管理\"\n        },\n        {\n          value: \"4\",\n          label: \"招商管理\"\n        }\n      ]\n    }\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    roleData: {\n      type: Object\n    },\n    isCreate: {\n      type: Boolean,\n      required: true\n    }\n  },\n  watch: {\n    show (isShow) {\n      if (isShow) {\n        if (this.isCreate) {\n          this.roleForm = Object.assign({}, initRolesForm)\n        } else {\n          this.roleForm = Object.assign({}, this.roleData)\n        }\n      }\n      //\n      this.isVisible = isShow\n    }\n  },\n  methods: {\n    save () {\n      this.$refs.roleForm.validate(isValid => {\n        if (isValid) {\n          const params = Object.assign({}, this.roleForm)\n          const submitType = this.isCreate ? createRole : updateRole\n          const submitText = this.isCreate ? '新增' : '编辑'\n          submitType(params).then(res => {\n            this.$message({\n              message: `${submitText}角色成功!`,\n              type: 'success'\n            })\n            this.cancel()\n            this.$emit('updateList')\n          })\n        }\n      })\n    },\n    cancel () {\n      this.roleForm = Object.assign({}, initRolesForm)\n      this.$refs.roleForm.resetFields()\n      this.$emit('update:show', false)\n      this.$emit('update:roleData', Object.create(null))\n      this.isVisible = false\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue","var normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-172b0ec4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Role/Components/RoleUpdate.vue\n// module id = null\n// module chunks = ","<template>\n    <el-dialog\n        width=\"600px\"\n        title=\"线路授权\"\n        :visible=\"isVisible\"\n        @close=\"cancel\"\n    >\n        <div class=\"tree-content\">\n            <el-tree\n            ref=\"tree\"\n            :data=\"treeData\"\n            node-key=\"id\"\n            :props=\"defaultProps\"\n            show-checkbox\n            :default-checked-keys=\"checkedNodes\"\n            :default-expanded-keys=\"expandNodes\"\n            @check-change=\"handleCheckNode\"\n        ></el-tree>\n        </div>\n        <template slot=\"footer\" class=\"flex-right\">\n            <el-button type=\"primary\" @click=\"save\">保存</el-button>\n            <el-button @click=\"cancel\">取消</el-button>\n        </template>\n    </el-dialog>\n</template>\n<script>\n/**\n * RolesLine Tree Resouces Component\n * ----------------------\n * Author: zhou qi\n * Date: 2018.03.20\n */\nimport { generateTree } from '@/utils/generateTree'\n// api\nimport { getRolesLineRes, updateRolesLineRes, getRolesLineAuthRes } from '@/api/role'\n\nexport default {\n  name: 'RoleLineRes',\n  data () {\n    return {\n      isVisible: false,\n      treeData: [],\n      checkedNodes: [],\n      expandNodes: [],\n      defaultProps: {\n        label: 'name'\n      }\n    }\n  },\n  props: {\n    show: {\n      type: Boolean,\n      required: true\n    },\n    roleData: {\n      type: Object,\n      required: true\n    }\n\n  },\n  watch: {\n    show (isShow) {\n      if (isShow) {\n        this.initLineTree()\n      }\n      this.isVisible = isShow\n    }\n  },\n  methods: {\n    initLineTree () {\n      const roleParentId = this.roleData.roleParentId\n      getRolesLineRes({roleParentId}).then(res => {\n        this.treeData = generateTree(res)\n        res.forEach(node => {\n          // if (node.checked) this.checkedNodes.push(node.id)\n          if (node.pId === '') this.expandNodes.push(node.id)\n        })\n      })\n        .then(() => {\n        // 查找已授权线路数据,并默认勾选\n          const roleUuid = this.roleData.roleUuid\n          getRolesLineAuthRes({roleUuid}).then(res => {\n            if (res && res.length) {\n              this.checkedNodes = res\n            } else {\n              this.checkedNodes = []\n            }\n            this.$refs.tree.setCheckedKeys(this.checkedNodes)\n          })\n        })\n    },\n    handleCheckNode (data, checked, indeterminate) {\n    //   console.log(data, checked, indeterminate)\n    },\n    getCheckdNodesArr (Nodes) {\n      let checkedNodesList = []\n      Nodes.forEach(node => {\n        if (node.levelsType === 'LINE') {\n          checkedNodesList.push(node.id)\n        }\n      })\n      return checkedNodesList\n    },\n    save () {\n      const checkedNodes = this.$refs.tree.getCheckedNodes()\n      let checkdNodesArr = this.getCheckdNodesArr(checkedNodes)\n      const parmas = {\n        roleList: [this.roleData.rolesUuid],\n        lineArr: checkdNodesArr\n      }\n      console.log('parmas', parmas)\n      updateRolesLineRes(parmas).then(res => {\n        this.$message({\n          message: `授权线路成功!`,\n          type: 'success'\n        })\n        this.$emit('updateList')\n        this.cancel()\n      })\n    },\n    cancel () {\n      this.$emit('update:show', false)\n      this.$emit('update:roleData', Object.create(null))\n      this.isVisible = false\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.tree-content{\n    max-height:400px;\n    overflow-y:auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bbfa6d7a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/mrk/Desktop/xhcode/okr_web/source/admin/src/common/style/common.scss\\\"]}!../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleLineRes.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleLineRes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleLineRes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bbfa6d7a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleLineRes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bbfa6d7a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Role/Components/RoleLineRes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}