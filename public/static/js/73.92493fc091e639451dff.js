webpackJsonp([73],{d46A:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{width:"670px",title:(e.isCreate?"新增":"编辑")+"库位",visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[r("div",{staticClass:"org-form"},[r("el-form",{ref:"orgForm",attrs:{inline:!0,model:e.orgForm,rules:e.orgFormRules,disabled:e.isFormDisabled,"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"库位名称",prop:"storageName"}},[r("el-input",{attrs:{maxlength:"30"},model:{value:e.orgForm.storageName,callback:function(t){e.$set(e.orgForm,"storageName",t)},expression:"orgForm.storageName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"类型",prop:"storageType"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择库位类型"},model:{value:e.orgForm.storageType,callback:function(t){e.$set(e.orgForm,"storageType",t)},expression:"orgForm.storageType"}},e._l(e.storageTypeList,function(e,t){return r("el-option",{key:t,attrs:{label:e.typeName,value:e.typeId}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"长度(米)",prop:"storageLength"}},[r("el-input-number",{attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},on:{change:e.getCapacity},model:{value:e.storageLength,callback:function(t){e.storageLength=t},expression:"storageLength"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"宽度(米)",prop:"storageWidth"}},[r("el-input-number",{attrs:{min:0,max:999,step:.01,precision:2,"controls-position":"right",size:"mini"},on:{change:e.getCapacity},model:{value:e.storageWidth,callback:function(t){e.storageWidth=t},expression:"storageWidth"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"容量(米²)",prop:"storageCapacity"}},[r("el-input-number",{attrs:{min:0,max:999999,step:.01,precision:2,"controls-position":"right",size:"mini"},model:{value:e.storageCapacity,callback:function(t){e.storageCapacity=t},expression:"storageCapacity"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"storageStatus"}},[r("el-radio-group",{model:{value:e.orgForm.storageStatus,callback:function(t){e.$set(e.orgForm,"storageStatus",t)},expression:"orgForm.storageStatus"}},[r("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("禁用")])],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"描述",prop:"storageDesc"}},[r("el-input",{staticStyle:{width:"495px"},attrs:{type:"textarea",autosize:{maxRows:3},maxlength:"200",resize:"none",placeholder:"填写库位描述，最长200字符"},model:{value:e.orgForm.storageDesc,callback:function(t){e.$set(e.orgForm,"storageDesc",t)},expression:"orgForm.storageDesc"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{staticClass:"flex-right",attrs:{span:24}},[r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]}},o6bN:function(e,t){},yjrp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("4YfN"),s=r.n(a),o=r("aA9S"),i=r.n(o),l=(r("uTPb"),r("4+6g"),r("I8tE")),g={pId:"",id:"",name:"",size:"",length:"",width:"",desc:"",storageType:"",storageStatus:1,storageDesc:"",storageUuid:"",storageName:"",storagePid:""},n={name:"ShelvesCreate",data:function(){return{storageLength:"",storageWidth:"",storageCapacity:"",showDetailMode:!0,isVisible:!1,isFormDisabled:!1,organization:[],orgForm:{},storageTypeList:[{typeId:"1",typeName:"普通库位"},{typeId:"2",typeName:"收货区"},{typeId:"3",typeName:"备货区"},{typeId:"4",typeName:"质检区"},{typeId:"5",typeName:"待收货区"},{typeId:"6",typeName:"维修区"},{typeId:"7",typeName:"待发货区"},{typeId:"8",typeName:"发货区"}],orgFormRules:{storageName:[{required:!0,message:"请填写库位名称",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageType:[{required:!0,message:"请选择库位类型",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageId:[{required:!0,message:"请输入库位编号",trigger:"blur"},{max:30,message:"最大长度为30字符",trigger:"blur"}],storageStatus:[{required:!0,message:"请选择库位状态",trigger:"blur"}]}}},props:{show:{type:Boolean,required:!0,default:!1},nodeData:{type:Object,required:!0},isCreate:{type:Boolean,required:!0},selectedId:{type:String,required:!0}},computed:{},watch:{show:function(e){e&&(this.orgForm=i()({},g),this.isCreate?(this.setToCreateState(),console.log(this.orgForm)):(this.setToEditState(),console.log(this.orgForm))),this.isVisible=e}},methods:{setToCreateState:function(){this.nodeData?this.orgForm.storagePid=this.nodeData.id:(this.$message({message:"未找到父节点,无法在此情况下创建库位.",type:"error"}),this.isFormDisabled=!0)},setToEditState:function(){this.orgForm=i()(this.orgForm,this.nodeData);var e=i()({},this.nodeData);this.storageLength=e.length,this.storageWidth=e.width,this.storageCapacity=e.size,this.orgForm.storageDesc=e.desc,this.orgForm.storageName=e.name,this.orgForm.storageUuid=e.id,this.orgForm.storagePid=e.pId,this.orgForm.storageStatus=Number(e.storageStatus)},getCapacity:function(){var e=this;this.$nextTick(function(){e.storageLength&&e.storageWidth&&(e.storageCapacity=Number(e.storageLength)*Number(e.storageWidth).toString())})},save:function(){var e=this;this.$refs.orgForm.validate(function(t){if(t){var r=e.isCreate?"新增":"修改",a=s()({storageWarehouseUuid:e.selectedId,isCreate:e.isCreate},e.orgForm,{storageLength:e.storageLength,storageWidth:e.storageWidth,storageCapacity:e.storageCapacity});Object(l.G)(a).then(function(t){t.error||(e.$message({message:r+"成功!",type:"success"}),e.$emit("updateTree"),e.cancel(),a.length=a.storageLength,a.width=a.storageWidth,a.size=a.storageCapacity,a.desc=a.storageDesc,a.name=a.storageName,a.id=a.storageUuid,a.pId=a.storagePid,e.$emit("handleNodeClick",a))})}})},cancel:function(){this.isVisible=!1,this.$emit("update:show",!1),this.orgForm=i()({},g),this.storageLength="",this.storageWidth="",this.storageCapacity="",this.$refs.orgForm.resetFields()}}},c=r("d46A"),m=r.n(c);var p=function(e){r("o6bN")},d=r("C7Lr")(n,m.a,!1,p,"data-v-6c2c0a26",null);t.default=d.exports}});
//# sourceMappingURL=73.92493fc091e639451dff.js.map