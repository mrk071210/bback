webpackJsonp([18],{BYjL:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{width:"600px",title:"线路授权",visible:e.isVisible},on:{close:e.cancel}},[n("div",{staticClass:"tree-content"},[n("el-tree",{ref:"tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.checkedNodes,"default-expanded-keys":e.expandNodes},on:{"check-change":e.handleCheckNode}})],1),e._v(" "),n("template",{staticClass:"flex-right",slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],2)},staticRenderFns:[]}},Pgy0:function(e,t){},mRmE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("OvRC"),a=n.n(s),i=n("QPLA"),o=n("baPR"),c={name:"RoleLineRes",data:function(){return{isVisible:!1,treeData:[],checkedNodes:[],expandNodes:[],defaultProps:{label:"name"}}},props:{show:{type:Boolean,required:!0},roleData:{type:Object,required:!0}},watch:{show:function(e){e&&this.initLineTree(),this.isVisible=e}},methods:{initLineTree:function(){var e=this,t=this.roleData.roleParentId;Object(o.e)({roleParentId:t}).then(function(t){e.treeData=Object(i.a)(t),t.forEach(function(t){""===t.pId&&e.expandNodes.push(t.id)})}).then(function(){var t=e.roleData.roleUuid;Object(o.d)({roleUuid:t}).then(function(t){t&&t.length?e.checkedNodes=t:e.checkedNodes=[],e.$refs.tree.setCheckedKeys(e.checkedNodes)})})},handleCheckNode:function(e,t,n){},getCheckdNodesArr:function(e){var t=[];return e.forEach(function(e){"LINE"===e.levelsType&&t.push(e.id)}),t},save:function(){var e=this,t=this.$refs.tree.getCheckedNodes(),n=this.getCheckdNodesArr(t),s={roleList:[this.roleData.rolesUuid],lineArr:n};console.log("parmas",s),Object(o.h)(s).then(function(t){e.$message({message:"授权线路成功!",type:"success"}),e.$emit("updateList"),e.cancel()})},cancel:function(){this.$emit("update:show",!1),this.$emit("update:roleData",a()(null)),this.isVisible=!1}}},r=n("BYjL"),d=n.n(r);var l=function(e){n("Pgy0")},h=n("VU/8")(c,d.a,!1,l,"data-v-bbfa6d7a",null);t.default=h.exports}});
//# sourceMappingURL=18.96ff01fe1242a5febde6.js.map