webpackJsonp([12,74,76,86],{"7Yhn":function(e,t){},"8FSa":function(e,t){},"Nrw+":function(e,t){},"S5+R":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mx14"),n={name:"MenuDetail",data:function(){return{isMenu:!0,menuNodeData:null}},props:{nodeData:{type:Object,required:!0}},watch:{nodeData:{handler:function(e){this.getDetail()},deep:!0}},methods:{refresh:function(e){this.getDetail()},initDetail:function(){this.menuNodeData=null},getDetail:function(){var e=this;if(this.nodeData){var t={resourceUuid:this.nodeData.id};Object(s.t)(t).then(function(t){e.menuNodeData=t,e.isMenu=2===t.resourceLever})}}}},i=a("Uxt/"),o=a.n(i);var r=function(e){a("Nrw+")},c=a("C7Lr")(n,o.a,!1,r,"data-v-5093f9b0",null);t.default=c.exports},"Uxt/":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu-content"},[e.menuNodeData?a("div",{staticClass:"main-content"},[e.isMenu?a("div",[a("div",{staticClass:"org-form"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("标题")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceTitle))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("名称")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceName))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("模块")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceComponent))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("图示")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceImage))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("状态")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(1===e.menuNodeData.resourceEnable?"启用":"禁用"))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("顺序")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceNumber))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"label"},[e._v("路径")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceUrl))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"label"},[e._v("描述")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceDesc))])])],1)],1)]):a("div",[a("div",{staticClass:"org-form"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("名称")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceTitle))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("图示")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceImage))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("按钮大小")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceSize))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("顺序")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceNumber))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("状态")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s("1"==e.menuNodeData.resourceEnable?"启用":"禁用"))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"label"},[e._v("事件名称")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceUrl))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"label"},[e._v("描述")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.menuNodeData.resourceDesc))])])],1)],1)])]):a("div",{staticClass:"empty"},[a("h3",[e._v("请在左侧选择一项菜单")]),e._v(" "),a("h5",[e._v("右击节点可进行操作")])])])},staticRenderFns:[]}},WLZ1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("wppO"),n=a.n(s),i=a("syVS"),o=a("S5+R"),r=a("vo6p"),c={name:"OrganizationManagement",data:function(){return{clickedNodeData:{},showUpdateDialog:!1,isCreate:!0}},methods:{handleNodeClick:function(e){var t=e.data;e.node,e.nodeCom;this.clickedNodeData=t},updateTree:function(e){this.$refs.tree.update(),"delete"===e?this.$refs.menuDetail.initDetail():this.$refs.menuDetail.refresh()},openDialog:function(e,t){this.clickedNodeData=t,this.showUpdateDialog=!0}},components:{VuePerfectScrollbar:n.a,SystemMenuTree:i.default,MenuDetail:o.default,MenuUpdate:r.default}},l=a("pifD"),u=a.n(l);var d=function(e){a("8FSa")},v=a("C7Lr")(c,u.a,!1,d,"data-v-22e45523",null);t.default=v.exports},d8Xt:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-contextmenu",{ref:"treeMenu"},[a("v-contextmenu-item",{on:{click:e.createOrg}},[e._v("新增菜单")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.editOrg}},[e._v("修改菜单")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.deleteOrg}},[e._v("删除菜单")])],1),e._v(" "),a("el-button",{staticClass:"addRoot",on:{click:e.addRoot}},[e._v("创建根节点")]),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.orgTreeData,"node-key":"id",props:e.defaultProps,"default-expand-all":"","expand-on-click-node":!1,"render-content":e.customRender},on:{"node-contextmenu":e.showContextMenu,"node-click":e.handleNodeClick}})],1)},staticRenderFns:[]}},pifD:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-menu"},[a("div",{staticClass:"main"},[a("div",{staticClass:"left-tree"},[a("VuePerfectScrollbar",{staticClass:"scroll-area"},[a("system-menu-tree",{ref:"tree",attrs:{isCreate:e.isCreate,clickedNodeData:e.clickedNodeData},on:{"update:isCreate":function(t){e.isCreate=t},"update:is-create":function(t){e.isCreate=t},nodeClick:e.handleNodeClick,openDialog:e.openDialog,updateTree:e.updateTree}})],1)],1),e._v(" "),a("div",{staticClass:"menu-content"},[a("menu-detail",{ref:"menuDetail",attrs:{nodeData:e.clickedNodeData}})],1)]),e._v(" "),a("menu-update",{attrs:{show:e.showUpdateDialog,isCreate:e.isCreate,nodeData:e.clickedNodeData},on:{"update:show":function(t){e.showUpdateDialog=t},updateTree:e.updateTree}})],1)},staticRenderFns:[]}},sUFv:function(e,t){},syVS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("sNXC"),n=a.n(s),i=a("4YfN"),o=a.n(i),r=a("R4Sj"),c=a("TVaK"),l=a("QPLA"),u=a("mx14"),d={name:"SystemMenuTree",data:function(){return{orgTreeData:[],contextmenuSelectedNode:null,defaultProps:{label:"name"}}},props:{clickedNodeData:{type:Object}},computed:o()({},Object(r.b)(["systemTheme"]),{selectedNode:function(){return this.clickedNodeData},systemColor:function(){return c.a[this.systemTheme]}}),mounted:function(){this.initOrgTree()},methods:{initOrgTree:function(){var e=this;Object(u.v)().then(function(t){e.orgTreeData=Object(l.a)(t)})},handleNodeClick:function(e,t,a){this.$emit("nodeClick",{data:e,node:t,nodeCom:a})},showContextMenu:function(e,t,a,s){if(a){var n=this.$refs.tree,i=this.$refs.treeMenu;this.contextmenuSelectedNode=t,n.setCurrentKey(t.id),i.show({top:e.clientY,left:e.clientX})}},update:function(){this.initOrgTree()},addRoot:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog","MenuUpdate",{addRoot:!0})},createOrg:function(){this.$emit("update:isCreate",!0),this.$emit("openDialog","MenuUpdate",this.contextmenuSelectedNode)},editOrg:function(){this.$emit("update:isCreate",!1),this.$emit("openDialog","MenuUpdate",this.contextmenuSelectedNode)},deleteOrg:function(){var e=this,t=this.contextmenuSelectedNode,a=t.name,s=t.id;s&&this.$confirm("确认要删除:["+a+"]菜单吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.s)({resourceUuid:s}).then(function(t){t.error||(e.$message({type:"success",message:"删除成功!"}),e.initOrgTree(),e.$emit("updateTree","delete"))})}).catch(function(){})},customRender:function(e,t){var a=t.node,s=t.data,i=(t.store,this.$createElement);return i("span",n()([{class:"custom-tree-node"},{directives:[{name:"contextmenu",arg:"treeMenu"}]}]),[i("span",[a.label]),this.$refs.tree.getCurrentNode()&&s.id===this.$refs.tree.getCurrentNode().id&&i("span",{class:"active",style:{backgroundColor:this.systemColor}})])}}},v=a("d8Xt"),p=a.n(v);var m=function(e){a("7Yhn")},f=a("C7Lr")(d,p.a,!1,m,"data-v-6a3bb3b9",null);t.default=f.exports},vfqY:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"670px",title:(e.isCreate?"新增":"编辑")+(e.isMenuTab?"菜单":"按钮"),visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.cancel}},[e.isCreate?a("div",{staticClass:"tabs"},[a("div",{staticClass:"pane",style:e.isMenuTab&&e.activeMenuStyle,on:{click:function(t){return e.createMenu("menu")}}},[e._v("菜单")]),e._v(" "),a("div",{staticClass:"pane",style:!e.isMenuTab&&e.activeMenuStyle,on:{click:function(t){return e.createMenu("button")}}},[e._v("按钮")])]):e._e(),e._v(" "),a("div",{staticClass:"form"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isCreate&&e.isMenuTab||!e.isCreate&&e.isEditMenu,expression:"(isCreate && isMenuTab) || (!isCreate && isEditMenu)"}]},[a("menu-update-form",{attrs:{isVisible:e.isVisible,isCreate:e.isCreate,nodeData:e.nodeData,data:e.formData},on:{save:e.save,cancel:e.cancel}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isCreate&&!e.isMenuTab||!e.isCreate&&!e.isEditMenu,expression:"(isCreate && !isMenuTab) || (!isCreate && !isEditMenu)"}]},[a("button-update-form",{attrs:{isVisible:e.isVisible,isCreate:e.isCreate,nodeData:e.nodeData,data:e.formData},on:{save:e.save,cancel:e.cancel}})],1)])])},staticRenderFns:[]}},vo6p:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4YfN"),n=a.n(s),i=a("R4Sj"),o=a("TVaK"),r=a("mx14"),c=a("NSPj"),l=a("AGug"),u={name:"MenuUpdate",data:function(){return{isMenuTab:!0,isEditMenu:!0,showDetailMode:!0,isVisible:!1,formData:null}},props:{show:{type:Boolean,required:!0,default:!1},nodeData:{type:Object,required:!0},isCreate:{type:Boolean}},computed:n()({},Object(i.b)(["systemTheme"]),{systemThemeColor:function(){return o.a[this.systemTheme]},activeMenuStyle:function(){return{borderColor:this.systemThemeColor}}}),watch:{show:function(e){e&&!this.isCreate&&this.getNodeData(),this.isVisible=e}},methods:{getNodeData:function(){var e=this,t={resourceUuid:this.nodeData.id};Object(r.t)(t).then(function(t){e.formData=e.isCreate?null:t,e.isEditMenu=2===t.resourceLever})},createMenu:function(e){this.isMenuTab="menu"===e},save:function(){this.$emit("updateTree"),this.cancel()},cancel:function(){this.isVisible=!1,this.$emit("update:show",!1)}},components:{MenuUpdateForm:c.default,ButtonUpdateForm:l.default}},d=a("vfqY"),v=a.n(d);var p=function(e){a("sUFv")},m=a("C7Lr")(u,v.a,!1,p,"data-v-656cdf7c",null);t.default=m.exports}});
//# sourceMappingURL=12.b742bffa48970f8e5157.js.map