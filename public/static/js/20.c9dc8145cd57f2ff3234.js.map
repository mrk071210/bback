{"version":3,"sources":["webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue?26fc","webpack:///source/admin/src/views/Development/WarehouseManagement/Quality/index.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/index.vue","webpack:///source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/index.vue?2f0b","webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue?4e53","webpack:///source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue","webpack:///./source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","model","searchForm","label-width","span","label","prop","placeholder","on","change","getMerchantsList","value","callback","$$v","$set","expression","_l","item","index","key","warehouseName","warehouseUuid","_v","_s","clearable","filterable","userName","userUuid","name","id","staticClass","type","align","unlink-panels","range-separator","format","value-format","size","nativeOn","click","$event","search","resetForm","staticRenderFns","Quality","mixins","components","NavButton","navButton","NavPremissonButton","navPremissonButton","CommonWrapper","commonWrapper","CommonTable","commonTable","QualityManagementSearch","Search","qualityDealFail","QualityDealFail","data","comp","buttonData","tableData","selectRow","StatusTrueflag","StatusFalseflag","isListLoading","orgnization","maintainList","warehouseList","$store","getters","merchantsList","originList","isFailVisible","modifyUser","choosedIds","pagination","pageNum","pageSize","total","searchParams","activated","$refs","userTable","doLayout","mounted","_this","Object","common","then","res","getMaintain","getOrigin","methods","queryList","params","getUsers","extends_default","des","disabled","rechargeable","_this2","arguments","length","undefined","session","promise_default","a","resolve","error","getWarehouse","_this3","warehouse","console","info","_this4","rest","handleSelectionChange","_this5","oIds","map","row","goodTestStatus","push","join","isButtonIsDisabled","log","handleFail","$message","message","handleStatus","_this6","$confirm","goodTestRemark","goodRepairCost","goodTestItems","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","goodTestUuid","productSeq","err","return","catch","isButtonDisabled","formatState","col","formatDate","testEndDate","moment_default","utcOffset","formatType","goodTestType","formatCreateDate","userCreateTime","typeFormatter","productType","getUserDetail","event","changePage","indexMethod","Component","__webpack_require__","normalizeComponent","Quality_default","__webpack_exports__","inventoryUuid","productTempleteUuid","orderUuid","storageUuid","createUserUuid","createTimeBegin","createTimeEnd","merchantUuid","testFrom","beginDate","endDate","status","orderId","testForm","timeRange","props","Array","required","$emit","assign_default","isBefore","isSame","closeSearch","formName","resetFields","__vue_styles__","ssrContext","Search_default","getMerchants","icon","staticStyle","color","_e","flex","slot","directives","rawName","height","stripe","border","tooltip-effect","row-click","selection-change","width","sortable","show-tooltip-when-overflow","min-width","formatter","show-overflow-tooltip","background","layout","current-page","page-size","update:currentPage","update:current-page","current-change","show","ids","update:show","update:modifyUser","update:modify-user","updateList","visible","isVisible","close-on-click-modal","close-on-press-escape","title","center","update:visible","close","cancel","qualityForm","rules","formRules","controls-position","min","max","precision","step","rows","maxlength","resize","save","price","trigger","validator","extendValidate","normalNumber","Boolean","default","String","watch","isShow","validate","isValid","goodTestResult","QualityDealFail_default"],"mappings":"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","file":"static/js/20.c9dc8145cd57f2ff3234.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"searchForm\",attrs:{\"model\":_vm.searchForm,\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"仓库\",\"prop\":\"warehouseUuid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择仓库\"},on:{\"change\":_vm.getMerchantsList},model:{value:(_vm.searchForm.warehouseUuid),callback:function ($$v) {_vm.$set(_vm.searchForm, \"warehouseUuid\", $$v)},expression:\"searchForm.warehouseUuid\"}},_vm._l((_vm.warehouseList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.warehouseName,\"value\":item.warehouseUuid}},[_vm._v(_vm._s(item.warehouseName))])}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"单号\",\"prop\":\"orderUuid\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单号\",\"clearable\":\"\"},model:{value:(_vm.searchForm.orderUuid),callback:function ($$v) {_vm.$set(_vm.searchForm, \"orderUuid\", $$v)},expression:\"searchForm.orderUuid\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"商户\",\"prop\":\"merchantUuid\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择商户\"},model:{value:(_vm.searchForm.merchantUuid),callback:function ($$v) {_vm.$set(_vm.searchForm, \"merchantUuid\", $$v)},expression:\"searchForm.merchantUuid\"}},_vm._l((_vm.merchantsList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.userName,\"value\":item.userUuid}},[_vm._v(_vm._s(item.userName))])}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"质检来源\",\"prop\":\"testForm\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择质检来源\"},model:{value:(_vm.searchForm.testForm),callback:function ($$v) {_vm.$set(_vm.searchForm, \"testForm\", $$v)},expression:\"searchForm.testForm\"}},_vm._l((_vm.originList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"质检开始日期\",\"prop\":\"beginDate\",\"label-width\":\"100px\"}},[_c('el-date-picker',{staticClass:\"w100p\",attrs:{\"type\":\"date\",\"align\":\"right\",\"clearable\":\"\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"placeholder\":\"请选择开始日期\",\"format\":\"yyyy 年 MM 月 dd 日\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"mini\"},model:{value:(_vm.searchForm.beginDate),callback:function ($$v) {_vm.$set(_vm.searchForm, \"beginDate\", $$v)},expression:\"searchForm.beginDate\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"质检结束日期\",\"prop\":\"endDate\",\"label-width\":\"100px\"}},[_c('el-date-picker',{staticClass:\"w100p\",attrs:{\"type\":\"date\",\"align\":\"right\",\"clearable\":\"\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"placeholder\":\"请选择结束日期\",\"format\":\"yyyy 年 MM 月 dd 日\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"mini\"},model:{value:(_vm.searchForm.endDate),callback:function ($$v) {_vm.$set(_vm.searchForm, \"endDate\", $$v)},expression:\"searchForm.endDate\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择状态\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},[_c('el-option',{attrs:{\"label\":\"待质检\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"质检通过\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"质检未通过\",\"value\":\"2\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"flex-right\",attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.search($event)}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('searchForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-d3a207a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue\n// module id = 7g4z\n// module chunks = 20 45","<template>\r\n    <div>\r\n      <!-- 查询 -->\r\n      <common-wrapper>\r\n        <quality-management-search class=\"search\" :originList=\"originList\"\r\n                                   :merchantsList=\"merchantsList\"\r\n                                   :warehouseList=\"warehouseList\"\r\n                                   @getMerchants=\"getMerchantsList\"\r\n                                   @search=\"queryList\" @rest=\"rest\" />\r\n      </common-wrapper>\r\n      <!-- <header-breadcrumb :breadData=\"$route.matched\" /> -->\r\n      <nav-button>\r\n        <el-button-group>\r\n          <el-button icon=\"fdddfont icon-add-new\"  :disabled=\"isButtonIsDisabled()\" @click=\"handleStatus\">质检通过</el-button>\r\n          <el-button icon=\"fdddfont icon-shouquan\" :disabled=\"isButtonIsDisabled()\" @click=\"handleFail\">质检不通过</el-button>\r\n        </el-button-group>\r\n        <span v-if=\"StatusTrueflag\" style=\"color:red\">仅待质检的数据可以继续操作，请取消勾选！</span>\r\n      </nav-button>\r\n\r\n     <!-- 用户列表 -->\r\n      <common-wrapper>\r\n        <common-table :flex=\"270\">\r\n          <template slot=\"table\">\r\n            <el-table\r\n              ref=\"userTable\"\r\n              height=\"100%\"\r\n              stripe\r\n              :border=\"true\"\r\n              tooltip-effect=\"light\"\r\n              v-loading=\"isListLoading\"\r\n              :data=\"tableData\"\r\n              @row-click=\"getUserDetail\"\r\n              @selection-change=\"handleSelectionChange\">\r\n                <el-table-column type=\"selection\" width=\"30\" ></el-table-column>\r\n                <el-table-column type=\"index\" :index=\"indexMethod\" label=\"序号\" width=\"50\"></el-table-column>\r\n                <el-table-column sortable prop=\"productUuid\" label=\"货品编号\" width=\"160\"></el-table-column>\r\n                <el-table-column sortable prop=\"orderUuid\" label=\"收货单号\" width=\"160\"></el-table-column>\r\n                <el-table-column sortable prop=\"merchantName\" label=\"商户\" width=\"120\" ></el-table-column>\r\n                <el-table-column sortable prop=\"productSeq\" label=\"条码\" width=\"170\" ></el-table-column>\r\n              <el-table-column sortable prop=\"productName\" label=\"货品名称\" width=\"120\" :show-tooltip-when-overflow=\"true\"></el-table-column>\r\n              <el-table-column prop=\"productModel\" label=\"型号\" min-width=\"120\"></el-table-column>\r\n              <el-table-column prop=\"productColor\" label=\"颜色\" ></el-table-column>\r\n              <el-table-column prop=\"productType\" label=\"货品类型\" :formatter=\"typeFormatter\"></el-table-column>\r\n              <el-table-column prop=\"goodTestStatus\" label=\"状态\" width=\"80\" :formatter=\"formatState\"></el-table-column>\r\n                <el-table-column prop=\"testEndDate\" label=\"质检时间\" width=\"150\" :formatter=\"formatDate\"></el-table-column>\r\n                <el-table-column prop=\"goodTestType\" label=\"质检来源\" width=\"120\" :formatter=\"formatType\"></el-table-column>\r\n                <el-table-column sortable prop=\"warehouseName\" label=\"仓库\" width=\"100\" ></el-table-column>\r\n                <el-table-column prop=\"goodTestRemark\" label=\"备注/质检不通过的原因\" :show-overflow-tooltip=\"true\" min-width=\"120\"></el-table-column>\r\n            </el-table>\r\n          </template>\r\n          <template slot=\"pagination\">\r\n                <el-pagination   background   layout=\"total, prev, pager, next\"\r\n                :current-page.sync=\"pagination.pageNum\"\r\n                :page-size=\"pagination.pageSize\"\r\n                :total=\"pagination.total\"\r\n                @current-change=\"changePage\"\r\n                ></el-pagination>\r\n          </template>\r\n        </common-table>\r\n      </common-wrapper>\r\n\r\n     <!-- 质检不通过 -->\r\n     <quality-deal-fail\r\n        :show.sync=\"isFailVisible\"\r\n        :modifyUser.sync=\"selectRow\"\r\n        :searchParams=\"searchParams\"\r\n        @updateList=\"queryList\"\r\n        :methods=\"maintainList\"\r\n        :ids=\"choosedIds\"\r\n      />\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Quality Management Module\r\n * ----------------------\r\n * Author: Calamus\r\n * Date: 2018.08.29\r\n */\r\n\r\nimport moment from 'moment'\r\n// 全局混入\r\nimport {mixins} from '@/mixins'\r\n// 自定义组件\r\nimport NavButton from '@/components/navButton'\r\nimport NavPremissonButton from '@/components/navButton/navPremissonButton'\r\nimport CommonWrapper from '@/components/commonWrapper'\r\nimport CommonTable from '@/components/commonTable'\r\nimport QualityManagementSearch from './Components/Search'\r\nimport qualityDealFail from './Components/QualityDealFail'\r\n\r\n// API\r\nimport { getAllOrgList, getAllMerchantsList } from '@/api/common'\r\nimport { setSession, getSession } from '@/utils/session'\r\nimport { deleteUser, resetPassword } from '@/api/user'\r\nimport { maintenanceMethodsList, qualityList, qualityOrigin, qualityStatus, getWarehouseList } from '@/api/warehouse'\r\n\r\nexport default {\r\n  name: 'QualityManagement',\r\n  mixins: [mixins],\r\n  components: {\r\n    NavButton,\r\n    NavPremissonButton,\r\n    CommonWrapper,\r\n    CommonTable,\r\n    QualityManagementSearch,\r\n    qualityDealFail\r\n  },\r\n  data () {\r\n    return {\r\n      comp: this,\r\n      buttonData: [],\r\n      tableData: [],\r\n      selectRow: [], // 列表选中列\r\n      StatusTrueflag: false, // 选中项是否有质检已通过的项\r\n      StatusFalseflag: false, // 选中项是否有质检不通过的项\r\n      isListLoading: false, // 列表加载\r\n      orgnization: [], // 公用组织机构\r\n      maintainList: [], // 质检不通过后的维修方式列表\r\n      warehouseList: this.$store.getters.warehouseList,\r\n      merchantsList: [],\r\n      originList: [],\r\n      isFailVisible: false, // 质检不通过页面是否显示\r\n      modifyUser: null, // 弹出框编辑时存放的临时行数据\r\n      choosedIds: '',\r\n      pagination: { // 翻页数据\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      },\r\n      searchParams: {} // 查询参数\r\n    }\r\n  },\r\n  activated () {\r\n    this.$refs.userTable.doLayout()\r\n  },\r\n  mounted () {\r\n    //\r\n    getAllOrgList().then(res => {\r\n      this.orgnization = res\r\n    })\r\n    this.getMaintain()\r\n    this.getOrigin()\r\n  },\r\n  methods: {\r\n    // 查询和初始化查询\r\n    // 查询/翻页公用方法\r\n    queryList (params) {\r\n      const searchParams = this.searchParams = params\r\n      this.getUsers(\r\n        {\r\n          ...searchParams,\r\n          pageNum: this.pagination.pageNum,\r\n          pageSize: this.pagination.pageSize\r\n        }\r\n      )\r\n    },\r\n    // 获取维修方式\r\n    getMaintain () {\r\n      // maintenanceMethodsList().then(res => {\r\n      //   console.info(\"methods=>\",res)\r\n      //         this.maintainList = res ;\r\n      //       })\r\n      this.maintainList = [\r\n        {\r\n          'id': '1',\r\n          'name': '返厂',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': false\r\n        },\r\n        {\r\n          'id': '2',\r\n          'name': '第三方维修',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': false\r\n        },\r\n        {\r\n          'id': '3',\r\n          'name': '星和宅配维修',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': true\r\n        },\r\n        {\r\n          'id': '0',\r\n          'name': '继续出库',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': false\r\n        }\r\n      ]\r\n    },\r\n    // 商户列表\r\n    getMerchantsList (params = {warehouseUuid: getSession('warehouseUuid') ? getSession('warehouseUuid') : this.warehouseList[0].warehouseUuid, userUuid: ''}) {\r\n      return new Promise(resolve => {\r\n        getAllMerchantsList(params).then(res => {\r\n          if (!res.error) {\r\n            this.merchantsList = res\r\n            resolve()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 获取仓库列表\r\n    getWarehouse () {\r\n      getWarehouseList().then(res => {\r\n        console.info('warehouse=>', res)\r\n        this.warehouseList = res\r\n      })\r\n    },\r\n    // 获取质检来源列表\r\n    getOrigin () {\r\n      this.originList = [\r\n        {\r\n          'id': '1',\r\n          'name': '入库质检',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': false\r\n        },\r\n        {\r\n          'id': '2',\r\n          'name': '出库质检',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': false\r\n        },\r\n        // {\r\n        //   \"id\": \"3\",\r\n        //   \"name\": \"配送返库质检\",\r\n        //   \"des\": \"描述\",\r\n        //   \"disabled\": false,\r\n        //   \"rechargeable\": true\r\n        // },\r\n        {\r\n          'id': '3',\r\n          'name': '维修质检',\r\n          'des': '描述',\r\n          'disabled': false,\r\n          'rechargeable': true\r\n        }\r\n      ]\r\n      // qualityOrigin().then(res => {\r\n      //   console.info(\"origin=>\",res)\r\n      //   this.originList = res ;\r\n      // })\r\n    },\r\n    // 获取用户列表\r\n    getUsers (params) {\r\n      this.isListLoading = true\r\n      qualityList(params).then(res => {\r\n        if(res.item.length == 0 && res.pageNum > 1){\r\n          this.pagination.pageNum = 1\r\n          params.pageNum = 1\r\n          this.getUsers(params)\r\n          return\r\n        }\r\n        this.tableData = res.item\r\n        this.pagination.total = res.total\r\n        this.pagination.pageNum = res.pageNum\r\n        this.pagination.pageSize = res.pageSize\r\n        this.isListLoading = false\r\n      })\r\n    },\r\n    rest (params) {\r\n      const searchParams = this.searchParams = params\r\n      this.getUsers(\r\n        {\r\n          ...searchParams,\r\n          pageNum: 1,\r\n          pageSize: this.pagination.pageSize\r\n        }\r\n      )\r\n    },\r\n    handleSelectionChange (item) {\r\n      this.selectRow = item\r\n      this.StatusTrueflag = false\r\n      let oIds = []\r\n      this.choosedIds = this.selectRow.map(row => {\r\n        if(row.goodTestStatus != 0){\r\n          this.StatusTrueflag = true\r\n        }\r\n        oIds.push(row.id)\r\n      }).join(',')\r\n    },\r\n    isButtonIsDisabled () {\r\n      console.log(this.selectRow.length > 0 && !this.StatusTrueflag)\r\n      if (this.selectRow.length > 0 && !this.StatusTrueflag) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handleFail () {\r\n      if (!this.selectRow.length) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '请至少选择一项'\r\n        })\r\n      }\r\n      this.isFailVisible = true\r\n    },\r\n    // 质检通过\r\n    handleStatus () {\r\n      console.log(this.StatusTrueflag, this.selectRow)\r\n      if (!this.selectRow.length) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '请至少选择一项'\r\n        })\r\n      } else if (this.StatusTrueflag) {\r\n        this.$message({\r\n          message: '所选择项中有已通过质检的数据，请重新选择！',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        this.$confirm('确认要将选择项通过质检么?', '提示', {\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const searchParams = this.searchParams\r\n            let params = {\r\n            goodTestStatus: 1,\r\n            goodTestRemark: searchParams.goodTestRemark,\r\n            goodRepairCost: searchParams.goodRepairCost,\r\n            goodTestItems: []\r\n          }\r\n          for (let item of this.selectRow) {\r\n            console.log(this.selectRow)\r\n            params.goodTestItems.push({'goodTestUuid': item.goodTestUuid, 'productSeq': item.productSeq})\r\n          }\r\n          qualityStatus(params).then((res) => {\r\n            console.log(res)\r\n            if (!res.error) {\r\n              this.$message({\r\n                message: '质检通过成功',\r\n                type: 'success'\r\n              })\r\n              this.queryList(this.searchParams)\r\n            }\r\n          })\r\n        }).catch(() => { console.log('111') })\r\n      }\r\n    },\r\n    isButtonDisabled () {\r\n      return !!this.selectRow.length\r\n    },\r\n    // 处理订单状态\r\n    formatState (row, col) {\r\n      switch (row.goodTestStatus) {\r\n        case '0':\r\n          return '待质检'\r\n          break;\r\n        case '1':\r\n          return '质检通过'\r\n          break;\r\n        case '2':\r\n          return '质检未通过'\r\n          break;\r\n      }\r\n    },\r\n    formatDate (row) {\r\n      if (row.testEndDate) {\r\n        return moment(row.testEndDate).utcOffset(8).format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n    },\r\n    formatType (row, col) {\r\n      switch (row.goodTestType) {\r\n        case '1':\r\n          return '入库质检'\r\n          break;\r\n        case '2':\r\n          return '出库质检'\r\n          break;\r\n        // case '3':\r\n        //   return '配送返库质检';\r\n        //   break;\r\n        case '3':\r\n          return '维修质检'\r\n          break;\r\n      }\r\n    },\r\n    // 列表日期格式化\r\n    formatCreateDate (row) {\r\n      return moment(row.userCreateTime).utcOffset(8).format('YYYY-MM-DD')\r\n    },\r\n    typeFormatter (row) {\r\n      switch(row.productType){\r\n        case '0':\r\n          return '小件'\r\n          break;\r\n        case '1':\r\n          return '套件'\r\n          break;\r\n        case '2':\r\n          return '单品'\r\n          break;\r\n        default:\r\n          return '未知'\r\n      }\r\n    },\r\n    // 查询详情\r\n    getUserDetail (row, event) {\r\n      // console.log(row)\r\n    },\r\n    // 列表翻页\r\n    changePage (pageNum) {\r\n      this.pagination.pageNum = pageNum\r\n      this.queryList(this.searchParams)\r\n    },\r\n    // 生成列表序号\r\n    indexMethod (index) {\r\n      return (index + 1) + (this.pagination.pageNum - 1) * this.pagination.pageSize\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Quality/index.vue","var normalizeComponent = require(\"!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76368880\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Quality/index.vue\n// module id = null\n// module chunks = ","<template>\r\n     <el-form :model=\"searchForm\" ref=\"searchForm\"  label-width=\"80px\" >\r\n          <el-row>\r\n                <el-col :span=\"6\">\r\n                  <el-form-item label=\"仓库\" prop=\"warehouseUuid\">\r\n                    <el-select  placeholder=\"请选择仓库\" v-model=\"searchForm.warehouseUuid\"  @change=\"getMerchantsList\">\r\n                        <el-option\r\n                          v-for=\"(item, index) in warehouseList\"\r\n                          :key=\"index\"\r\n                          :label=\"item.warehouseName\"\r\n                          :value=\"item.warehouseUuid\"\r\n                        >{{item.warehouseName}}</el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-form-item label=\"单号\"  prop=\"orderUuid\">\r\n                      <el-input placeholder=\"请输入单号\" clearable v-model=\"searchForm.orderUuid\"   ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-form-item label=\"商户\"  prop=\"merchantUuid\">\r\n                      <el-select filterable clearable placeholder=\"请选择商户\" v-model=\"searchForm.merchantUuid\" >\r\n                        <el-option\r\n                          v-for=\"(item, index) in merchantsList\"\r\n                          :key=\"index\"\r\n                          :label=\"item.userName\"\r\n                          :value=\"item.userUuid\"\r\n                        >{{item.userName}}</el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <el-form-item label=\"质检来源\" prop=\"testForm\">\r\n                    <el-select filterable clearable placeholder=\"请选择质检来源\" v-model=\"searchForm.testForm\" >\r\n                        <el-option\r\n                          v-for=\"(item, index) in originList\"\r\n                          :key=\"index\"\r\n                          :label=\"item.name\"\r\n                          :value=\"item.id\"\r\n                        >{{item.name}}</el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-form-item label=\"质检开始日期\" prop=\"beginDate\" label-width=\"100px\">\r\n                      <el-date-picker\r\n                        class=\"w100p\"\r\n                        v-model=\"searchForm.beginDate\"\r\n                        type=\"date\"\r\n                        align=\"right\"\r\n                        clearable\r\n                        unlink-panels\r\n                        range-separator=\"至\"\r\n                        placeholder=\"请选择开始日期\"\r\n                        format=\"yyyy 年 MM 月 dd 日\"\r\n                        value-format=\"yyyy-MM-dd\"\r\n                        size=\"mini\"\r\n                        >\r\n                      </el-date-picker>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-form-item label=\"质检结束日期\" prop=\"endDate\" label-width=\"100px\">\r\n                      <el-date-picker\r\n                        class=\"w100p\"\r\n                        v-model=\"searchForm.endDate\"\r\n                        type=\"date\"\r\n                        align=\"right\"\r\n                        clearable\r\n                        unlink-panels\r\n                        range-separator=\"至\"\r\n                        placeholder=\"请选择结束日期\"\r\n                        format=\"yyyy 年 MM 月 dd 日\"\r\n                        value-format=\"yyyy-MM-dd\"\r\n                        size=\"mini\"\r\n                        >\r\n                      </el-date-picker>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-form-item label=\"状态\" prop=\"status\">\r\n                      <el-select placeholder=\"请选择状态\"  filterable clearable v-model=\"searchForm.status\" >\r\n                          <el-option label=\"待质检\" value=\"0\"/>\r\n                          <el-option label=\"质检通过\" value=\"1\"/>\r\n                          <el-option label=\"质检未通过\" value=\"2\"/>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"6\" class=\"flex-right\">\r\n                    <el-button type=\"primary\" @click.native=\"search\">查询</el-button>\r\n                    <el-button @click=\"resetForm('searchForm')\">重置</el-button>\r\n                </el-col>\r\n            </el-row>\r\n          </el-form>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Quality Management Module\r\n * ----------------------\r\n * Author: Calamus\r\n * Date: 2018.08.29\r\n */\r\nimport { getWarehouseList } from '@/api/warehouse'\r\nimport { getAllMerchantsList } from '@/api/common'\r\nimport { setSession, getSession } from '@/utils/session'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'QualityManagementSearch',\r\n  data () {\r\n    return {\r\n      // 检索界面数据\r\n      searchForm: {\r\n        inventoryUuid: '',\r\n        warehouseUuid: '',\r\n        productTempleteUuid: '',\r\n        orderUuid: '',\r\n        storageUuid: '',\r\n        createUserUuid: '',\r\n        createTimeBegin: '',\r\n        createTimeEnd: '',\r\n        merchantUuid: '',\r\n        testFrom: '',\r\n        beginDate: '',\r\n        endDate: '',\r\n        status: '',\r\n        orderId: '',\r\n        testForm: '',\r\n        timeRange: []\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    warehouseList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    originList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    merchantsList: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.searchForm.warehouseUuid = getSession('warehouseUuid')\r\n    this.search()\r\n    this.getMerchantsList(this.searchForm.warehouseUuid)\r\n  },\r\n  methods: {\r\n    getMerchantsList (value) {\r\n      setSession('warehouseUuid', value)\r\n      this.searchForm.merchantUuid = ''\r\n      this.$emit('getMerchants', Object.assign({}, this.searchForm))\r\n    },\r\n    // 检索\r\n    search: function () {\r\n      if (this.searchForm.endDate && this.searchForm.beginDate && ( moment(this.searchForm.endDate).isBefore(this.searchForm.beginDate) || moment(this.searchForm.endDate).isSame(this.searchForm.beginDate))) {\r\n        this.$message({\r\n          message: '结束日期不能早于开始日期，请重新选择！',\r\n          type: 'warning'\r\n        })\r\n        this.searchForm.endDate = null\r\n\r\n      } else {\r\n        this.$emit('search', Object.assign({}, this.searchForm))\r\n      }\r\n    },\r\n    // 关闭查询框\r\n    closeSearch: function (formName) {\r\n      this.$emit('closeSearch')\r\n    },\r\n    // 重置\r\n    resetForm (formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchForm.warehouseUuid = getSession('warehouseUuid')\r\n      this.$emit('rest', Object.assign({}, this.searchForm))\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.el-form-item{\r\n   margin-bottom:10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d3a207a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"D:\\\\\\\\workspace\\\\\\\\wms_web\\\\\\\\source\\\\\\\\admin\\\\\\\\src\\\\\\\\common\\\\\\\\style\\\\\\\\common.scss\\\"]}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d3a207a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d3a207a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Quality/Components/Search.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('common-wrapper',[_c('quality-management-search',{staticClass:\"search\",attrs:{\"originList\":_vm.originList,\"merchantsList\":_vm.merchantsList,\"warehouseList\":_vm.warehouseList},on:{\"getMerchants\":_vm.getMerchantsList,\"search\":_vm.queryList,\"rest\":_vm.rest}})],1),_vm._v(\" \"),_c('nav-button',[_c('el-button-group',[_c('el-button',{attrs:{\"icon\":\"fdddfont icon-add-new\",\"disabled\":_vm.isButtonIsDisabled()},on:{\"click\":_vm.handleStatus}},[_vm._v(\"质检通过\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"fdddfont icon-shouquan\",\"disabled\":_vm.isButtonIsDisabled()},on:{\"click\":_vm.handleFail}},[_vm._v(\"质检不通过\")])],1),_vm._v(\" \"),(_vm.StatusTrueflag)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"仅待质检的数据可以继续操作，请取消勾选！\")]):_vm._e()],1),_vm._v(\" \"),_c('common-wrapper',[_c('common-table',{attrs:{\"flex\":270}},[_c('template',{slot:\"table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isListLoading),expression:\"isListLoading\"}],ref:\"userTable\",attrs:{\"height\":\"100%\",\"stripe\":\"\",\"border\":true,\"tooltip-effect\":\"light\",\"data\":_vm.tableData},on:{\"row-click\":_vm.getUserDetail,\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod,\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"productUuid\",\"label\":\"货品编号\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"orderUuid\",\"label\":\"收货单号\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"merchantName\",\"label\":\"商户\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"productSeq\",\"label\":\"条码\",\"width\":\"170\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"productName\",\"label\":\"货品名称\",\"width\":\"120\",\"show-tooltip-when-overflow\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productModel\",\"label\":\"型号\",\"min-width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productColor\",\"label\":\"颜色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"productType\",\"label\":\"货品类型\",\"formatter\":_vm.typeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodTestStatus\",\"label\":\"状态\",\"width\":\"80\",\"formatter\":_vm.formatState}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"testEndDate\",\"label\":\"质检时间\",\"width\":\"150\",\"formatter\":_vm.formatDate}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodTestType\",\"label\":\"质检来源\",\"width\":\"120\",\"formatter\":_vm.formatType}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"warehouseName\",\"label\":\"仓库\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodTestRemark\",\"label\":\"备注/质检不通过的原因\",\"show-overflow-tooltip\":true,\"min-width\":\"120\"}})],1)],1),_vm._v(\" \"),_c('template',{slot:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.pagination.pageNum,\"page-size\":_vm.pagination.pageSize,\"total\":_vm.pagination.total},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)},\"current-change\":_vm.changePage}})],1)],2)],1),_vm._v(\" \"),_c('quality-deal-fail',{attrs:{\"show\":_vm.isFailVisible,\"modifyUser\":_vm.selectRow,\"searchParams\":_vm.searchParams,\"methods\":_vm.maintainList,\"ids\":_vm.choosedIds},on:{\"update:show\":function($event){_vm.isFailVisible=$event},\"update:modifyUser\":function($event){_vm.selectRow=$event},\"update:modify-user\":function($event){_vm.selectRow=$event},\"updateList\":_vm.queryList}})],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-76368880\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Quality/index.vue\n// module id = grX7\n// module chunks = 20","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"600px\",\"visible\":_vm.isVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"title\":\"请选择质检不通过后的维修方案：\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[_c('el-form',{ref:\"qualityForm\",attrs:{\"model\":_vm.qualityForm,\"rules\":_vm.formRules,\"label-width\":\"30px\"}},[_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"methods\"}},[_c('el-radio-group',{model:{value:(_vm.qualityForm.methods),callback:function ($$v) {_vm.$set(_vm.qualityForm, \"methods\", $$v)},expression:\"qualityForm.methods\"}},_vm._l((_vm.methods),function(item,index){return _c('el-row',{key:index},[_c('el-col',{attrs:{\"span\":8}},[_c('el-radio',{attrs:{\"label\":item.id,\"value\":item.id}},[_vm._v(_vm._s(item.name))])],1),_vm._v(\" \"),(item.rechargeable && _vm.qualityForm.methods == item.id)?_c('el-col',{attrs:{\"span\":16}},[_c('el-form-item',{attrs:{\"label\":\"维修价格\",\"label-width\":\"80px\",\"prop\":\"price\"}},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":999999,\"precision\":2,\"step\":0.01,\"size\":\"mini\"},model:{value:(_vm.qualityForm.price),callback:function ($$v) {_vm.$set(_vm.qualityForm, \"price\", $$v)},expression:\"qualityForm.price\"}})],1)],1):_vm._e()],1)}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"prop\":\"goodTestRemark\"}},[_c('span',[_vm._v(\"质检不通过的原因:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"rows\":5,\"type\":\"textarea\",\"maxlength\":\"200\",\"placeholder\":\"请输入质检不通过的原因,最长200字符\",\"resize\":\"none\"},model:{value:(_vm.qualityForm.goodTestRemark),callback:function ($$v) {_vm.$set(_vm.qualityForm, \"goodTestRemark\", $$v)},expression:\"qualityForm.goodTestRemark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-fb11f704\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue\n// module id = p6r4\n// module chunks = 20 42","<template>\r\n    <el-dialog\r\n    width=\"600px\"\r\n    :visible.sync=\"isVisible\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"cancel\"\r\n    title=\"请选择质检不通过后的维修方案：\"\r\n    center\r\n    >\r\n       <el-form ref=\"qualityForm\" :model=\"qualityForm\" :rules=\"formRules\" label-width=\"30px\">\r\n\r\n          <el-form-item label=\"\" prop=\"methods\">\r\n              <el-radio-group v-model=\"qualityForm.methods\">\r\n                <el-row v-for=\"(item,index) in methods\"   :key=\"index\">\r\n                  <el-col :span=\"8\">\r\n                    <el-radio :label=\"item.id\" :value=\"item.id\">{{item.name}}</el-radio>\r\n                  </el-col>\r\n                  <el-col :span=\"16\" v-if=\"item.rechargeable && qualityForm.methods == item.id\">\r\n                    <el-form-item label=\"维修价格\" label-width=\"80px\" prop=\"price\">\r\n                      <el-input-number v-model=\"qualityForm.price\" controls-position=\"right\" :min=\"1\" :max=\"999999\" :precision=\"2\" :step=\"0.01\" size=\"mini\"></el-input-number>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"\" prop=\"goodTestRemark\">\r\n            <span>质检不通过的原因:</span>\r\n            <el-input\r\n              v-model=\"qualityForm.goodTestRemark\"\r\n              :rows=\"5\"\r\n              type=\"textarea\"\r\n              maxlength=\"200\"\r\n              placeholder=\"请输入质检不通过的原因,最长200字符\"\r\n              resize=\"none\">\r\n            </el-input>\r\n          </el-form-item>\r\n       </el-form>\r\n       <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button size=\"small\" type=\"primary\" @click=\"save\">提交</el-button>\r\n            <el-button size=\"small\" @click=\"cancel\">取消</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n<script>\r\n/**\r\n * QualityDealFail Component\r\n * ----------------------\r\n * Author: Calamus\r\n * Date: 2018.08.29\r\n */\r\n// validate\r\nimport Validator from '@/utils/extendValidate/extendValidate'\r\n// api\r\nimport { maintenanceMethodsList, qualityStatus } from '@/api/warehouse'\r\n\r\nexport default {\r\n  name: 'QualityDealFail',\r\n  data () {\r\n    return {\r\n      isVisible: false,\r\n      qualityForm: {\r\n        methods: '',\r\n        price: '',\r\n        goodTestRemark: '' // 质检不通过原因，列表备注显示\r\n      },\r\n      formRules: {\r\n        price: [{required: true, message: '请输入价格', trigger: 'change'},\r\n          {validator: Validator.normalNumber, trigger: 'change'}],\r\n        methods: [{required: true, message: '请选择维修方式', trigger: 'change'} ]\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    modifyUser: {\r\n      type: Array\r\n    },\r\n    searchParams: {\r\n      type: Object\r\n    },\r\n    methods: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    ids: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    show (isShow) {\r\n      this.isVisible = isShow\r\n    }\r\n  },\r\n  methods: {\r\n    save () {\r\n      this.$refs.qualityForm.validate(isValid => {\r\n        if (isValid) {\r\n          const searchParams = this.searchParams\r\n          let params = {\r\n            goodTestStatus: 2,\r\n            goodTestResult: this.qualityForm.methods,\r\n            goodTestRemark: this.qualityForm.goodTestRemark,\r\n            goodRepairCost: this.qualityForm.price,\r\n            goodTestItems: []\r\n          }\r\n          for (let item of this.modifyUser) {\r\n            params.goodTestItems.push({'goodTestUuid': item.goodTestUuid, 'productSeq': item.productSeq})\r\n          }\r\n          qualityStatus(params).then(res => {\r\n            if (!res.error) {\r\n              this.$message({\r\n                message: '修改维修方式成功!',\r\n                type: 'success'\r\n              })\r\n              this.cancel()\r\n              this.$emit('updateList', this.searchParams)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    cancel () {\r\n      this.$refs.qualityForm.resetFields()\r\n      this.$emit('update:show', false)\r\n      this.isVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.el-form-item--mini.el-form-item, .el-form-item--small.el-form-item {\r\n    margin-bottom: 0px;\r\n}\r\n.el-radio {\r\n    padding: 7.5px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fb11f704\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./QualityDealFail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./QualityDealFail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./QualityDealFail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fb11f704\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./QualityDealFail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fb11f704\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/Development/WarehouseManagement/Quality/Components/QualityDealFail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}