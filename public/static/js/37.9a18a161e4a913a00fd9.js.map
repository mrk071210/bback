{"version":3,"sources":["webpack:///./source/admin/src/views/SystemManagement/Menu/Components/Update.vue?603f","webpack:///source/admin/src/views/SystemManagement/Menu/Components/Update.vue","webpack:///./source/admin/src/views/SystemManagement/Menu/Components/Update.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","width","title","isCreate","isMenuTab","visible","isVisible","on","update:visible","$event","close","cancel","staticClass","style","activeMenuStyle","click","createMenu","_v","_e","directives","name","rawName","value","isEditMenu","expression","nodeData","data","formData","save","staticRenderFns","Update","showDetailMode","props","show","type","Boolean","required","default","Object","computed","extends_default","vuex_esm","systemThemeColor","theme","systemTheme","borderColor","watch","isShow","getNodeData","methods","_this","params","resourceUuid","id","systemparams","then","res","resourceLever","$emit","components","MenuUpdateForm","ButtonUpdateForm","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","Update_default","a","__webpack_exports__"],"mappings":"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","file":"static/js/37.9a18a161e4a913a00fd9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"670px\",\"title\":(_vm.isCreate ? '新增':'编辑')+ (_vm.isMenuTab ? '菜单': '按钮'),\"visible\":_vm.isVisible},on:{\"update:visible\":function($event){_vm.isVisible=$event},\"close\":_vm.cancel}},[(_vm.isCreate)?_c('div',{staticClass:\"tabs\"},[_c('div',{staticClass:\"pane\",style:(_vm.isMenuTab && _vm.activeMenuStyle),on:{\"click\":function($event){_vm.createMenu('menu')}}},[_vm._v(\"菜单\")]),_vm._v(\" \"),_c('div',{staticClass:\"pane\",style:(!_vm.isMenuTab && _vm.activeMenuStyle),on:{\"click\":function($event){_vm.createMenu('button')}}},[_vm._v(\"按钮\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isCreate && _vm.isMenuTab) || (!_vm.isCreate && _vm.isEditMenu)),expression:\"(isCreate && isMenuTab) || (!isCreate && isEditMenu)\"}]},[_c('menu-update-form',{attrs:{\"isVisible\":_vm.isVisible,\"isCreate\":_vm.isCreate,\"nodeData\":_vm.nodeData,\"data\":_vm.formData},on:{\"save\":_vm.save,\"cancel\":_vm.cancel}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isCreate && !_vm.isMenuTab) || (!_vm.isCreate && !_vm.isEditMenu)),expression:\"(isCreate && !isMenuTab) || (!isCreate && !isEditMenu)\"}]},[_c('button-update-form',{attrs:{\"isVisible\":_vm.isVisible,\"isCreate\":_vm.isCreate,\"nodeData\":_vm.nodeData,\"data\":_vm.formData},on:{\"save\":_vm.save,\"cancel\":_vm.cancel}})],1)])])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fd26204\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./source/admin/src/views/SystemManagement/Menu/Components/Update.vue\n// module id = hMNm\n// module chunks = 6 37","<template>\n  <el-dialog\n    width=\"670px\"\n    :title=\"(isCreate ? '新增':'编辑')+ (isMenuTab ? '菜单': '按钮')\"\n    :visible.sync=\"isVisible\"\n    @close=\"cancel\"\n  >\n    <div class=\"tabs\" v-if=\"isCreate\">\n      <div class=\"pane\" @click=\"createMenu('menu')\" :style=\"isMenuTab && activeMenuStyle\">菜单</div>\n      <div class=\"pane\" @click=\"createMenu('button')\" :style=\"!isMenuTab && activeMenuStyle\">按钮</div>\n    </div>\n    <div class=\"form\">\n      <!-- 菜单级别表单 -->\n      <div v-show=\"(isCreate && isMenuTab) || (!isCreate && isEditMenu)\">\n        <menu-update-form\n          :isVisible=\"isVisible\"\n          :isCreate=\"isCreate\"\n          :nodeData=\"nodeData\"\n          :data=\"formData\"\n          @save=\"save\"\n          @cancel=\"cancel\"\n        />\n      </div>\n      <!-- 按钮级别表单 -->\n      <div v-show=\"(isCreate && !isMenuTab) || (!isCreate && !isEditMenu)\">\n        <button-update-form\n          :isVisible=\"isVisible\"\n          :isCreate=\"isCreate\"\n          :nodeData=\"nodeData\"\n          :data=\"formData\"\n          @save=\"save\"\n          @cancel=\"cancel\"\n        />\n      </div>\n    </div>\n  </el-dialog>\n</template>\n<script>\n  /**\n   * Menu/Button Add/Edit Component\n   * ----------------------\n   * Author: zhou qi\n   * Date: 2018.03.20\n   */\n  import { mapGetters } from 'vuex'\n  import { baseTheme } from '@/utils/theme'\n  // api\n  import { systemMenuDetail } from '@/api/systemparams'\n\n  import MenuUpdateForm from './MenuUpdateForm'\n  import ButtonUpdateForm from './ButtonUpdateForm'\n\n  export default {\n    name: 'MenuUpdate',\n    data () {\n      return {\n        isMenuTab: true,\n        isEditMenu: true,\n        showDetailMode: true,\n        isVisible: false,\n        formData: null\n      }\n    },\n    props: {\n      show: {\n        type: Boolean,\n        required: true,\n        default: false\n      },\n      nodeData: {\n        type: Object,\n        required: true\n      },\n      isCreate: {\n        type: Boolean\n      }\n    },\n    computed: {\n      ...mapGetters(['systemTheme']),\n      systemThemeColor () {\n        return baseTheme[this.systemTheme]\n      },\n      activeMenuStyle () {\n        return { borderColor: this.systemThemeColor }\n      }\n    },\n    watch: {\n      show (isShow) {\n        // 编辑的时候需要获取当前节点信息并传给FORM展现\n        if (isShow && !this.isCreate) {\n          this.getNodeData()\n        }\n        // 设置窗口显示状态\n        this.isVisible = isShow\n      }\n    },\n    methods: {\n      // 通过当前节点ID获取节点数据\n      getNodeData () {\n        const params = {\n          resourceUuid: this.nodeData.id\n        }\n        systemMenuDetail(params).then(res => {\n          this.formData = this.isCreate ? null : res\n          this.isEditMenu = res.resourceLever === 2\n        })\n      },\n      createMenu (type) {\n        this.isMenuTab = type === 'menu'\n      },\n      save () {\n        // 重新读取tree\n        this.$emit('updateTree')\n        this.cancel()\n      },\n      cancel () {\n        this.isVisible = false\n        this.$emit('update:show', false)\n      }\n    },\n    components: {\n      MenuUpdateForm,\n      ButtonUpdateForm\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .tabs {\n    display: flex;\n    position:relative;\n    top:-15px;\n    margin-bottom: 5px;\n\n    .pane {\n      flex: 1 auto;\n      text-align: center;\n      border-bottom-width: 2px;\n      border-bottom-style: solid;\n      border-bottom-color: lighten($base-gray-color, 20%);\n      cursor: pointer;\n    }\n  }\n  // .form {\n\n  // }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// source/admin/src/views/SystemManagement/Menu/Components/Update.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fd26204\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/mrk/Desktop/xhcode/okr_web/source/admin/src/common/style/common.scss\\\"]}!../../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fd26204\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0fd26204\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/admin/src/views/SystemManagement/Menu/Components/Update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}