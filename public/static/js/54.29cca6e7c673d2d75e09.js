webpackJsonp([54],{"69eB":function(e,s){},FSgm:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-dialog",{attrs:{width:"500px",title:"导入计件表格",visible:e.isVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!0},on:{"update:visible":function(s){e.isVisible=s},close:e.cancel}},[t("el-form",{ref:"checkInfo",attrs:{model:e.checkInfo,rules:e.formRules,"label-width":"80px"}},[t("el-row",[t("el-form-item",{attrs:{label:"仓库",prop:"warehouseUuid"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择仓库"},model:{value:e.checkInfo.warehouseUuid,callback:function(s){e.$set(e.checkInfo,"warehouseUuid",s)},expression:"checkInfo.warehouseUuid"}},e._l(e.warehouseList,function(e,s){return t("el-option",{key:s,attrs:{label:e.warehouseName,value:e.warehouseUuid}})}),1)],1)],1),e._v(" "),t("el-row",[t("el-form-item",{staticClass:"is-required",attrs:{label:"附件"}},[t("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:e.actionUrl,data:e.checkInfo,"auto-upload":!1,"on-preview":e.handlePreview,"before-upload":e.onBeforeUpload,"on-change":e.handleChange,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:1,headers:e.myHeaders,"on-success":e.uploadSuccess,"on-error":e.uploadError,"on-exceed":e.handleExceed,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","file-list":e.fileList}},[t("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("选择附件")])],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{staticClass:"flex-right",attrs:{span:24}},[t("el-button",{attrs:{type:"primary",loading:e.isSaving},on:{click:function(s){return e.save()}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(s){return e.cancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}},UVXv:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});t("I8tE");var i=t("Q/su"),o=t("fBur"),a=t("Majh"),l=Object(a.a)(),n={name:"UploadExcel",data:function(){return{isVisible:!1,checkInfo:{warehouseUuid:""},formRules:{warehouseUuid:[{required:!0,message:"请选择仓库",trigger:"blur"}]},myHeaders:{Authorization:l},fileList:[],actionUrl:i.a+"/product/cost/import",isSaving:!1}},props:{show:{type:Boolean,required:!0,default:!1},warehouseList:{type:Array}},watch:{show:function(e){this.isVisible=e,this.checkInfo.warehouseUuid=Object(o.b)("warehouseUuid")}},methods:{save:function(){var e=this;this.$refs.checkInfo.validate(function(s){s&&(e.fileList.length>0?e.$refs.uploadFile.submit():e.$message({showClose:!0,message:"请上传附件",type:"warning"}))})},cancel:function(){this.isVisible=!1,this.$refs.checkInfo.resetFields(),this.fileList=[],this.$refs.uploadFile.clearFiles(),this.$emit("update:show",!1)},handleRemove:function(e,s){this.fileList=s},handlePreview:function(e){},handleExceed:function(e,s){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+s.length)+" 个文件")},beforeRemove:function(e,s){},handleChange:function(e,s){this.fileList=s},uploadSuccess:function(e,s,t){200==e.head.code&&"true"==e.head.success?(this.$message({type:"success",message:"表格已导入！"}),this.cancel(),this.$emit("updateList")):201==e.head.code&&"false"==e.head.success&&(this.$message({type:"warning",message:e.head.msg}),this.cancel(),this.$emit("updateList"))},uploadError:function(e){this.$message({type:"error",message:"导入表格失败！"})},onBeforeUpload:function(e){}}},r=t("FSgm"),c=t.n(r);var u=function(e){t("69eB")},d=t("C7Lr")(n,c.a,!1,u,"data-v-b0891f5c",null);s.default=d.exports}});
//# sourceMappingURL=54.29cca6e7c673d2d75e09.js.map