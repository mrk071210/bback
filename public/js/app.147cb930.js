(function(e){function t(t){for(var n,o,s=t[0],u=t[1],c=t[2],l=0,f=[];l<s.length;l++)o=s[l],a[o]&&f.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={app:0},a={app:0},i=[];function s(e){return u.p+"js/"+({"Home~about":"Home~about",Home:"Home",about:"about"}[e]||e)+"."+{"Home~about":"23e04657",Home:"df534bf6",about:"4c830069"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={Home:1,about:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise(function(t,r){for(var n="css/"+({"Home~about":"Home~about",Home:"Home",about:"about"}[e]||e)+"."+{"Home~about":"31d6cfe0",Home:"295a6c6a",about:"df4b66f8"}[e]+".css",a=u.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===a))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){c=f[s],l=c.getAttribute("data-href");if(l===n||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.request=n,delete o[e],d.parentNode.removeChild(d),r(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){o[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e),c=function(t){l.onerror=l.onload=null,clearTimeout(f);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");i.type=n,i.request=o,r[1](i)}a[e]=void 0}};var f=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var f=0;f<c.length;f++)t(c[f]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},1:function(e,t){},"59b9":function(e,t,r){"use strict";r("0fb7"),r("450d");var n=r("f529"),o=r.n(n),a=r("795b"),i=r.n(a),s=r("bc3a"),u=r.n(s),c={};function l(e){return 200===e.status||304===e.status?e.data:{error:!0,response:e}}function f(e){if(400===e.status||404===e.status||500===e.status)return o()({message:"服务器访问出错. Error:".concat(e.error,",Message:").concat(e.message),type:"error",duration:5e3}),{error:!0}}function d(e){var t=e.head;return t&&t.success?e:"401"!==t.code?(o()({message:t.msg,type:"error",duration:4e3}),{error:!0}):void 0}c=u.a.create({baseURL:"http://119.3.235.231:3000/",timeout:5e4}),c.interceptors.request.use(function(e){return e},function(e){console.error("error:",e),i.a.reject(e)}),c.interceptors.response.use(function(e){return e},function(e){return console.error("error:"+e),i.a.reject(e)}),t["a"]={get:function(e,t){if(e)return c.get(e,{params:t}).then(l).then(d).catch(f)},post:function(e,t){if(e)return c.post(e,t).then(l).then(d).catch(f)}}},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),o=r.n(n);o.a},"5e27":function(e,t,r){},bcbd:function(e,t,r){"use strict";var n=r("e497"),o=r.n(n);o.a},cd49:function(e,t,r){"use strict";r.r(t);r("0fae");var n=r("9e2f"),o=r.n(n),a=(r("cadf"),r("551c"),r("f751"),r("097d"),r("e503")),i=r.n(a),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},u=[],c=(r("5c0b"),r("2877")),l={},f=Object(c["a"])(l,s,u,!1,null,null,null),d=f.exports,p=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"layout"},[r("el-header",{staticClass:"nav"},[r("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[r("el-menu-item",{attrs:{index:"1"}},[r("router-link",{staticClass:"link",attrs:{to:"/home"}},[e._v("\n          文章\n        ")])],1),r("el-menu-item",{attrs:{index:"2"}},[r("router-link",{staticClass:"link",attrs:{to:"/edit"}},[e._v("\n          新增\n        ")])],1),e.loginFlag?r("div",{staticClass:"userInfo"},[r("img",{attrs:{src:e.userInfo.avatar_url,alt:""}}),r("span",[e._v("Hi,"+e._s(e.userInfo.login))]),r("span",{staticClass:"logout",on:{click:e.logOut}},[e._v("注销")])]):r("el-button",{staticClass:"login",attrs:{type:"success",size:"mini"},on:{click:e.login}},[e._v("\n        github授权登录\n      ")])],1)],1),r("el-main",[r("router-view")],1),r("el-footer",[e._v("Footer")])],1)},h=[],b=(r("96cf"),r("3b8d")),g=r("d225"),v=r("b0b4"),y=r("308d"),w=r("6bb5"),_=r("4e2b"),j=r("9ab4"),O=r("60a3"),H=r("a349"),k={oauth_uri:"https://github.com/login/oauth/authorize",redirect_uri:"",client_id:"",client_secret:""};var E=k,P=r("59b9"),C=function(e){function t(){var e;return Object(g["a"])(this,t),e=Object(y["a"])(this,Object(w["a"])(t).apply(this,arguments)),e.loginFlag=!1,e.userInfo={},e}return Object(_["a"])(t,e),Object(v["a"])(t,[{key:"computed",value:function(){}},{key:"mounted",value:function(){console.log(this.user);var e=this.$route.query.code;e?this.getUser(e):this.user?this.user.id&&(this.loginFlag=!0,this.userInfo=this.user):this.loginFlag=!1}},{key:"login",value:function(){window.localStorage.preventHref=window.location.href,window.location.href="".concat(E.oauth_uri,"?client_id=").concat(E.client_id,"&scope=user:email")}},{key:"logOut",value:function(){this.setUser({}),this.loginFlag=!1}},{key:"getUser",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P["a"].post(this.$urls.getUser,{code:t});case 2:r=e.sent,r.error?this.$message({message:r.header.msg,type:"error"}):(n=r.data,this.setUser(n),this.loginFlag=!0,this.$message({message:r.data.message,type:"success"}),o=window.localStorage.preventHref,o&&(window.location.href=o));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),t}(O["b"]);j["a"]([Object(H["b"])("user")],C.prototype,"user",void 0),j["a"]([Object(H["a"])("setUser")],C.prototype,"setUser",void 0),C=j["a"]([Object(O["a"])({components:{}})],C);var S=C,x=S,U=(r("bcbd"),Object(c["a"])(x,m,h,!1,null,"0db0f5a6",null)),A=U.exports;i.a.use(p["a"]);var T=new p["a"]({mode:"history",routes:[{path:"/",name:"",component:A,children:[{path:"home",name:"Home",component:function(){return Promise.all([r.e("Home~about"),r.e("Home")]).then(r.bind(null,"bb51"))}},{path:"edit",name:"Edit",component:function(){return Promise.all([r.e("Home~about"),r.e("about")]).then(r.bind(null,"1071"))}},{path:"article",name:"Article",component:function(){return Promise.all([r.e("Home~about"),r.e("about")]).then(r.bind(null,"3ad6"))}}]}]}),$=r("2f62"),F={},I=F,R={},M=R,q=r("bd86"),z="SAVE_USER",L="RECEIVE_PRODUCTS",N={user:{}},B={user:function(e){return e.user}},D={setUser:function(e,t){e.commit(z,t)}},J=Object(q["a"])({},z,function(e,t){e.user=t}),V={state:N,getters:B,actions:D,mutations:J},G={all:[]},K={allProducts:function(e){return e.all}},Q={getAllProducts:function(e){e.commit(L,[{id:1,title:"string",price:1,inventory:1}])}},W=Object(q["a"])({},L,function(e,t){e.all=t.products}),X={state:G,getters:K,actions:Q,mutations:W},Y=r("50c1");i.a.use($["a"]);var Z=new $["a"].Store({actions:I,getters:M,modules:{user:V,products:X},plugins:[Object(Y["a"])({storage:window.localStorage,reducer:function(e){return{user:e.user}}})]}),ee=r("0493"),te=r.n(ee),re=(r("b116"),{bar:"bar",createArticle:"article/create",getArticleList:"article/findAll",getArticleDetail:"article/getDetail",getUser:"getUser",updatedArticle:"article/update"}),ne=re;i.a.config.productionTip=!1,i.a.prototype.$https=P["a"],i.a.prototype.$urls=ne,i.a.use(o.a,{size:"mini"}),i.a.use(te.a),new i.a({router:T,store:Z,render:function(e){return e(d)}}).$mount("#app")},e497:function(e,t,r){}});